(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[16115,52935,91487,66777],{727561:(e,t,n)=>{var s=n(567990),o=/^\s+/;e.exports=function(e){return e?e.slice(0,s(e)+1).replace(o,""):e}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var s=n(513218),o=n(707771),i=n(14841),r=Math.max,a=Math.min;e.exports=function(e,t,n){var l,c,d,u,h,p,_=0,g=!1,m=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var n=l,s=c;return l=c=void 0,_=t,u=e.apply(s,n)}function v(e){var n=e-p;return void 0===p||n>=t||n<0||m&&e-_>=d}function y(){var e=o();if(v(e))return b(e);h=setTimeout(y,function(e){var n=t-(e-p);return m?a(n,d-(e-_)):n}(e))}function b(e){return h=void 0,x&&l?f(e):(l=c=void 0,u)}function w(){var e=o(),n=v(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return function(e){return _=e,h=setTimeout(y,t),g?f(e):u}(p);if(m)return clearTimeout(h),h=setTimeout(y,t),f(p)}return void 0===h&&(h=setTimeout(y,t)),u}return t=i(t)||0,s(n)&&(g=!!n.leading,d=(m="maxWait"in n)?r(i(n.maxWait)||0,t):d,x="trailing"in n?!!n.trailing:x),w.cancel=function(){void 0!==h&&clearTimeout(h),_=0,l=p=c=h=void 0},w.flush=function(){return void 0===h?u:b(o())},w}},707771:(e,t,n)=>{var s=n(555639);e.exports=function(){return s.Date.now()}},14841:(e,t,n)=>{var s=n(727561),o=n(513218),i=n(733448),r=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=s(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):r.test(e)?NaN:+e}},442279:(e,t)=>{function n(e,t){return e===t}function s(e){var t=arguments.length<=1||void 0===arguments[1]?n:arguments[1],s=null,o=null;return function(){for(var n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];return null!==s&&s.length===i.length&&i.every((function(e,n){return t(e,s[n])}))||(o=e.apply(void 0,i)),s=i,o}}function o(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return function(){for(var t=arguments.length,s=Array(t),o=0;o<t;o++)s[o]=arguments[o];var i=0,r=s.pop(),a=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(s),l=e.apply(void 0,[function(){return i++,r.apply(void 0,arguments)}].concat(n)),c=function(e,t){for(var n=arguments.length,s=Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o];var i=a.map((function(n){return n.apply(void 0,[e,t].concat(s))}));return l.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i))};return c.resultFunc=r,c.recomputations=function(){return i},c.resetRecomputations=function(){return i=0},c}}var i=t.P1=o(s)},100634:e=>{var t,n,s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"BadgeManagerMutation",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3DeleteBadgeMutation",plural:!1,selections:[t,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"data",plural:!1,selections:[n,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3DeleteBadge",abstractKey:null}],storageKey:null}]},params:{id:"b02365b27ce69f648cde539398a9bef3c506f5fcd3fbadc974256de04ec86078",metadata:{},name:"BadgeManagerMutation",operationKind:"mutation",text:null}};s.hash="ba7787ee8344e34b151f6a5f633c4170",e.exports=s},58041:e=>{var t,n,s={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},n={alias:null,args:null,concreteType:"PrivacyPolicyRules",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sendEventsToFacebook",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sendPixel",storageKey:null}],storageKey:null}],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MarketingPixelQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3GetThirdPartyTrackingSettingsQuery",plural:!1,selections:[t,{kind:"InlineFragment",selections:[n],type:"V3GetThirdPartyTrackingSettings",abstractKey:null}],storageKey:null}]},params:{id:"0af0ebc3d1bdfa898b3fb7209156a29f43e45a5762ade8f5909b21f8930336ca",metadata:{},name:"MarketingPixelQuery",operationKind:"query",text:null}};s.hash="4cbfbeb13b6d75d6f6b35f16cd250f54",e.exports=s,function(e){if("query"===e.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{const t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}(s)},683080:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),o=n(616550),i=n(483240),r=n(260531),a=n(898960),l=n(23256),c=n(785893);const d=(0,s.lazy)((()=>n.e(42876).then(n.bind(n,442876))));function u(e){const{removeInSiteFeedbackModal:t,submitInSiteFeedback:n,inSiteFeedback:s}=(0,l.y)(),{actionFrom:u,isSubmitting:h,modalOpen:p,modalTitle:_,nextPageToRedirect:g,prompt:m,submissionComplete:x,submissionFailure:f}=s,v=(0,o.useLocation)(),y=(0,r.B)();return p?(0,c.jsx)(i.Z,{name:"SafeSuspense_InSiteFeedbackManager_InSiteFeedbackManagerInternal",children:(0,c.jsx)(a.Z,{children:(0,c.jsx)(d,{...e,actionFrom:u,hideModal:()=>t(),isSubmitting:h,location:v,modalOpen:p,nextPageToRedirect:g,prompt:m,requestContext:y,submissionComplete:x,submissionFailure:f,submitFeedback:e=>n(e),title:_})})}):null}},644333:(e,t,n)=>{function s(e){return e?"/pin-creation-tool/":"/idea-pin-builder/"}n.d(t,{Z:()=>s})},971033:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(835686),o=n(55592),i=n(578662),r=n(568310),a=n(581444);const l="sce_lightswitch_organic",c="sce_lightswitch_monetized",d=Object.freeze({dweb:{organic:"web_sce_organic_pinbuilder_dep",monetized:"web_sce_monetized_pinbuilder_dep"},mweb:{organic:"mweb_sce_organic_pinbuilder_dep",monetized:"mweb_sce_monetized_pinbuilder_dep"}});function u(e){const t=(0,o.HG)(),{checkExperiment:n}=(0,s.F)(),u=(0,r.Z)(),h=(0,i.Z)(),p=(0,a.lJ)(h,u),_=d[t?"dweb":"mweb"];return e&&!p&&(n(l),n(c)),!p&&(n(_.organic).anyEnabled||n(_.monetized).anyEnabled)}},245561:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(564342),o=n(512703);let i;const r={},a="https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",l="https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",c="https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",d="https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",u="https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",h="https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",p={[s.oi.CHROME]:{url:a,newWindow:!0},[s.oi.FIREFOX]:{url:l,newWindow:!1},[s.oi.SAFARI]:{url:c,newWindow:!0},[s.oi.IE]:{url:d,newWindow:!1},[s.oi.OPERA]:{url:u,newWindow:!0},[s.oi.EDGE]:{url:h,newWindow:!0}};r.handleExtensionInstall=(e,t)=>{const n=(0,s.u$)(e),i=function(e){return e?p[e].url:void 0}(n);i&&((0,o.Z)(i,function(e){return e?p[e].newWindow:void 0}(n)),t())},r.isExtensionInstalled=()=>i,r.isBrowserExtensionSupported=e=>(0,s.i7)(e)||(0,s.vU)(e)||(0,s.un)(e),r.extensionReady=(e,t=100)=>new Promise((n=>{setTimeout((()=>{document.body&&(i=document.body.hasAttribute("data-pinterest-extension-installed"),r.isBrowserExtensionSupported(e)||(i=!0),n(i))}),t)})),r.initBrowserExtension=()=>{Promise.resolve().then(n.bind(n,763260)).then((({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:i})}))};const _=r},868426:(e,t,n)=>{n.d(t,{Z:()=>s});const s=["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto","Oxygen-Sans","Ubuntu","Cantarell",'"Fira Sans"','"Droid Sans"','"Helvetica Neue"',"Helvetica",'"ヒラギノ角ゴ Pro W3"','"Hiragino Kaku Gothic Pro"',"メイリオ","Meiryo",'"ＭＳ Ｐゴシック"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},220927:(e,t,n)=>{n.d(t,{Z:()=>ce});var s=n(667294),o=n(616550),i=n(883119),r=n(946689),a=n(483240),l=n(898960),c=n(785893);const d=(0,s.lazy)((()=>n.e(5206).then(n.bind(n,205206)))),{Provider:u}=(0,r.Z)("LinkedBusinessAccountConfirmationModal");function h({children:e,onDismiss:t}){const[n,o]=(0,s.useState)(!1),i=(0,s.useMemo)((()=>({showLinkedBusinessAccountConfirmationModal:()=>{o(!0)}})),[]);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(u,{value:i,children:e}),n&&(0,c.jsx)(a.Z,{name:"SafeSuspense_LinkedBusinessAccountConfirmationModalContextProvider_LinkedBusinessAccountConfirmationModal",children:(0,c.jsx)(l.Z,{children:(0,c.jsx)(d,{onDismiss:()=>{o(!1),t()}})})})]})}var p=n(152935),_=n(434012),g=n(376410);const m=()=>{const e=(0,_.ZP)();return(0,c.jsx)(i.J0,{iconAccessibilityLabel:e.bt("Info message", "Info message", "header.accountsOptionsMenu.info.icon", undefined, true),message:(0,c.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,g.nk)(e.bt("Business Access {{ isNow }} Business Manager {{ restOfMsg }}", "Business Access {{ isNow }} Business Manager {{ restOfMsg }}", "header.accountsOptionsMenu.newEntryPtBold", undefined, true),{isNow:(0,c.jsx)(i.xv,{inline:!0,children:e.bt("is now", "is now", "header.accountsOptionsMenu.newEntryPtIsNow", undefined, true)}),restOfMsg:(0,c.jsx)(i.xv,{inline:!0,children:e.bt("and can now be found in the Business drop-down menu.", "and can now be found in the Business drop-down menu.", "header.accountsOptionsMenu.newEntryPtRestOfMsg", undefined, true)})})}),type:"info"})};var x=n(545168),f=n(281105),v=n(948997),y=n(988381);function b(){const e=(0,_.ZP)();return{addAccount:{value:"add-account",label:e.bt("Add account", "Add account", "header.accountsOptionsMenu.addSecondaryAccountButton", undefined, true)},businessAccess:{value:"business-access",label:e.bt("Business Access", "Business Access", "Link to business Access Landing Page", undefined, true)},businessAccount:e=>({value:`business-account-${e.id}`,label:e.username}),contentClaiming:{value:"content-claiming",label:e.bt("Content Claiming Portal", "Content claiming portal", "header.accountsOptionsMenu.contentManagementPortal", undefined, true)},convertToBusiness:{value:"convert-to-business",label:e.bt("Convert to business", "Convert to business", "header.accountsOptionsMenu.addAccountButton", undefined, true)},currentAccount:{value:"current-account",label:e.bt("Current account", "Current account", "SwitchAccountsList.CurrentlyInItem", undefined, true)},failedAccount:{value:"failed-account",label:e.bt("Failed to log in to this account", "Failed to log into this account", "header.accountsOptionsMenu.failedAccountItem", undefined, true)},getHelp:{value:"get-help",label:e.bt("Get help", "Get help", "header.accountsOptionsMenu.getHelp", undefined, true)},homefeedTuner:{value:"homefeed-tuner",label:e.bt("Tune your home feed", "Tune your home feed", "header.accountsOptionsMenu.homefeedTuner", undefined, true)},installApp:e=>({value:"install-app",label:e}),lbaAccountSwitch:e=>({value:`lba-account-switch-${e.id}`,label:e.username}),logOut:{value:"log-out",label:e.bt("Log out", "Log out", "header.accountsOptionsMenu.logout", undefined, true)},parentAccount:e=>({value:`parent-account-${e.id}`,label:e.username}),termsOfService:{value:"tos-policy",label:e.bt("See Terms of Service", "See terms of service", "header.accountsOptionsMenu.termsOfService", undefined, true)},privacyPolicy:{value:"privacy-policy",label:e.bt("See Privacy Policy", "See privacy policy", "header.accountsOptionsMenu.Privacy", undefined, true)},reportsAndViolationsCenter:{value:"reports-and-violations-center",label:e.bt("Reports and Violations Centre", "Reports and violations center", "header.accountsOptionsMenu.reportsAndViolationsCenter", undefined, true)},reportBug:{value:"report-bug",label:e.bt("Report a bug", "Report a bug", "header.accountsOptionsMenu.reportBug", undefined, true)},settings:{value:"settings",label:e.bt("Settings", "Settings", "header.accountsOptionsMenu.settings", undefined, true)},settingsPrivacy:{value:"settingsPrivacy",label:e.bt("Your privacy rights", "Your privacy rights", "header.accountsOptionsMenu.settingsPrivacy.label", undefined, true)},adsSupport:{value:"ads-support",label:e.bt("Ads support", "Ads support", "header.accountsOptionsMenu.adsSupport", undefined, true)},requestFeature:{value:"request-a-feature",label:e.bt("Request a feature", "Request a feature", "header.accountsOptionsMenu.requestAFeature", undefined, true)},pinterestTvStudio:{value:"pinterest-tv-studio",label:e.bt("Pinterest TV Studio", "Pinterest TV Studio", "Link to Pinterest Tv Creator Studio", undefined, true)},betaTester:{value:"be-a-beta-tester",label:e.bt("Be a beta tester", "Be a beta tester", "header.accountsOptionsMenu.beBetaTesterProgram", undefined, true)}}}var w=n(431642),S=n(471151),A=n(301347),P=n(853101),C=n(835686),E=n(260531),I=n(233423),j=n(900146),T=n(643517),k=n(459576),R=n(578662),Z=n(512703),L=n(234983),D=n(495025),O=n(187689),M=n(499237),z=n(5101);const B=["chrome","windows"];var N=n(816987);const F=(0,s.lazy)((()=>n.e(27537).then(n.bind(n,227537)))),{Provider:H,useHook:U}=(0,r.Z)("reportBugModalContext");function q({children:e}){const t=(0,_.ZP)(),[n,o]=(0,s.useState)(!1),i=(0,R.Z)(),r=(0,s.useCallback)((()=>{o(!0)}),[]),d=(0,s.useMemo)((()=>({handleShowReportBugModal:r})),[r]);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(H,{value:d,children:e}),n&&i.isAuth&&(0,c.jsx)(N.ZP,{accessibilityModalLabel:t.bt("Report bug", "Report bug", "header.accountsOptionsMenu.logout", undefined, true),onDismiss:()=>{o(!1)},children:(0,c.jsx)(a.Z,{name:"SafeSuspense_ReportBugModal_ReportBug",children:(0,c.jsx)(l.Z,{children:(0,c.jsx)(F,{onDismiss:()=>{o(!1)},username:i.username})})})})]})}function G({onDismiss:e,advertiser:t,showAdsSupportOption:n,isWwwSite:o}){var r,a;const l=(0,R.Z)(),d=(0,_.ZP)(),{logContextEvent:u}=(0,x.v)(),{isLoaded:h,data:p}=(0,I.Z)({name:"ApiResource",options:{url:"/v3/users/me/",data:{fields:"user.content_claiming_access"}}}),g=(0,E.B)(),{country:N,countryFromIp:F,isAuthenticated:H}=g,q=H&&k.gs.indexOf(N)>-1||k.gs.indexOf(F)>-1,{content_claiming_access:G=!1}=p||{},{handleShowReportBugModal:V}=U(),W=(0,w.Z)(),$=function(){const e=(0,_.ZP)(),t=(0,s.useContext)(z.Z),n=(0,D.kM)(window,t),o=(0,L.Z)(),i=e=>{o({component:247,element:e,event_type:101})},r=()=>{if("windows"===n)i(11409),(0,Z.Z)(`${T.TM}&cid=flyout_cta`,!0);else if("chrome"===n&&t){const e=t();e&&(i(11410),e.prompt())}},a=(0,M.Z)(e.bt("Install the {{appName}} app", "Install the {{appName}} app", "header.accountsOptionsMenu.installApp", undefined, true),{appName:(0,O.Z)(n)});return B.includes(n)?{onClick:r,text:a}:null}(),{checkExperiment:Y}=(0,C.F)(),K=l.isAuth&&!!l.isEmployee,X=!!l.isAuth&&l.isPartner,J=!!l.isAuth&&!l.isLimitedLogin,Q=(0,f.Z)(),{fetchedUserAccounts:ee,handleAccountRepClick:te,handleAddSecondaryAccount:ne,handleClick:se,handleLinkedAccountSwitch:oe,handleUnlockBusinessTools:ie,isLoading:re,showUnlockBusinessTools:ae}=(0,S.Z)(e,o),le=b(),{anyEnabled:ce}=Y("web_pinterest_tv_creator_studio_entry_points"),{anyEnabled:de}=Y("digital_services_act_portal");let ue=ee.filter((e=>!e.partner&&!(e.owners||[]).length||e.partner&&!e.partner.isLinkedBusiness));const he=ee.find((e=>e.id===(l.isAuth&&l.id)));l.isAuth&&(null===(r=l.partner)||void 0===r?void 0:r.is_linked_business)&&(ue=ue.sort((e=>{var t;return null!=he&&null!==(t=he.owners)&&void 0!==t&&t.some((t=>t.id===e.id))?-1:1})));const pe=(0,j.Z)({isUnder16:!!l.isAuth&&l.isUnder16,isPrivateProfile:!!l.isAuth&&l.isPrivateProfile}),_e=!pe||pe&&(ue.length>1||1===ue.length&&ue[0].businesses.length>0),ge=re&&(0,c.jsx)(A.Z,{}),me=null!=he&&null!==(a=he.businesses)&&void 0!==a&&a.length?he.businesses.map((e=>l.id!==e.id&&(0,c.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>oe(e,he.id),option:le.lbaAccountSwitch(e),children:(0,c.jsx)(y.Z,{user:e},e.id)},e.id))):null,xe=ue.map((e=>{var t;return e.id!==(l.isAuth&&l.id)?[(0,c.jsx)(i.Lt.Item,{onSelect:()=>te(e),option:le.parentAccount(e),children:(0,c.jsx)(y.Z,{user:e,isCurrentAccount:(l.isAuth&&l.id)===e.id})},e.id),...null!=e&&null!==(t=e.businesses)&&void 0!==t&&t.length?e.businesses.map((t=>l.id!==t.id&&(0,c.jsx)(i.Lt.Item,{dataTestId:"lba-account-switch-option",onSelect:()=>oe(t,e.id),option:le.businessAccount(t),children:(0,c.jsx)(y.Z,{user:t},t.id)},t.id))):[]]:null})),fe=o&&(0,c.jsx)(i.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:ne,option:le.addAccount}),ve=(0,c.jsx)(i.Lt.Item,{dataTestId:"header-menu-add-account",onSelect:ne,option:le.addAccount}),ye=ae&&(0,c.jsx)(i.Lt.Item,{dataTestId:"header-menu-business-account",onSelect:ie,option:le.convertToBusiness}),be=h&&G&&(0,c.jsx)(i.Lt.Link,{href:"/content-claiming",onClick:()=>se(13606),option:le.contentClaiming}),we=K&&(0,c.jsx)(i.Lt.Item,{onSelect:()=>{V(),se(13607),e()},option:le.reportBug}),Se=(0,c.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-settings",onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(247)},href:J?`https://${(0,v.Z)()}/settings`:"",option:le.settings}),Ae=Y("aid_exp_business_manager_dropdown_entrypoint").anyEnabled;let Pe=null;X&&(Pe=Ae?(0,c.jsx)(m,{}):(0,c.jsx)(i.Lt.Link,{onClick:()=>se(11719),href:`https://${(0,v.Z)()}/business/business-access/`,dataTestId:"header-menu-options-business-access",option:le.businessAccess}));const Ce=!q&&X&&ce&&(0,c.jsx)(i.Lt.Link,{onClick:()=>{u({event_type:10218,view_type:588,element:13290,aux_data:{elementId:"header-menu-options-creator-studio"}}),se(13290)},href:`https://${(0,v.Z)()}/tv/studio/`,dataTestId:"header-menu-options-creator-studio",badge:{text:"Beta",type:"info"},option:le.pinterestTvStudio}),Ee=(0,c.jsx)(i.Lt.Link,{onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(11345)},href:J?"/edit":"",option:le.homefeedTuner}),Ie=!X&&$?(0,c.jsx)(i.Lt.Item,{onSelect:()=>{$.onClick(),e()},option:le.installApp($.text)}):null,je=(0,c.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-privacy",option:le.settingsPrivacy,onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(13334)},href:J?`https://${(0,v.Z)()}/settings/privacy`:""}),Te=de?(0,c.jsx)(i.Lt.Link,{onClick:({event:e})=>{if(Q)return e.stopPropagation(),void Q();se(14618)},href:J?"/reports-and-violations":"",option:le.reportsAndViolationsCenter}):null,ke=X&&n&&(Re=7,!t||(0,P.Z)((t||{}).actions||[],Re))&&(0,c.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-ads-support",isExternal:!0,onClick:()=>se(10106),href:T.Jb,option:le.adsSupport});var Re;const Ze=X?(0,c.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-request-a-feature",isExternal:!0,onClick:()=>se(11345),href:T.W3+"?utm_source=pinterest&utm_medium=settings&utm_campaign=request_a_feature_exp",option:le.requestFeature}):null,Le=(0,c.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-help",isExternal:!0,onClick:()=>se(8002),href:`${T.gO}?source=gear_menu_web`,option:le.getHelp}),De=(0,c.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-tos",isExternal:!0,onClick:()=>se(61),href:T.U5,option:le.termsOfService}),Oe=(0,c.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-policy",isExternal:!0,onClick:()=>se(8004),href:T.R_,option:le.privacyPolicy}),Me=(0,c.jsx)(i.Lt.Link,{dataTestId:"header-menu-options-beta-tester",isExternal:!0,onClick:()=>se(13613),href:T.LO,option:le.betaTester}),ze=(0,c.jsx)(i.Lt.Item,{dataTestId:"header-menu-options-logout",onSelect:W,option:le.logOut}),Be=_e?(0,c.jsxs)(i.Lt.Section,{label:d.bt("Your accounts", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[ge,me,xe,!pe&&fe,!pe&&ye]},"your-accounts"):null,Ne=(0,c.jsxs)(i.Lt.Section,{label:d.bt("Your accounts", "Your accounts", "SwitchAccountsList.YourAccountsTitle", undefined, true),children:[ge,me,xe,!pe&&ve,!pe&&ye,Se,Pe]},"your-accounts"),Fe=(0,c.jsxs)(i.Lt.Section,{label:d.bt("Content", "Content", "header.accountsOptionsMenu.contentHeader", undefined, true),children:[be,Te,Ce,Ie]}),He=(0,c.jsxs)(i.Lt.Section,{label:d.bt("Help", "Help", "header.accountsOptionsMenu.helpHeader", undefined, true),children:[Le,ke,Ze,we]}),Ue=(0,c.jsxs)(i.Lt.Section,{label:d.bt("Privacy", "Privacy", "header.accountsOptionsMenu.privacyHeader", undefined, true),children:[Oe,je]}),qe=(0,c.jsxs)(i.Lt.Section,{label:"",children:[De,ze]}),Ge=(0,c.jsxs)(i.Lt.Section,{label:d.bt("More options", "More options", "header.accountsOptionsMenu.optionsHeader", undefined, true),children:[be,Te,we,Se,Pe,Ce,Ee,Ie,je,ke,Ze,Le,De,Oe,Me,ze]});return{yourAccount:X?Ne:Be,moreOptions:X?[Fe,He,Ue,qe]:Ge}}function V({failedAccount:e,handleReauthAccount:t,handleRemoveUnauthAccount:n}){const o=(0,_.ZP)();return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsx)(i.xu,{marginTop:4,children:(0,c.jsx)(i.zx,{fullWidth:!0,text:o.bt("Log in again", "Log in again", "header.accountsOptionsMenu.failedAccountLoginButton", undefined, true),color:"red",onClick:t})}),(0,c.jsx)(i.xu,{marginTop:3,children:(0,c.jsx)(i.zx,{fullWidth:!0,text:o.bt("Remove account", "Remove account", "header.accountsOptionsMenu.failedAccountRemoveButton", undefined, true),onClick:()=>n(e.id)})})]})}var W=n(666742),$=n(273038);function Y({anchor:e,onDismiss:t,advertiser:n,showAccountSwitcher:s,showAdsSupportOption:o,isWwwSite:r}){var a;const l=(0,R.Z)(),d=(0,_.ZP)(),{failedAccount:u,fetchedUserAccounts:h,handleAccountRepClick:p,handleLinkedAccountSwitch:g,handleReauthAccount:m,handleRemoveUnauthAccount:x}=(0,S.Z)(t,r),f=b(),v=h.find((e=>e.id===(l.isAuth&&l.id))),w=l.isAuth&&(null===(a=l.partner)||void 0===a?void 0:a.is_linked_business),{yourAccount:A,moreOptions:P}=G({onDismiss:t,advertiser:n,showAdsSupportOption:o,isWwwSite:r});return(0,c.jsx)($.Z,{children:(0,c.jsxs)(i.Lt,{anchor:e,idealDirection:"down",onDismiss:t,id:"HeaderAccountOptionsFlyout",zIndex:new i.Ry(1e3),isWithinFixedContainer:!0,children:[s&&(u?(0,c.jsxs)(i.Lt.Section,{label:d.bt("You're no longer logged in to", "Oh no! You're no longer logged into", "header.accountsOptionsMenu.failedAccount", undefined, true),children:[(0,c.jsx)(i.Lt.Item,{onSelect:()=>{},option:f.failedAccount,children:(0,c.jsx)(y.Z,{user:u})}),(0,c.jsx)(V,{failedAccount:u,handleReauthAccount:m,handleRemoveUnauthAccount:x})]}):[(0,c.jsx)(i.Lt.Section,{label:d.bt("Currently in", "Currently in", "SwitchAccountsList.CurrentlyInTitle", undefined, true),children:!!v&&(0,c.jsx)(i.Lt.Item,{onSelect:()=>w?g(v,void 0):p(v),option:f.currentAccount,selected:f.currentAccount,children:(0,c.jsx)(i.rU,{href:r?`/${v.username}/`:`${W.C0}/${v.username}/`,underline:"none",children:(0,c.jsx)(y.Z,{user:v,isCurrentAccount:!0})})})},"currently-in"),A]),P]})})}const K="MOBILE",X="DESKTOP",J=e=>[K,X].includes(e),Q=e=>"STERLING"===e,ee=e=>"ANALYTICS"===e;var te=n(367356),ne=n(504289),se=n(68625),oe=n(593954),ie=n(708798),re=n(598349),ae=n(338928),le=n(39005);function ce({currentSite:e,isSterlingOnSteroids:t,isAdsNavMenuEnabled:n,advertiser:r}){const a=(0,_.ZP)(),{showAccountMenuFlyout:l,updateHeaderState:d}=(0,ae.J)(),u=e=>{d({type:e?"showAccountMenuFlyout":"hideAccountMenuFlyout"})},[g,m]=(0,s.useState)(!1),x=(0,o.useHistory)(),f=(0,R.Z)(),v=(0,I.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:f.isAuth?f.id:""}}),y=(0,s.useRef)(),b=J(e)&&!t||ee(e)||Q(e),w=Q(e)||n,S=(0,o.useLocation)(),A=(0,ie.F9)();(0,s.useEffect)((()=>{(0,te.rL)({showOneToast:A.showOneToast,i18n:a,location:S,history:x,username:f.username||"",fullName:f.fullName||"",avatarUrl:f.imageMediumUrl||""})}),[]),(0,s.useEffect)((()=>(f.isAuth&&f.partner&&(0,se.Mt)(f,v.data),()=>{f.isAuth&&f.partner&&(0,se.CV)("flyout.dismiss")})),[]);const P=()=>{u(!1)};(0,s.useEffect)((()=>{var e,t;(null!==(e=null===(t=v.data)||void 0===t?void 0:t.businesses)&&void 0!==e?e:[]).length>0&&m(!0)}),[v]);const{pathname:C}=S,E=!(C.startsWith("/settings")||C.startsWith("/edit"))&&(f.username&&C.startsWith(`/${f.username}`)||C.startsWith("/news_hub"));return(0,c.jsx)(re.T,{children:(0,c.jsx)(q,{children:(0,c.jsxs)(h,{onDismiss:P,children:[(0,c.jsx)(i.xu,{ref:y,"data-test-id":"header-accounts-options-button",children:(0,c.jsx)(i.hU,{accessibilityLabel:a.bt("Accounts and more options", "Accounts and more options", "header.accountsOptionsMenu.accountsOptionsMenuButton", undefined, true),icon:"arrow-down",iconColor:l?"darkGray":"gray",onClick:()=>{u(!l),m(!1)},size:"xs",tooltip:{accessibilityLabel:"",text:a.bt("Accounts and more options", "Accounts and more options", "navbar.actionsOptionsButton.tooltip", undefined, true),zIndex:new i.H3([new i.Ry(le.fe)])}})}),l&&(0,c.jsx)(oe.Z,{id:"HeaderAccountsOptionsFlyout",children:(0,c.jsx)(Y,{anchor:y.current,onDismiss:P,showAccountSwitcher:b,showAdsSupportOption:w,advertiser:r,isWwwSite:J(e)})}),g&&(0,c.jsx)(oe.Z,{id:"LinkedBusinessAccountFlyout",children:(0,c.jsx)(p.default,{anchor:y.current,experienceIds:[502787],placementId:1000109,showCaret:!0})}),(0,ne.LO)(S)&&(0,c.jsx)(p.default,{anchor:y.current,idealDirection:"left",experienceIds:[503137],placementId:1000303}),f.isAuth&&!f.partner?(0,c.jsx)(p.default,{anchor:y.current,experienceIds:[503893,503602],onClickComplete:()=>x.push("/settings"),placementId:1000109,showCaret:!0}):null,E&&(0,c.jsx)(p.default,{anchor:y.current,experienceIds:[505283],onClickComplete:()=>{x.push("/settings/privacy/")},placementId:1000109,showCaret:!0,textWeight:"bold",hasFullWidthButton:!1,textAlign:"center",flyoutSize:"md"})]})})})}},988381:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(883119),o=n(658342),i=n(434012),r=n(785893);function a(e){var t;return null!==(t=e.partner)&&void 0!==t&&t.isLinkedBusiness?e.partner.businessName||e.fullName||e.username:e.fullName||e.username}function l(e){const{imageMediumUrl:t}=e;return t&&!t.includes("static/images/user/default")?t:""}function c({user:e,isCurrentAccount:t}){var n,c;const d=(0,i.ZP)(),u=e.partner,h=null===(n=e.partner)||void 0===n?void 0:n.isLinkedBusiness;return(0,r.jsxs)(s.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginEnd:4,rounding:2,"data-test-id":"HeaderAccountsOptionsMenuAccountRep",children:[(0,r.jsx)(s.xu,{flex:"none",height:60,marginEnd:2,rounding:"circle",width:60,children:(0,r.jsx)(o.qE,{accessibilityLabel:"",name:a(e),src:l(e)})}),(0,r.jsxs)(s.xu,{maxWidth:176,children:[(0,r.jsx)(s.xv,{lineClamp:1,weight:"bold",children:a(e)}),(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,r.jsx)(s.xv,{color:"subtle",size:"200",lineClamp:1,children:u?d.bt("Business", "Business", "SwitchAccountsListItem.BusinessAccount.label", undefined, true):d.bt("Personal", "Personal", "SwitchAccountsListItem.PersonalAccount.label", undefined, true)})}),t&&(0,r.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"2px"}},children:(0,r.jsx)(s.xv,{color:"subtle",size:"200",lineClamp:1,children:h?null===(c=e.partner)||void 0===c?void 0:c.bizOwnershipEmail:e.email})})]})]})}},431642:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(234983),o=n(68625),i=n(703247),r=n(874796),a=n(578662),l=n(200949);function c(){const e=(0,a.Z)(),t=(0,s.Z)(),n=(0,i.aU)(),c=(0,l.a)(),{headerVisible:d,activeClient:u,changeClient:h}=c||{};return function(){t({event_type:101,component:8,element:8005}),d&&u?h():(0,r.lv)()>1?(e.isAuth&&((0,o.RD)(e.id),(0,o.CV)("utils.user_deleted",{deleted_user:e.id})),n({redirectUrl:"/",source:"user_header",localStorageItems:(0,r.Q)()})):((0,o.CV)("utils.group_deleted"),n({redirectUrl:"/",source:"user_header"}))}}},471151:(e,t,n)=>{n.d(t,{Z:()=>x});var s=n(667294),o=n(616550),i=n(741208),r=n(904062),a=n(167522),l=n(545168),c=n(406571),d=n(654504),u=n(224731),h=n(68625),p=n(643517),_=n(578662),g=n(598349),m=n(531142);function x(e,t){const{flushContextEvents:n,logContextEvent:x}=(0,l.v)(),[f,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(null),w=(0,o.useHistory)(),S=(0,_.Z)(),{showAccountSwitcherLoginModal:A}=(0,g.g)(),{userAccounts:P}=(0,m.N)(),{data:C}=(0,a.iY)(),E=(0,c.Z)(),I=!(!S.isAuth||S.partner||null==C||!C.businesses)&&0===C.businesses.length;(0,s.useEffect)((()=>(S.isAuth&&(0,h.Mt)(S,C),()=>{(0,h.CV)("flyout.dismiss")})),[]),(0,s.useEffect)((()=>((0,h.CV)("modal.shown"),()=>{(0,h.CV)("modal.dismiss")})),[]),(0,s.useEffect)((()=>{P.length>1&&x({event_type:13,view_type:234,component:13369,element:12722})}),[x,P]);const j=(e,t)=>{throw(0,h.z3)(e,"account_switcher_flyout"),v(!1),t};return{failedAccount:y,fetchedUserAccounts:P,handleAccountRepClick:e=>{S.isAuth&&e.id!==S.id&&(e=>{const{id:t}=e;v(!0),x({event_type:101,component:13369,element:11196}),(0,h.CV)("switch_account_click",{destination_user_id:t},"account_switcher_flyout");const s={get_user:!0,switch_account:t};d.Z.pause(u.LU),n(!0),E({creds:s,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then(((n={})=>{var s,o;null!=n&&null!==(s=n.resource_response)&&void 0!==s&&null!==(o=s.data)&&void 0!==o&&o.user?(0,h.iS)("/",t,"account_switcher_flyout"):((0,h.CV)("no_api_access_token",{destination_user_id:t},"account_switcher_flyout"),(0,h.z3)(t,"account_switcher_flyout"),b(e),v(!1))}),(e=>{j(t,e)}))})(e)},handleAddSecondaryAccount:()=>{(0,h.CV)("add_account_click",null,"account_switcher_flyout"),x({event_type:101,component:8,element:12756}),e(),w.push(p.rO)},handleClick:t=>{13290!==t&&x({event_type:101,component:8,element:t}),e()},handleLinkedAccountSwitch:(e,s)=>{const{partner:o}=e;if(v(!0),x({event_type:101,component:13369,element:null!=o&&o.isLinkedBusiness?11195:11194}),d.Z.pause(u.LU),n(!0),null!=o&&o.isLinkedBusiness){const t={business_id:e.id,get_user:!0,owner_id:s};i.Z.increment("web.partner.linked_business_account.switch_account_attempt",1),E({creds:t,loggingOptions:{loggingData:{container:"account_switcher"},loginAttemptContextEvent:{event_type:7534,view_type:234,component:13369}},isAccountSwitch:!0}).then((t=>{i.Z.increment("web.partner.linked_business_account.switch_account_success",1),(0,h.iS)("/",e.id,"account_switcher_flyout")}),(t=>{j(e.id,t)}))}else r.Z.create("UserSessionResource",{disable_auth_failure_redirect:!0}).callDelete().then((()=>{S.isAuth&&((0,h.RD)(S.id),(0,h.iS)(t?`/${e.username}`:"/",S.id,"account_switcher_flyout"))}),(e=>{S.isAuth&&j(S.id,e)}))},handleReauthAccount:()=>{(0,h.CV)("switch_failure_prompt.login_click",null,"account_switcher_flyout"),b(null),A("account_switcher_flyout",null==y?void 0:y.email)},handleRemoveUnauthAccount:e=>{(0,h.CV)("switch_failure_prompt.account_removed",{removed_user_id:e},"account_switcher_flyout"),(0,h.RD)(e),b(null)},handleUnlockBusinessTools:()=>{e(),S.isAuth?window.location.href="https://www.pinterest.com/convert-business":w.push(`${p.ms}?utm_source=pinterest&utm_medium=settings&utm_campaign=convert_settings`),x({event_type:101,component:8,element:10299})},isLoading:f,showUnlockBusinessTools:I}}},396681:(e,t,n)=>{n.d(t,{Z:()=>i});n(441143);var s=n(785893);class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function i(e){const{css:t,unsafeCSS:n,...i}=e,r=String(t||"")||n||"";return!!r?(0,s.jsx)("style",{...i,dangerouslySetInnerHTML:{__html:String(o.factory(r))}}):null}},853101:(e,t,n)=>{function s(e,t){return e.includes(t)||e.includes(80)}n.d(t,{Z:()=>s})},900146:(e,t,n)=>{n.d(t,{Z:()=>s});const s=({isUnder16:e,isPrivateProfile:t})=>e||t},593954:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(883119),o=n(785893);function i(e){const{children:t,display:n,id:i}=e;return(0,o.jsx)(s.xu,{"data-test-id":i,display:n,children:t})}},407069:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(87870),o=n(221983);const i={campaignFilter:"all",adGroupFilter:"all",adFilter:"all"},r=e=>{let t={};return e&&(t={objectiveTypes:[e]}),t},a={overview:()=>"/",reporting:e=>{const t=e.objectiveType||null;delete e.objectiveType;const n={...e,...r(t)};return(0,o.Z)("/reporting/campaigns/",n)},reportingAdGroup:e=>{const{campaignId:t,objectiveType:n,showAllEntities:s,adGroupId:a,message:l}=e,c=a?{adGroupIds:[a]}:{},d={campaignIds:[t],...s?i:{},...r(n),...c,message:l};return(0,o.Z)("/reporting/adgroups/",d)},campaign:e=>{const{id:t,objectiveType:n}=e;return(0,o.Z)("/reporting/adgroups/",{campaignIds:[t],...r(n)})},editCampaign:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({campaignId:e.id,view:"campaign"}),adgroup:e=>{const{id:t,objectiveType:n,showAllEntities:s,pinPromotionId:a,campaignId:l}=e;if("TEMPORARY_SHOPPING"===n||"CATALOG_SALES"===n)return(0,o.Z)("/reporting/productgroups/",{adGroupIds:[t],...r(n)});{const e=s?i:{},c=l?{campaignIds:[l]}:{},d=a?{pinPromotionIds:[a]}:{};return(0,o.Z)("/reporting/ads/",{adGroupIds:[t],...r(n),...e,...d,...c})}},editAdGroup:e=>e.isAutomatedCampaign?a.editAutomated({campaignId:e.id,view:"campaign"}):a.editV2({adGroupId:e.id,view:"adgroup"}),pinPromotion:e=>{const{id:t,adFilter:n}=e,s=n?{adFilter:n}:{};return(0,o.Z)("/reporting/ads/",{pinPromotionIds:[t],...s})},editPinPromotion:e=>{const t=e.isCreatingPins?{isCreatingPins:!0}:{},n=e.pinPromotionId?{pinPromotionId:e.pinPromotionId}:{};return a.editV2({adGroupId:e.adGroupId,view:"ad",...n,...t})},productGroup:e=>{const{id:t,name:n}=e;return(0,o.Z)("/reporting/productgroups/",{productGroupIds:[t],name:n})},campaigns:()=>"/reporting/campaigns/",adgroups:()=>"/reporting/adgroups/",ads:()=>"/reporting/ads/",productgroups:()=>"/reporting/productgroups/",campaignNegativeKeywords:()=>"/reporting/campaignNegativeKeywords/",campaignSearchQueries:()=>"/reporting/campaignSearchQueries/",adGroupNegativeKeywords:()=>"/reporting/adGroupNegativeKeywords/",adGroupPositiveKeywords:()=>"/reporting/adGroupPositiveKeywords/",adGroupSearchQueries:()=>"/reporting/adGroupSearchQueries/",ad:e=>a.pinPromotion(e),campaignMode:e=>(0,o.Z)("/ads/campaign_mode/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),create:e=>{const{campaignId:t,objectiveType:n,partialCreate:s,catalogsFeedId:i,managedClientId:r,productGroupId:a,resumeLastDraft:l}=e,c={};return t&&s&&(c.campaignId=t),n&&(c.objectiveType=n),"CATALOG_SALES"===n&&i&&(c.catalogsFeedId=i),a&&(c.productGroupId=a),r&&(c.managedClientId=r),l&&(c.resumeLastDraft=!0),(0,o.Z)("/ads/create/",c)},createAutomated:e=>(0,o.Z)("/automated/ads/create/",e),editV2:e=>(0,o.Z)("/ads/edit/",e),editAutomated:e=>(0,o.Z)("/automated/ads/edit/",e),editDraftCampaign:e=>(0,o.Z)("/ads/edit_draft/",{campaignId:e.campaignId,view:"campaign"}),duplicateCampaign:e=>(0,o.Z)("/ads/duplicate/",e),audiences:e=>(0,o.Z)("/audiences/",e.managedClientId?{managedClientId:e.managedClientId}:void 0),audience_debug:()=>"/audience_debug/",prepaid_spend_campaign_breakdown:()=>"/billing/prepaid_spend_campaign_breakdown/",billing:e=>{const{page:t,subSection:n,nextStepUrl:i}=e;switch(t){case s.kM.BILLING_HISTORY:return"/billing/history/";case s.kM.ORDER_LINES:return"/billing/order_lines/";case s.kM.PROMOTIONS:return"/billing/promotions/";case s.kM.DOCUMENTS:return"/billing/documents/";case s.kM.PREPAID_CAMPAIGN_SPEND:return"/billing/prepaid_campaign_spend_summary/";default:const e={};return n&&(e.section=n),i&&(e.next_step_link_url=i),(0,o.Z)("/billing/",e)}},bulk:e=>{const{subSection:t,page:n,jobStarted:i}=e||{};switch(n){case s.fm.UPLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/upload_template/",{section:t});case s.fm.DOWNLOAD_TEMPLATE:return(0,o.Z)("/bulk_editor/download_template/",{section:t});case s.fm.HISTORY:return(0,o.Z)("/bulk_editor/history/",{section:t,job_started:i});case s.fm.RESOURCES:return(0,o.Z)("/bulk_editor/resources/",{section:t});default:return"/bulk_editor/"}},history:e=>(0,o.Z)("/history/",e),shopping:e=>a.reporting(r("TEMPORARY_SHOPPING")),pinterest_tag:e=>{const{page:t,subSection:n,platform:i,source:r,origin:a}=e;switch(t){case s.qp.PINTEREST_EVENT_HISTORY:return r?(0,o.Z)("/conversions/event-history/",{source:r}):"/conversions/event-history/";case s.qp.CONVERSION_HEALTH:return"/conversions/health/";case s.qp.PINTEREST_TEST_EVENTS:return(0,o.Z)("/conversions/test-events/",{subPage:n,platform:i});case s.qp.PINTEREST_TAG:return(0,o.Z)("/conversions/tag/",{subPage:n,platform:i});case s.qp.PINTEREST_TAG_MANUAL_SETUP_FLOW:return i?(0,o.Z)("/conversions/tag_manual_setup/",{platform:i,source:r}):"/conversions/tag_manual_setup/";case s.qp.PINTEREST_TAG_EVENTS:return"/conversions/tag-events/";case s.qp.PINTEREST_TAG_HEALTH:return"/conversions/tag-health/";case s.qp.CONVERSION_UPLOAD:return(0,o.Z)("/conversions/upload/",{subPage:n});case s.qp.UPLOAD_HISTORY:return(0,o.Z)("/conversions/history/",{subPage:n});case s.qp.PCA_UPLOAD_HISTORY:return(0,o.Z)("/conversions/pca_history/",{subPage:n});case s.qp.PCA_UPLOAD:return(0,o.Z)("/conversions/pca_upload/",{subPage:n});case s.qp.CONVERSIONS_API_MANUAL_SETUP_FLOW:return r||a?(0,o.Z)("/conversions/api_manual_setup/",{source:r,origin:a}):"/conversions/api_manual_setup/";case s.qp.CONVERSIONS_API_PARTNER_SETUP_FLOW:return r||a?(0,o.Z)("/conversions/api_partner_setup/",{source:r,origin:a}):"/conversions/api_partner_setup/";case s.qp.CONVERSIONS_API_ACCESS_TOKEN:return"/conversions/access_token/";case s.qp.CONVERSIONS_API_DEDUPLICATION:return"/conversions/deduplication/";default:return"/conversions/tag/"}},"pin-builder":e=>(0,o.Z)("/pin-builder/",e),purchases:()=>a.reporting(r("PURCHASE")),awareness_reserved:()=>a.reporting(r("IMPRESSION")),engagement:()=>a.reporting(r("BILLABLE_ENGAGEMENT")),videos:()=>a.reporting(r("TEMPORARY_BIDDED_CPM_VIDEO")),videos_reserved:()=>a.reporting(r("TEMPORARY_IMPRESSION_VIDEO")),videos_cpv:()=>a.reporting(r("TEMPORARY_MRC_CPV_VIDEO")),conversions:()=>a.reporting(r("WEB_CONVERSION")),accounts_manager:()=>"/accounts_manager/",reporting_preferences:e=>(0,o.Z)("/reporting/preferences/",e),report_builder:e=>(0,o.Z)("/report-center/builder/",e),report_history:e=>(0,o.Z)("/report-center/history/",e),report_unsubscribe:e=>(0,o.Z)("/report-center/unsubscribe/",e),report_download:e=>(0,o.Z)("/report-center/download/",e),media_planner:()=>"/media_planner/",awareness:()=>a.reporting(r("AWARENESS")),traffic:()=>a.reporting(r("TRAFFIC")),app_installs:()=>a.reporting(r("APP_INSTALL")),catalog_sales:()=>a.reporting(r("CATALOG_SALES")),web_conversion:()=>a.reporting(r("WEB_CONVERSION")),video_view:()=>a.reporting(r("VIDEO_VIEW")),quick_promote:e=>(0,o.Z)("/quick-promote/",e),quick_promote_on_www:()=>"/advertiser/quick-promote/",recommendations:e=>(0,o.Z)("/recommendations/",e),catalog_view:()=>"/product-catalogs/data-source",campaign_insights:e=>`/campaign-insights/${e.campaignId}/`},l=a},463839:(e,t,n)=>{function s(e){return[0,24,21,26].includes(e)}function o({articleType:e,id:t,title:n}){const s=n.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${s}/${t}/`:`/discover/article/${s}/${t}/`}n.d(t,{x:()=>o,y:()=>s})},534299:(e,t,n)=>{function s(e){return"object"==typeof e&&null!==e&&"url"in e&&"media"in e}n.d(t,{Z:()=>s})},592555:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(512703),o=n(780621),i=n(782131);const r=(e,t)=>{null!=t&&t.disableOriginCheck||(0,i.Z)(e)||(e="/",(0,o.My)("url_reset")),(0,s.Z)(e)}},722690:(e,t,n)=>{n.d(t,{Z:()=>s});const s={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},792350:(e,t,n)=>{function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>i});class o{static reportGoogleConversion(e,t,n,s){s||(void 0!==window.gtag_report_conversion?window.gtag_report_conversion(e,t,n):o.queuedGoogleConversions.push({id:e,label:t,url:n}))}static reportFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("track",t,n):window.fbq("track",t):o.queuedFacebookConversions.push({id:e,event:t,data:n})}static reportCustomFacebookConversion(e,t,n){void 0!==window.fbq?n?window.fbq("trackCustom",t,n):window.fbq("trackCustom",t):o.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:n})}static reportPinterestConversion(e,t,n){void 0!==window.pintrk?n?window.pintrk("track",t,n):window.pintrk("track",t):o.queuedPinterestConversions.push({id:e,event:t,data:n})}static reportTwitterConversion(e,t){void 0!==window.twttr?t?window.twttr.conversion.trackPid(e,t):window.twttr.conversion.trackPid(e):o.queuedTwitterConversions.push({id:e,data:t})}static reportTheTradeDeskConversion(e,t){const n=document.createElement("img");n.setAttribute("height","1"),n.setAttribute("width","1"),n.setAttribute("role","presentation"),n.style.borderStyle="none",n.style.position="absolute",n.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(n,document.body.lastChild)}static reportLinkedInConversion(e,t){const n=document.createElement("img");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("role","presentation"),n.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static reportDoubleClickConversion(e,t,n){const s=1e13*Math.random(),o=document.createElement("iframe");o.setAttribute("width","1"),o.setAttribute("height","1"),o.setAttribute("frameborder","0"),o.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};\n    type=${t};cat=${n};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${s}?`),o.style.display="none",document.body.insertBefore(o,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){const n=document.createElement("script");t||(n.setAttribute("async",""),n.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),n.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,n){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,n){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==n&&window.location.assign(n)}}),!1};const n=o.queuedGoogleConversions;for(let s=0;s<n.length;s+=1){const i=n[s];i.id===e&&o.reportGoogleConversion(i.id,i.label,i.url,t)}}),document.body.insertBefore(n,document.body.firstChild)}static insertFacebookPixelTag(e){var t,n,s,i,r,a;t=window,n=document,s="script",t.fbq||(i=t.fbq=function(){i.callMethod?i.callMethod.apply(i,arguments):i.queue.push(arguments)},t._fbq||(t._fbq=i),i.push=i,i.loaded=!0,i.version="2.0",i.queue=[],(r=n.createElement(s)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(a=n.getElementsByTagName(s)[0]).parentNode.insertBefore(r,a)),window.fbq("init",e),window.fbq("track","PageView");const l=o.queuedFacebookConversions;for(let c=0;c<l.length;c+=1){const t=l[c];t.id===e&&(t.isCustomEvent?o.reportCustomFacebookConversion(e,t.event,t.data):o.reportFacebookConversion(e,t.event,t.data))}}static insertTwitterUniversalTag(e){var t,n,s,o,i,r;t=window,n=document,s="script",t.twq||(o=t.twq=function(){o.exe?o.exe.apply(o,arguments):o.queue.push(arguments)},o.version="1.1",o.queue=[],(i=n.createElement(s)).async=!0,i.src="//static.ads-twitter.com/uwt.js",(r=n.getElementsByTagName(s)[0]).parentNode.insertBefore(i,r)),window.twq("init",e),window.twq("track","PageView")}static insertLinkedInInsightTag(e){window._linkedin_data_partner_id=e;const t=document.createElement("script");t.setAttribute("src","//snap.licdn.com/li.lms-analytics/insight.min.js"),document.body.insertBefore(t,document.body.firstChild)}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0";const t=document.createElement("script");t.async=!0,t.src="https://s.pinimg.com/ct/core.js";const n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}}(),window.pintrk("load",e),window.pintrk("page");const t=o.queuedPinterestConversions;for(let n=0;n<t.length;n+=1){const s=t[n];s.id===e&&o.reportPinterestConversion(e,s.event,s.data)}}}s(o,"queuedGoogleConversions",[]),s(o,"queuedFacebookConversions",[]),s(o,"queuedPinterestConversions",[]),s(o,"queuedTwitterConversions",[]);const i=o},167522:(e,t,n)=>{n.d(t,{OS:()=>i,iY:()=>r});var s=n(233423),o=n(578662);const i=4;function r(){const e=(0,o.Z)();return(0,s.Z)({name:"UserResource",options:{field_set_key:"linked_partner",user_id:e.isAuth&&e.id}})}},832050:(e,t,n)=>{n.d(t,{Q:()=>c,Z:()=>d});var s=n(667294),o=n(682492),i=n.n(o),r=n(234983),a=n(491190),l=n(260531);function c(e,t){const{setViewContextData:n}=(0,a.sV)(),{requestIdentifier:o}=(0,l.B)(),c=(0,r.Z)(),{viewData:d}=(0,a.SU)();(0,s.useEffect)((()=>{var t;e&&(n({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?i()(d,e.view_data):i()({},d),component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c({...e,event_type:13,request_identifier:o}))}),[t])}function d(e){const{children:t,log:n}=e;return c(n),t||null}},111465:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294),o=n(545168),i=n(491190);const r=e=>{const t=(0,s.useRef)(!1),{logContextEvent:n}=(0,o.v)(),{viewType:r,viewParameter:a}=(0,i.SU)();(0,s.useEffect)((()=>{Object.entries(e).length>0&&!t.current&&r&&(n({event_type:13,view_type:r,view_parameter:a,...e}),t.current=!0)}))}},203598:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),o=n(973935);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class r extends s.Component{constructor(...e){super(...e),i(this,"observer",null),i(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return s.Children.only(this.props.children)}}const a=r},852186:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(883119),o=n(434012),i=n(785893);function r(){const e=(0,o.ZP)();return(0,i.jsx)(s.kC,{alignItems:"center",justifyContent:"center",children:(0,i.jsx)(s.$j,{accessibilityLabel:e.bt("Loading sign-up form", "Loading signup form", " - ", undefined, true),show:!0})})}},282267:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(240684),o=n(883119),i=n(785893);const r=(0,s.ZP)({resolved:{},chunkName:()=>"LimitedLoginModalCommon",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(35074),n.e(40738)]).then(n.bind(n,436234)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 436234}});function a(){return(0,i.jsx)(r,{fallback:(0,i.jsx)(o.xu,{})})}},730163:(e,t,n)=>{n.d(t,{Bx:()=>o,N4:()=>r,is:()=>a,lt:()=>s,oM:()=>i});const s=e=>e.bt("You're almost there! Log in to access all of Pinterest", "You're almost there! Log in to access all of Pinterest", "loginModal.limitedLogin.subheader", undefined, true),o=e=>e.bt("Log in to save this Pin", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),i=e=>e.bt("Log in to edit this Pin", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),r=({i18n:e,toFollow:t})=>t?e.bt("Log in to follow", "Log in to follow", "limitedLogin.modalHeader.follow", undefined, true):e.bt("Log in to unfollow", "Log in to unfollow", "limitedLogin.modalHeader.unfollow", undefined, true),a=e=>e.bt("Log in to create a Pin or board", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true)},406571:(e,t,n)=>{n.d(t,{Z:()=>w});var s=n(667294),o=n(904062),i=n(545168),r=n(7125),a=n(895799),l=n(223470),c=n(18517),d=n(850462),u=n(408892),h=n(703247),p=n(49809),_=n(668510),g=n(966167),m=n(325063),x=n(100167),f=n(220786),v=n(780621),y=n(9546),b=n(337964);function w(){const e=(0,h.hq)(),t=(0,g.Z)(),{logContextEvent:n}=(0,i.v)(),w=(0,y.Z)();return(0,s.useCallback)((({creds:s,isAccountSwitch:i,loggingOptions:{loggingData:h=Object.freeze({}),loginAttemptContextEvent:g},recaptchaV2Token:y,recaptchaV3Token:S})=>{t();const A=!(!s.facebook_autologin&&!s.autologin),P=(0,_.eD)(s),C=e=>{const t=s.google_open_id_token?"google":"facebook";A&&(0,v.dy)({event:e,provider:t})},E=e=>{A||(0,v.EX)({event:e,provider:(0,_.nY)(s)})};n({...g,event_type:7534}),w({action:A?"autologin":"login",event:"attempt",trigger:h.trigger,type:P});const I=e=>{let t="referrer_unknown";try{const e=document.referrer;t=e?e.indexOf("/t.co/")>-1?"twitter":e.indexOf("google.")>-1?"google":e.indexOf("bing.")>-1?"bing":e.indexOf("facebook.")>-1?"facebook":"other":"direct"}catch(a){}const o=h===Object(h)?h.container:"container_unknown";(0,v.My)("login.referrer."+t+"."+P),(0,v.My)("login.container."+String(o)+"."+P),(0,v.My)("login.type."+P);const i=P||"method_unknown",r=h.page||"page_unknown";s.facebook_autologin?((0,v.My)("web_autologin_facebook"),(0,v.My)("new_web_autologin_facebook",{page:r,referrer:t,container:o})):((0,v.My)(`web_login.${i}.success.${r}.${String(o)}.${t}.tier1`),(0,v.My)(`new_web_login.${i}.success`,{page:r,referrer:t,container:o})),(0,m.ko)({country:null==e?void 0:e.country,countryFromHostName:null==e?void 0:e.countryFromHostName,countryFromIp:null==e?void 0:e.countryFromIp,regionFromIp:null==e?void 0:e.regionFromIp,deviceType:"Desktop",eventCategory:"Logins"}),n({...g,event_type:7536}),w({action:A?"autologin":"login",event:"success",trigger:h&&h.trigger,type:P})},j=({error:e,isCrossDomain:t})=>{if(!e)return;const s=e.http_status===x.Ej?x.Ej:e.api_error_code;let o=s;s&&u.qF.has(s)&&(o=u.qF.get(s));const{container:i,trigger:r}=h;(0,v.My)(`${t?"unauth_web_client_cctld_login_api_error":"unauth_web_client_login_api_error"}.${String(o)}.${i||"unknow_container"}.${P}`),n({...g,event_type:7535}),w({action:A?"autologin":"login",event:"fail",trigger:r,type:P})};if(s.username_or_email&&!s.mfa_resend&&e&&-1!==p.Z.indexOf(e.origin)){const t=e=>(0,v.My)(`web_cross_domain_login.${e}.${(0,_.eD)(s)}`);t("attempt");const{referrer:n,facebookToken:o,unauthId:i}=e;return(0,l.pH)(s,{recaptchaV3Token:S,referrer:n,facebookToken:o,unauthId:i}).then((e=>{const n=e&&e.data;if(n)return t("success_with_token"),(0,l.kv)(n).then((e=>(t("success_token_exchanged"),I(),Promise.resolve())),(e=>{throw t("success_token_not_exchanged"),e}));throw t("success_without_token"),new Error}),(e=>{throw t("failure"),j({error:e,isCrossDomain:!0}),e}))}C("login_api_call_start"),E("login_api_call_start");const T=(0,b.OJ)();return o.Z.create("UserSessionResource",{...s,...T?{referrer:T}:Object.freeze({}),get_user:s.get_user||s.switch_account&&i,app_type_from_client:7===e.appType?7:5,visited_pages_before_login:(0,b.t_)()||null,recaptchaV2Token:y,recaptchaV3Token:S}).callCreate({showError:!1,async:!0}).then((e=>{const{country:t,country_from_hostname:n,country_from_ip:s,region_from_ip:o}=(null==e?void 0:e.client_context)||Object.freeze({});return I({country:t,countryFromHostName:n,countryFromIp:s,regionFromIp:o}),C("login_api_call_success"),E("login_api_call_success"),(0,c.B)(!1),(0,d.Z)(),r.zN(a.e7.name),r.zN(a.x3.name),(0,f.D)("login").then((()=>e))}),(e=>(j({error:e,isCrossDomain:!1}),C("login_api_call_failure"),E("login_api_call_failure"),Promise.reject(e))))}),[e,t,n,w])}},281105:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(730163),o=n(434012),i=n(335898);const r=()=>{const{loginForMore:e,viewer:t,limitedLoginModalSubheader:n}=(0,i.H)(),r=(0,o.ZP)();return"AUTH"===t.type?null:t=>{null==e||e.setVisible(!0),null==n||n.setText((null==t?void 0:t.loginModalHeader)||(0,s.lt)(r))}}},18517:(e,t,n)=>{n.d(t,{B:()=>r,a:()=>i});var s=n(217917),o=n(949413);const i=()=>!!s.Z.getItem(o.WM),r=e=>{s.Z.setItem(o.WM,!!e)}},648561:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),o=n(883119),i=n(545168),r=n(277774),a=n(816987),l=n(434012),c=n(785893);function d(){const{logContextEvent:e}=(0,i.v)(),t=(0,l.ZP)(),[n,d]=(0,s.useState)(),[u,h]=(0,s.useState)(),[p,_]=(0,s.useState)();(0,s.useEffect)((()=>{const n=t.bt("Sorry, something went wrong at our end.", "Sorry! Something went wrong on our end.", " - ", undefined, true),s=t.bt("Something went wrong", "Something went wrong", " - ", undefined, true);return r.Z.setShowHtmlErrorCallback(((t=n,o,i=s)=>{t===n&&i===s&&e({event_type:13,component:9,view_type:17,view_parameter:3237});const r=t.replace(/&#x27;/g,"'").replace(/&#39;/g,"'");d(o),h(i||""),_(r)})),()=>{r.Z.setShowHtmlErrorCallback((()=>{}))}}),[e,d,h,_,t]);const g=()=>{"function"==typeof n&&n(),d(null),h(null),_(null)};return p?(0,c.jsx)(a.ZP,{accessibilityModalLabel:t.bt("An error occurred", "An error occurred", " - ", undefined, true),heading:u,onDismiss:g,size:"sm",footer:(0,c.jsx)(o.kC,{alignItems:"stretch",justifyContent:"end",children:(0,c.jsx)(o.zx,{color:"red",onClick:g,text:t.bt("OK", "Okay", " - ", undefined, true)})}),children:(0,c.jsx)(o.xu,{margin:5,"data-test-id":"error-modal",children:(0,c.jsx)(o.xv,{children:p})})}):null}},976753:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),o=n(702664),i=n(303741),r=n(118591),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends s.Component{constructor(...e){super(...e),l(this,"state",{hasCompleted:[],hasDismissed:[]}),l(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:n,viewExperience:s,viewExperienceObject:o}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",o(e)):n?s(e.placement_id,e.experience_id,n):s(e.placement_id,e.experience_id))})),l(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:n,experience:s,isBackendExperience:o,preventRemoval:i,targeting:r}=this.props,a=e||1;if(s&&!this.state.hasCompleted.includes(s.experience_id)){const{placement_id:e,experience_id:l}=s||{},c=i||2===a;(1===a||c)&&e&&l&&(o?n(s,c):r?t(e,l,c,r):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),l(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:n,isBackendExperience:s,preventRemoval:o,targeting:i}=this.props,{placement_id:r,experience_id:a}=n||{};n&&!this.state.hasDismissed.includes(a)&&(s?t(n):i?e(r,a,!!o,i):e(r,a,!!o),this.setState((e=>({hasDismissed:[...e.hasDismissed,a]}))))})),l(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:n,predicate:s,transitionType:o}=this.props,{experience_id:i,type:r}=e;if(t&&t.includes(i))return!0;if(null==t||!t.length){if(s&&s(e))return!0;if(n&&n.includes(r))return!0;if(o&&o===r)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,n=this.props.experience;n&&this.shouldRenderExperience()&&(t&&t.experience_id===n.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:n}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...n?{view:this.view}:Object.freeze({})}):s.Children.only(e):null}}function d(e){const t=(0,o.useSelector)((({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0))),n=(0,o.useDispatch)();return(0,a.jsx)(c,{...e,experience:t,completeExperience:(e,t,s,o)=>n((0,i.CK)(e,t,s,!1,{},o)),completeExperienceObject:(e,t)=>n((0,r.Tl)(e,t)),dismissExperience:(e,t,s,o)=>n((0,i.Qu)(e,t,s,void 0,o)),dismissExperienceObject:e=>n((0,r.CF)(e)),viewExperience:(e,t,s)=>n((0,i.UT)(e,t,!1,!1,void 0,s)),viewExperienceObject:e=>n((0,r.dy)(e))})}l(c,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},725230:(e,t,n)=>{n.d(t,{Z:()=>_});var s=n(667294),o=n(883119),i=n(808520),r=n(785893);class a extends s.Component{renderPulsar(){const{anchor:e,handleComplete:t,handlePulsarCompleteOnHover:n,zIndex:s}=this.props;return(0,r.jsx)(i.Z,{anchor:e,onTouch:t,onMouseEnter:n,zIndex:s})}renderFlyout(){const{anchor:e,tooltip:t,handleDismiss:n,handleComplete:s}=this.props;if(!t)return null;const{cancelButtonText:i,confirmButtonText:a,mainText:l,idealDirection:c="down"}=t,d=i&&n&&a&&s;return(0,r.jsx)(o.Li,{anchor:e,idealDirection:c,onDismiss:n,size:"flexible",message:l,primaryAction:{onClick:d?e=>n(e):s,text:String(d?i:a)}})}render(){const{anchor:e,pulserOnly:t}=this.props;return e?t?this.renderPulsar():this.renderFlyout():null}}var l=n(446956),c=n(346510),d=n(899006),u=n(549622);const h=({anchor:e,anchorExperiences:t,passedExperience:n})=>n||(t?t[e]:null),p=e=>{const{display_data:t}=e;return t.tooltip&&(t.tooltip={...t.tooltip.options,...t.tooltip},delete t.tooltip.options),(0,d.Z)(u.Z,!0)(t)};function _({anchor:e,anchorElementRef:t,children:n,containerBoxConfig:i,experience:d,isHidden:u,onCompleteClick:_,zIndex:g}){var m;const{completeExperience:x,dismissExperience:f,experiences:v,viewExperience:y}=(0,l.M)(),b=Object.values(v).reduce(((e,t)=>(8===t.type&&(e[(0,c.A0)(t)]=t),e)),{}),w=h({anchor:e,anchorExperiences:b,passedExperience:d}),S=(null==w||null===(m=w.display_data)||void 0===m?void 0:m.delay)||0,[A,P]=(0,s.useState)(!!S);if((0,s.useEffect)((()=>{if(S>0&&A){const e=setTimeout((()=>{P(!1)}));return()=>clearTimeout(e)}return()=>{}}),[S,A]),(0,s.useEffect)((()=>{!A&&w&&y(w.placement_id,w.experience_id)}),[A,w]),!w||A||u)return s.Children.only(n);const C=p(w),E=()=>{var e;null!==(e=w.display_data)&&void 0!==e&&e.complete_on_hover&&x(w.placement_id,w.experience_id)};return(0,r.jsxs)(o.xu,{position:"relative",height:null==i?void 0:i.height,display:null==i?void 0:i.display,children:[(0,r.jsx)(o.iP,{onMouseEnter:E,onTap:()=>{_&&_(),C.skipComplete||x(w.placement_id,w.experience_id)},children:s.Children.only(n)}),(0,r.jsx)(a,{anchor:t||null,handlePulsarCompleteOnHover:E,handleComplete:()=>{t instanceof HTMLElement&&t.click()},handleDismiss:e=>{null!=e&&e.event&&e.event.stopPropagation(),f(w.placement_id,w.experience_id)},pulserOnly:!!C.pulserOnly,tooltip:C.tooltip,zIndex:g})]})}},152935:(e,t,n)=>{n.r(t),n.d(t,{default:()=>u});var s=n(667294),o=n(883119),i=n(976753),r=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends s.PureComponent{constructor(...e){super(...e),a(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),a(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:s}=this.props,i=n.slice(-3);return(0,r.jsx)(o.J2,{anchor:e,color:"white",idealDirection:s,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,r.jsxs)(o.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,r.jsx)(o.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,r.jsx)(o.xv,{color:"default",weight:"bold",children:t})}),(0,r.jsx)(o.xu,{display:"flex",marginEnd:-2,paddingX:2,children:i.map((e=>(0,r.jsx)(o.xu,{height:60,width:50,paddingX:1,children:(0,r.jsx)(o.zd,{rounding:2,height:60,children:(0,r.jsx)(o.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}var c=n(808520);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends s.Component{constructor(...e){super(...e),d(this,"dismissRef",(0,s.createRef)()),d(this,"state",{paused:!1}),d(this,"dismissCb",(()=>{var e,t;null===(e=(t=this.dismissRef).current)||void 0===e||e.call(t)})),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){const{anchor:e}=this.props;clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:a,flyoutSize:d,fontSize:u,hasFullWidthButton:h=!0,idealDirection:p,useMasonryFlyout:_,noClickToDismiss:g,onClickComplete:m,onClickDismiss:x,placementId:f,positionRelativeToAnchor:v,shouldTimeoutDismiss:y,showCaret:b,textAlign:w,textOverflow:S,textOverrideFn:A,textWeight:P,customizedComplete:C,pulsarZIndex:E,advertiserId:I}=this.props,j=t||(({children:e})=>_?(0,r.jsx)(o.mh,{children:e}):e),T="blue";return(0,r.jsx)(i.Z,{eligibleIds:n,placementId:f,eligibleTypes:[8],targeting:I?{advertiserId:parseInt(I,10)}:null,children:({complete:t,dismiss:n,experience:i})=>{const{display_data:{scroll_to_dismiss:f,scroll_to_dismiss_delay_in_seconds:I=0,...k}}=i,R=f&&e,Z=()=>{L(),setTimeout(n,1e3*I)},L=()=>{R&&(window.removeEventListener("scroll",Z),window.removeEventListener("touchmove",Z))},D=()=>{L(),t()};if(R&&(window.addEventListener("scroll",Z),window.addEventListener("touchmove",Z)),this.setDefaultPulsarTooltip(k),!k.has_pulsar&&!k.has_tooltip)return D(),null;y&&k.disappearTime&&k.disappearTime>0&&(this.timer=setTimeout((()=>(Z(),null)),k.disappearTime));const O=501041===i.experience_id||505086===i.experience_id;return k.has_tooltip&&!k.has_pulsar&&(this.dismissRef.current=Z,null==e||e.addEventListener("click",this.dismissCb)),(0,r.jsxs)(s.Fragment,{children:[k.has_pulsar&&(0,r.jsx)(c.Z,{anchor:e,leftOverride:O?342:void 0,onTouch:()=>this.handlePulsarClick(k.has_tooltip,D),paused:this.state.paused,topOverride:O?-5:void 0,zIndex:E&&E.index()}),k.has_tooltip&&(!k.has_pulsar||this.state.paused)&&(k.thumbnail_urls?(0,r.jsx)(l,{anchor:e,dismiss:Z,idealDirection:p||"down",text:k.text,thumbnails:k.thumbnail_urls}):(0,r.jsx)(j,{children:(0,r.jsx)(o.J2,{anchor:e,color:"deprecatedBlue",idealDirection:p||"down",onDismiss:g?()=>{}:Z,positionRelativeToAnchor:!_&&v,shouldFocus:!1,_deprecatedShowCaret:b,size:d,children:(0,r.jsxs)(o.xu,{column:12,padding:3,children:[(0,r.jsxs)(o.xv,{align:"right"===w?"end":w,color:"inverse",overflow:S,size:u,weight:P||"bold",children:[this.getText(k,a,A),k.secondary_cta_link&&(0,r.jsx)(o.xu,{display:"inlineBlock",marginStart:1,children:(0,r.jsx)(o.xv,{size:u,weight:"bold",color:"inverse",children:(0,r.jsx)(o.rU,{display:"inlineBlock",target:"blank",href:k.secondary_cta_link.url,underline:"hover",children:k.secondary_cta_link.text})})})]}),k.sub_text&&(0,r.jsx)(o.xu,{paddingY:2,children:(0,r.jsx)(o.xv,{color:"inverse",size:u,children:k.sub_text})}),(k.dismiss_button_text||k.complete_button_text)&&(0,r.jsxs)(o.xu,{display:"flex",alignItems:"center",marginTop:2,children:[k.dismiss_button_text&&(0,r.jsx)(o.xu,{marginEnd:1,column:6,children:(0,r.jsx)(o.zx,{fullWidth:h,color:T,onClick:()=>{x&&x(),Z()},size:"md",text:k.dismiss_button_text})}),k.complete_button_text&&(0,r.jsx)(o.xu,{column:k.dismiss_button_text?6:12,children:C?(0,r.jsx)(o.iP,{fullHeight:!0,onTap:()=>{D(),m&&m()},rounding:2,children:(0,r.jsx)(o.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,r.jsx)(o.xv,{color:"shopping",weight:"bold",children:k.complete_button_text})})}):(0,r.jsx)(o.kC,{justifyContent:"center",children:(0,r.jsx)(o.zx,{fullWidth:h,color:"white",href:k.complete_button_cta_url,role:k.complete_button_cta_url?"link":"button",size:"md",target:k.complete_button_cta_url?"blank":null,text:k.complete_button_text,onClick:({event:e})=>{e.preventDefault(),e.stopPropagation(),D(),m&&m()}})})})]})]})})}))]})}})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},931694:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(667294),o=n(883119),i=n(976753),r=n(785893);class a extends s.Component{constructor(...e){var t,n,s;super(...e),s={paused:!1,showPulsar:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}componentDidMount(){this.mountPulsar(),this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}componentWillUnmount(){clearTimeout(this.timer)}mountPulsar(){if(!this.experience)return;const{display_data:e}=this.experience;e.has_pulsar&&this.setState({showPulsar:!0})}renderPulsar(){const{anchor:e}=this.props,{paused:t}=this.state;if(!e)return null;const n=e.getBoundingClientRect(),{height:s,width:i}=n,a=-(68+s/2),l=-(68-i/2);return(0,r.jsx)(o.xu,{position:"absolute",zIndex:new o.Ry(1),dangerouslySetInlineStyle:{__style:{marginTop:a,marginLeft:l,cursor:"pointer",pointerEvents:"none"}},children:(0,r.jsx)(o.o3,{paused:t})})}renderFlyout(e){const{anchor:t,flyoutSize:n,idealDirection:s}=this.props;return(0,r.jsx)(o.Li,{anchor:t,idealDirection:s||"down",onDismiss:()=>{},size:n,message:e})}render(){const{experienceIds:e,placementId:t,shouldTimeoutDismiss:n}=this.props,{showPulsar:s}=this.state;return(0,r.jsx)(i.Z,{eligibleIds:e,placementId:t,eligibleTypes:[8],children:({complete:e,dismiss:t,experience:i})=>{this.experience=i;const{display_data:a}=i;return a.has_pulsar||a.has_tooltip?(n&&a.disappearTime&&a.disappearTime>0&&(this.timer=setTimeout((()=>(t(),null)),a.disappearTime)),(0,r.jsxs)(o.xu,{zIndex:new o.Ry(10),children:[s&&this.renderPulsar(),a.has_tooltip&&(!a.has_pulsar||this.state.paused)&&this.renderFlyout(a.text)]})):(e(),null)}})}}},118591:(e,t,n)=>{n.d(t,{CF:()=>a,Tl:()=>r,dy:()=>l});var s=n(904062),o=n(303741);const i=(e,t)=>(n,i)=>r=>{if(n&&n.id){const a=s.Z.create(e,{placed_experience_id:n.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{r((0,o.fO)())}));break;case"completed":a.callUpdate().then((()=>{i||r((0,o.fO)())}));break;case"viewed":a.callUpdate()}}},r=i("UserExperienceCompletedResource","completed"),a=i("UserExperienceResource","dismissed"),l=i("UserExperienceViewedResource","viewed")},808520:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(883119),o=n(667294),i=n(785893);const r=(e,t,n,s)=>({horizontalOffset:-(s/2-t/2),verticalOffset:-(n/2-e/2)});function a({anchor:e,children:t,zIndex:n,leftOverride:a,topOverride:l}){const c=(0,o.useRef)(null),[d,u]=(0,o.useState)(0),[h,p]=(0,o.useState)(0),{height:_,width:g}=e.getBoundingClientRect();(0,o.useEffect)((()=>{const{current:t}=c;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:s,verticalOffset:o}=r(_,g,e,n);u(s),p(o)}}));const m=a||d,x=l||h;return(0,i.jsx)(s.xu,{position:"absolute",zIndex:n?new s.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:m,top:x}},ref:c,children:t})}const l=function(e){const{anchor:t,leftOverride:n,onTouch:o,onMouseEnter:r,paused:l,size:c,topOverride:d,zIndex:u}=e;return t?(0,i.jsx)(a,{anchor:t,leftOverride:n,topOverride:d,zIndex:u,children:(0,i.jsx)(s.iP,{fullWidth:!1,onTap:({event:e})=>o(e),onMouseEnter:r,rounding:"circle",children:(0,i.jsx)(s.o3,{paused:l,size:c})})}):null}},46626:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),o=n(702664),i=n(442279),r=n(741208),a=n(446956),l=n(260531);const c=(0,i.P1)((e=>e.experiences),((e,t)=>t),((e,t)=>e[t])),d=(e,t)=>"function"==typeof t?t(e):t,u=(e,t={},n=!1)=>{const[i,u]=(0,s.useReducer)(d,t),{isBot:h}=(0,l.B)(),{fetchExperienceForPlacements:p,mountPlacement:_,triggerExperimentsForPlacement:g,unmountPlacement:m}=(0,a.M)();(0,s.useDebugValue)(`Placement Hook ID - ${e}`),(0,s.useEffect)((()=>{const t={...i},s=n&&null!=t&&t.advertiser_id?{advertiserId:t.advertiser_id}:void 0;return _(e,t,s),()=>{m(e)}}),[]),(0,s.useEffect)((()=>{Object.keys(i).length>0&&p([e],h,i)}),[i]);const x=(0,o.useSelector)((t=>c(t,e))),f=(0,o.useSelector)((t=>t.experiencesMulti[e])),v=x?x.triggerable_placed_exps:[];(0,s.useEffect)((()=>{((e,t,n={})=>{r.Z.increment(`${e}.${t}`,1,n)})("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,...v}),g(e,i)}),[JSON.stringify(v)]);return{experience:x,experiencesMulti:f,setExtraContext:u}}},898524:(e,t,n)=>{n.d(t,{UZ:()=>d,Vg:()=>c,ZP:()=>u});var s=n(667294),o=n(883119),i=n(55592),r=n(278286),a=n(785893);const l=2e3,c=200,d=({deviceType:e,hiding:t,visible:n})=>{const s="desktop"===e;let o=0,i=s?"translateY(200px)":"translateY(-200px)",r="opacity 0.1s ease-in-out",a="hidden";return n&&!t&&(o=1,i="translateY(0)",r="all 0.7s cubic-bezier(.19, 1.15, .48, 1)",a="visible"),n&&t&&(i="scale(1.1)",r="opacity transform 0.2s"),{opacity:o,pointerEvents:"auto",position:"relative",marginTop:s?10:0,transform:i,transition:r,visibility:a}};function u({_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,text:n,primaryAction:u,dismissButton:h,helperLink:p,thumbnail:_,type:g,dataTestId:m,duration:x=l,onHide:f,href:v,onClick:y,openNewPage:b,imageUrl:w}){var S;const A=(0,i.ZP)(),[P,C]=(0,s.useState)(!1),[E,I]=(0,s.useState)(!1),j=(0,s.useRef)(),T=()=>{C(!0),j.current=setTimeout(f,c)},k=()=>{j.current=setTimeout(T,x)},R=()=>{j.current&&clearTimeout(j.current)};let Z;(0,r.Z)((()=>(setTimeout((()=>I(!0)),100),k(),R))),w&&(Z={image:(0,a.jsx)(o.Ee,{alt:"string"==typeof n?n:`${n[0]} ${n[1]}`,fit:"cover",naturalHeight:1,naturalWidth:1,src:w})});const L=(0,a.jsx)(o.FN,{_dangerouslySetThumbnail:e,_dangerouslySetPrimaryAction:t,primaryAction:u,text:n,thumbnail:null!==(S=Z)&&void 0!==S?S:_,type:g,dismissButton:h,helperLink:p}),{marginTop:D,opacity:O,pointerEvents:M,position:z,transform:B,transition:N,visibility:F}=d({deviceType:A,hiding:P,visible:E});return(0,a.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{transform:B,transition:N,visibility:F,pointerEvents:M}},"data-test-id":null!=m?m:"toast",onMouseEnter:R,onMouseLeave:k,opacity:O,position:z,marginTop:D,display:"flex",children:v?(0,a.jsx)(o.iP,{role:"link",href:v,onTap:({event:e})=>null==y?void 0:y(e),target:b?"blank":null,rounding:"pill",children:L}):L})}},658342:(e,t,n)=>{n.d(t,{qE:()=>a});var s=n(883119),o=n(785893);const i=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function r({accessibilityLabel:e,name:t,outline:n,size:r,src:a,verified:l}){return(0,o.jsx)(s.qE,{accessibilityLabel:e,name:t,outline:n,size:r,src:i(a,t)?void 0:a,verified:l})}r.displayName="Avatar";const a=r;n(816987),n(898524)},948997:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(666742);const o=()=>{const{hostname:e}=window.location;return e.includes("pinterdev")&&!e.includes("ads.pinterdev")?e:e.includes("ads-latest")?"latest.pinterest.com":s.Vi}},842625:(e,t,n)=>{n.d(t,{$H:()=>r,$q:()=>v,D6:()=>c,KN:()=>y,Lo:()=>o,OS:()=>p,P2:()=>m,ZZ:()=>u,g5:()=>h,jC:()=>a,lX:()=>g,nW:()=>_,oX:()=>x,qG:()=>f,tG:()=>i,yF:()=>s,yc:()=>d,yt:()=>l});const s=236,o=2*s/3,i=175,r=24,a=4,l=8,c=2,d=2,u=14,h=16,p=5,_=12,g=16,m=24,x=16,f=-1,v=(e=!1,t=!1)=>e?t?g:_:m,y=(e,t,n,s,o=u)=>{const i=e+o;return`\n@media (min-width: ${t*i}px) and (max-width: ${(n+1)*i-1}px) {\n  ${s}\n}\n`}},282605:(e,t,n)=>{n.d(t,{F:()=>l,Z:()=>a});var s=n(667294),o=n(545168),i=n(654504);const r={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704}};function a({carouselData:e,closeupImpressionType:t,closeupNavigationType:n,componentType:a,contextLogData:l,clientTrackingParams:c,elementType:d,impressionAuxFields:u,inImpressionExp:h,impressionType:p,impressionsFramework:_,isPaused:g,loggingId:m,objectIdStr:x,slotIndex:f,trackCarousel:v,viewData:y,viewParameter:b,viewType:w}){const{logContextEvent:S}=(0,o.v)(),A=_||i.Z,P=(0,s.useRef)(null),C=s=>{const o=r[p],i=o.idType;let h={clientTrackingParams:c,endTime:s.endTime,[i]:m,slotIndex:f,time:s.startTime,renderDuration:s.endTime-s.startTime,type:t,...u,forcedExit:"removed"===s.forcedExit?0:void 0};var _,g,A,C;"Pin"===p&&(h={...h,pinCellWidth:(null===(_=P.current)||void 0===_?void 0:_.getBoundingClientRect().width)||0,pinCellHeight:(null===(g=P.current)||void 0===g?void 0:g.getBoundingClientRect().height)||0,windowWidth:null===(A=window)||void 0===A?void 0:A.innerWidth,windowHeight:null===(C=window)||void 0===C?void 0:C.innerHeight});const E={component:a,object_id_str:x,view_type:w,view_data:y||{},view_parameter:b};if(v){if(e){var I,j,T;S({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...h,carouselDataId:Number(e.id),carouselSlotId:(null===(I=e.carousel_slots)||void 0===I?void 0:I[null!==(j=e.index)&&void 0!==j?j:0])&&Number(e.carousel_slots[null!==(T=e.index)&&void 0!==T?T:0].id),slotIndex:e.index}]},...E,aux_data:{...l}})}}else S({clientTrackingParams:c,event_type:o.eventType,...E,element:d,event_data:{[o.impressionType]:"Story"===p?h:[h]},aux_data:{closeup_navigation_type:n,...l}})},E=(0,s.useCallback)((()=>{try{P.current instanceof HTMLElement&&A.start(P.current).onExitViewport(C).setDebugId(m||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),[P.current]);(0,s.useEffect)((()=>(h&&!A.inExperiment&&A.setExperimentStatus(!0),g||E(),()=>{P.current instanceof HTMLElement&&A.stop(P.current)})),[E]);const I=(0,s.useRef)(g);return(0,s.useEffect)((()=>{I.current&&!g&&E(),I.current=g}),[g,E]),P}const l=({children:e,...t})=>e({impressionTrackerRef:a(t)})},367356:(e,t,n)=>{n.d(t,{Di:()=>h,Jl:()=>c,R:()=>d,ZP:()=>x,aU:()=>p,j2:()=>u,pN:()=>_,rL:()=>f,vW:()=>m});var s=n(883119),o=n(658342),i=n(898524),r=n(376410),a=n(935057),l=n(785893);const c=7e3,d="permanent_account_closure",u="account_deletion_email_sent",h="account_deactivated",p="unlink_successful",_="account_switch_to_settings";function g(e,t,n){return(0,l.jsx)(s.xv,{align:n||"center",children:(0,r.nk)(e,{username:(0,l.jsx)(s.xv,{inline:!0,weight:"bold",children:t})})})}function m({i18n:e,message:t,multipleAccounts:n,username:s=""}){switch(t){case d:return e.bt("Your account has been deleted. We're sorry to see you go", "Your account has been deleted. We're sad to see you go", "unauthLoginPage.accountDeletedToast.message", undefined, true);case u:return g(n?e.bt("An email has been sent with final steps to delete your account, {{username}}, and its linked accounts", "An email has been sent with final steps to delete your account, {{username}} and its linked accounts", "accountDeletedEmailToast.message.multipleAccounts", undefined, true):e.bt("An email has been sent with final steps to delete your account, {{username}}", "An email has been sent with final steps to delete your account, {{username}}", "accountDeletedEmailToast.message.singleAccount", undefined, true),s);case h:return g(n?e.bt("The account, {{username}}, and its associated linked accounts have been deactivated", "The account, {{username}}, and its associated linked accounts have been deactivated", "unauthLoginPage.deactivatedToast.message.multipleAccounts", undefined, true):e.bt("The account, {{username}}, has been deactivated", "The account, {{username}}, has been deactivated", "unauthLoginPage.deactivatedToast.message.singleAccount", undefined, true),s);case p:return g(e.bt("Success! You've unlinked this business account. You are currently in {{username}}.", "Success! You've unlinked this business account. You are currently in {{username}}.", "authHomeFeedPage.unlinkAccountToast.message", undefined, true),s,"start");case _:return g(e.bt("You've switched into and are currently in the account {{username}}", "You've switched into and are currently in the account {{username}}", "accountSettings.switchAccountToAccountChanges", undefined, true),s,"start");default:return""}}function x(e,t,n=""){if(!t||!t.search)return"";const{message:s}=(0,a.mB)(t.search),o=(0,a.mB)(t.search).username||n;return m({i18n:e,message:s,multipleAccounts:"true"===(0,a.mB)(t.search).multiple_accounts,username:o})}function f({showOneToast:e,i18n:t,location:n,history:s,username:r,fullName:d,avatarUrl:u}){if(!n||!n.search)return;const h=x(t,n,r||""),{message:g}=(0,a.mB)(n.search),m=g===_||g===p;h&&(e((({hideToast:e})=>(0,l.jsx)(i.ZP,{duration:c,onHide:e,text:h,thumbnail:m?{avatar:(0,l.jsx)(o.qE,{name:d||"",src:u||"",size:"md"})}:void 0}))),s.replace(n.hash?`${n.pathname}${n.hash}`:n.pathname))}},68625:(e,t,n)=>{n.d(t,{CV:()=>a.Z,Mt:()=>d,RD:()=>c,iS:()=>u,z3:()=>h});var s=n(512703),o=n(654504),i=n(224731),r=n(259784),a=n(798237),l=n(874796);const c=e=>{const t={...(0,l.rl)()};delete t[e],(0,l.r8)(t)},d=(e,t)=>{if(!(0,l.PE)()||e&&!(e.id in(0,l.rl)())){if(e.partner&&e.partner.is_linked_business&&t)return void(0,r.Z)({...e,email:t.partner&&t.partner.is_linked_business?t.partner.biz_ownership_email:""});(0,r.Z)(e)}},u=(e,t,n)=>{(0,a.Z)("switch_account_success",{destination_user_id:t},n),(0,s.Z)(e)},h=(e,t)=>{o.Z.resume(i.Z3),(0,a.Z)("switch_account_failure",{destination_user_id:e},t)}},259784:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(798237),o=n(874796);const i=e=>{var t;const n={id:e.id,username:e.username,email:e.email,fullName:e.fullName||e.full_name,imageMediumUrl:e.imageMediumUrl||e.image_medium_url,imageLargeUrl:e.imageLargeUrl||e.image_large_url};return n.fullName&&n.imageMediumUrl&&n.imageLargeUrl||(0,s.Z)("utils.incomplete_user_values"),null!==(t=e.partner)&&void 0!==t&&t.is_create?{...n,partner:{is_create:!0}}:n},r=(e,t,n)=>{(0,o.r8)({...(0,o.rl)(),[e.id]:i(e)}),t&&n&&(0,s.Z)("new_account_add_success",{method:t,user_added:e.id},n)}},798237:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(172045),o=n(874796),i=n(780621);const r="web_account_switcher",a=(e,t,n)=>{let a=(0,o.yW)();a||(a=(()=>{const e=(0,s.Z)();return(0,i.tj)(`${r}.utils.group_created`,{group_id:e,group_count:(0,o.lv)()}),e})(),(0,o.M3)(a));const l={group_count:(0,o.lv)()};let c="";n&&(c="account_switcher_modal"===n?"modal.":"flyout."),(0,i.tj)(`${r}.${c}${e}`,{...t,...l})}},899006:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(968749);function o(e,t=!1){return n=>{if(!(0,s.Z)(n))return t&&Array.isArray(n)?n.map(o(e,t)):n;const i={};return Object.keys(n).forEach((r=>{const a=e(n[r],r);(0,s.Z)(n[r])||t&&Array.isArray(n[r])?i[a]=o(e,t)(n[r]):i[a]=n[r]})),i}}function i(e,t=!1){const n=(t,n)=>e(n);return e=>o(n,t)(e)}},950114:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(904062);const o=e=>s.Z.create("UserPasswordResource",e).callUpdate({showError:!1})},668510:(e,t,n)=>{n.d(t,{Ny:()=>u,ZP:()=>p,eD:()=>g,lp:()=>_,nY:()=>m});var s=n(592555),o=n(745459),i=n(217917),r=n(643517),a=n(780621),l=n(221983),c=n(915898),d=n(949413);const u=Object.freeze({SOFT_BANNED:0,RATE_LIMITED:1,LOGIN_ASSISTANCE:2,PASSWORD_RESET_SENT:3,PREVENT_FACEBOOK_REGISTER:4,PREVENT_GOOGLE_REGISTER:5,SUSPENDED:6});class h{static defaultLoginRedirectUrl(){return window.location.pathname===r.lf||window.location.pathname===r.ZE||window.location.pathname.startsWith(r.rO)?"/":window.location.pathname+window.location.search}static defaultSocialLoginRedirectUrl(){return window.location.pathname.startsWith(r.rO)?"/":window.location.pathname}static isExceedRecaptchaLocalLimit(){const e=i.Z.getItem(d.kl);if(e&&e.indexOf("|")>-1){const t=e.split("|");return 3===t.length&&(new Date).getTime()/1e3-parseInt(t[0],10)<=3600}return!1}static updateRecaptchaTimeStamp(){const e=i.Z.getItem(d.kl);let t=[];e&&(t=e.split("|"),3===t.length&&t.shift());const n=((new Date).getTime()/1e3).toString();t.push(n);const s=t.join("|");i.Z.setItem(d.kl,s)}static isFullyLoggedIn(e,t){return e&&t===o.Z.DEFAULT}static handleRedirect(e){if(!e){e="/";const t=(0,c.Z)();if(t){const n=t.next;n&&(e=n,delete t.next),e=(0,l.Z)(e,t)}}(0,s.Z)(e)}static handleRedirectWithFallbackWindowLocation(){this.handleRedirect(this.defaultLoginRedirectUrl())}static handleSignupRedirect(e,t){i.Z.setItem(d.F6,Date.now()),!t&&e&&"/"!==e?h.handleRedirect(e):h.handleRedirect("/")}static storeLoginCredentialsToBrowser(e){const t=window.navigator.credentials;if(t&&e.username_or_email)try{const n=new window.PasswordCredential({id:e.username_or_email,password:e.password});t.store(n).then((()=>{(0,a.My)("navigatorCredentials.store.success")}))}catch(n){(0,a.My)("navigatorCredentials.store.error")}}static handleLoginMfa(e,t,n){(0,a.My)("multi_step_login"),h.storeLoginCredentialsToBrowser(e),n?n(e,t):(0,a.My)("unauth.login.error.CLIENT_ERROR.null_mfa_handler")}}const p=h;function _(e){return e.facebook_id?"facebook":e.google_open_id_token?"google_one_tap":e.line_id_token?"line":e.username_or_email?"email":"other"}function g(e){return e.mfa_token?"mfa_token":e.mfa_resend?"mfa_resend":_(e)}function m(e){return e.facebook_id?"facebook":e.google_open_id_token?"google":e.username_or_email?"email":"other"}},43452:(e,t,n)=>{n.d(t,{I:()=>d,L:()=>l,Z:()=>h,getGPCSignalState:()=>u,getThirdPartyMarketingTrackingEnabledAfterGPC:()=>p,mO:()=>c,setThirdPartyMarketingTrackingEnabledAfterGPC:()=>_,w0:()=>a});var s=n(904062),o=n(162474),i=n(111211);const r=async e=>{var t;const n=(null===(t=(await(0,o.Z)({url:`/v3/ppm/advertiser_kpis/${e}/no_micro/`})).resource_response)||void 0===t?void 0:t.data)||null;return!!(n&&Object.keys(n).length>0)};async function a(e,t,n){if(!e)return;const s=t?t.toString():"",o=n?n.toString():"";(0,i.tr)(s,o);await r(e)&&(0,i.lV)(s,o)}const l=async e=>{var t;const n=(null===(t=(await(0,o.Z)({url:`/v3/ppm/advertiser_kpis/${e}/ever_spend/`})).resource_response)||void 0===t?void 0:t.data)||null;n&&Object.keys(n).length>0&&"0"===n[e]&&(0,i.eP)(e)},c=async e=>{const t=await(async e=>{var t;const n=(null===(t=(await(0,o.Z)({url:`/v3/ppm/advertiser_kpis/${e}/spend/`})).resource_response)||void 0===t?void 0:t.data)||{};return n&&Object.keys(n).length>0?n:{}})(e);t&&Object.keys(t).length>0&&(0,i.M7)(t,e)},d=async e=>{const t=await(async e=>{var t;const n=(null===(t=(await(0,o.Z)({url:`/v3/ppm/advertiser_kpis/${e}/catalog/`})).resource_response)||void 0===t?void 0:t.data)||{};return n&&Object.keys(n).length>0?n:{}})(e);t&&Object.keys(t).length>0&&(0,i.F8)(t,e)},u=async()=>{var e;return 1===((null===(e=(await s.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED"}).callGet()).resource_response)||void 0===e?void 0:e.data)||null)},h=async()=>{const e=(await s.Z.create("UserStateResource",{state:"GPC_BROWSER_SIGNAL_EVER_DETECTED",value:1}).callCreate()).resource_response;return!!(e&&Object.keys(e).length>0)},p=async()=>{var e;return 1===((null===(e=(await s.Z.create("UserStateResource",{state:"SELECTED_THIRD_PARTY_SHARING_AFTER_GPC"}).callGet()).resource_response)||void 0===e?void 0:e.data)||null)},_=async()=>{const e=(await s.Z.create("UserStateResource",{state:"SELECTED_THIRD_PARTY_SHARING_AFTER_GPC",value:1}).callCreate()).resource_response;return!!(e&&Object.keys(e).length>0)}},298643:(e,t,n)=>{n.d(t,{Z:()=>o});const s="web.com.pinterest.www";function o(e){if(window.safari&&window.safari.pushNotification&&e.isAuth)try{if("default"===window.safari.pushNotification.permission(s).permission){const t=e.push_package_user_id;window.safari.pushNotification.requestPermission("https://"+window.location.hostname+"/_/_/push",s,{uid:t},(()=>{}))}}catch(t){}}},898960:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n(451051).Z},946848:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(667294),o=n(785893);function i({searchDelightText:e,searchDelightConfig:t}){const{text_background_color:n,text_colors:s=[]}=t,i=n?{backgroundColor:n,margin:"-2px",padding:"2px"}:void 0;if(s.length>1){let t=0;return(0,o.jsx)("span",{style:{whiteSpace:"pre-wrap",...i},children:e.split("").map(((e,n)=>{const i=s[t];return" "!==e&&(t=(t+1)%s.length),(0,o.jsx)("span",{style:{color:i},children:e},`searchDelight-${n}`)}))})}return(0,o.jsx)("span",{style:{color:s[0],whiteSpace:"pre-wrap",...i},children:e},`searchDelight-${e}`)}var r=n(883119);const a=({children:e,gray:t,weight:n="normal"})=>(0,o.jsx)(r.xv,{color:t?"subtle":void 0,inline:!0,weight:n,children:(0,o.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:e})}),l=({allBold:e,searchDelightParts:t,searchDelightConfig:n,text:r,weightPivot:l})=>{const c=t[1],d=r.indexOf(c),u=d+c.length;return l<=d?(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:r.substring(0,l)}),(0,o.jsxs)(a,{weight:"bold",children:[r.substring(l,d),(0,o.jsx)(i,{searchDelightText:c,searchDelightConfig:n}),r.substring(u)]})]}):l<=u?(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:r.substring(0,d)}),(0,o.jsxs)(a,{weight:"bold",children:[(0,o.jsx)(i,{searchDelightText:c,searchDelightConfig:n}),r.substring(u)]})]}):(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:r.substring(0,d)}),(0,o.jsx)(a,{weight:"bold",children:(0,o.jsx)(i,{searchDelightText:c,searchDelightConfig:n})}),(0,o.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:r.substring(u,l)}),(0,o.jsx)(a,{weight:"bold",children:r.substring(l)})]})},c=(e,t)=>t.map((t=>((e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;const s=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,s),e.slice(s,s+t.length)]})(e,t))).filter(Boolean).sort(((e,t)=>e&&t?e[0].length-t[0].length:0)).shift();function d({allBold:e,searchDelightConfig:t,query:n="",text:i}){const r=(i.toLowerCase().startsWith(n.toLowerCase())?n:"").length,d=t?c(i,t.search_query_list):null;return d&&t?(0,o.jsx)(l,{allBold:e,searchDelightParts:d,searchDelightConfig:t,text:i,weightPivot:r}):(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(a,{gray:!0,weight:e?"bold":"normal",children:i.substr(0,r)}),(0,o.jsx)(a,{weight:"bold",children:i.substr(r)})]})}},801151:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),o=n(883119),i=n(868426),r=n(434012),a=n(785893);function l({dataTestId:e,focusOptionId:t,isFocused:n,name:l,onBlur:c,onChange:d,onClick:u=(()=>{}),onFocus:h,onKeyDown:p,onSearchTrigger:_,placeholder:g,value:m,disabled:x=!1}){const f=(0,r.ZP)(),v=(0,s.useRef)(null);return(0,s.useEffect)((()=>{v.current&&_&&v.current.addEventListener("searchTrigger",_)}),[]),(0,s.useEffect)((()=>{if(!v.current)return;document.activeElement===v.current!==n&&(n?v.current.focus():v.current.blur())}),[n]),(0,a.jsxs)(o.xu,{height:"100%",flex:"grow",children:[(0,a.jsx)("input",{autoCapitalize:"off",autoCorrect:"off",autoComplete:"off","aria-activedescendant":t,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-label":f.bt("Search", "Search", "searchBox.searchInput.placeholder", undefined, true),"aria-expanded":n,"data-test-id":e,name:l,onBlur:c,onChange:e=>{d(e.target.value)},onClick:u,onFocus:h,onKeyDown:p,placeholder:g||f.bt("Search", "Search", "searchBox.searchInput.placeholder", undefined, true),ref:v,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"#333",fontFamily:i.Z,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:m,disabled:x}),(0,a.jsx)(o.xu,{display:"none",id:"searchBoxAccessibleText",children:f.bt("When the auto-complete results are available, use the up and down arrows to review and Enter to select. Touch device users can explore by touch or with swipe gestures.", "When autocomplete results are available use up and down arrows to review and enter to select. Touch device users, explore by touch or with swipe gestures.", "searchBox.searchInput.accessibleText", undefined, true)})]})}},429168:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(162474);function o({report:e,query:t,suggestions:n,type:o}){return(0,s.Z)({url:"/v3/search/suggestion/report/",method:"POST",data:{report:e,query:t,suggestions:n,type:o}})}},54176:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),o=n(904062);const i=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},r=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};r.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new i(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},r.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},r.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},r.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},r.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const a=r,l=5,c=0;function d({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:l},s=o.Z.create(e,n),i=new a,r=()=>{s.abort()};return async function(e,t){const n=i.get(`${t}-${e}`);if(n){const{items:t}=n;if(t&&t.length){r();const{hint:s}=n;return{hint:s,items:t,term:e}}}return e.length>=c?(async(e,t)=>{var n;if(s.isCalling()){var o,a;const n=null===(o=s.options)||void 0===o?void 0:o.term,i=null===(a=s.options)||void 0===a?void 0:a.pin_scope;if(e===n&&t===i)return;r()}const{bookmarks:l,...c}=s.options||{};s.options={...c,term:e,pin_scope:t};const d=null===(n=(await s.callGet({showError:!1})).resource_response)||void 0===n?void 0:n.data,u=null==d?void 0:d.items,h=(null==d?void 0:d.hint)||{},p={hint:h,items:u};return i.set(`${t}-${e}`,p),{term:e,items:u,hint:h}})(e,t):{hint:{},items:[],term:e}}}function u({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:o}){const i=(0,s.useRef)(!1),r=(0,s.useRef)({}),[a,l]=(0,s.useState)([]),c=function({resourceName:e,resourceOptions:t}){const n=(0,s.useRef)();return n.current||(n.current=d({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n}),u=n.pin_scope||"pins",h=`${u}-${o}`;return(0,s.useEffect)((()=>{(async()=>{if(null!=o&&(e||i.current))if(h in r.current)l(r.current[h]);else try{const e=await c(o,u);if(e){const{items:t}=e;r.current[h]=t,l(t)}}catch(t){if("Resource call aborted"===t)return;throw t}i.current||(i.current=!0)})()}),[o,u,h]),a}},256571:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(383443);function o(e){const{query:t,rs:n,scope:o,guideAdded:i,filters:r,user:a}=e;if(!t)return"/";const l={q:t,rs:n};if(r&&(l.filters=r),a&&(l.user=a),i&&i.term&&(l.add_refine=`${i.term}|guide|word|${i.index}`),window.location.pathname.startsWith("/explore"))return`/search/pins/?${(0,s.Z)(l)}`;let c=o;return["pins","buyable_pins","my_pins","boards","users","idea_pins"].includes(c)||(c="pins"),c?`/search/${c}/?${(0,s.Z)(l)}`:`${window.location.pathname}?${(0,s.Z)(l)}`}},846546:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(935057);function o(e){const t=(0,s.mB)(e.search)||{};let n;if(t.q){const t=e.pathname.split("/");n=t.length>2?t[2]:"pins"}if(t.q&&n){const e=Array.isArray(t.q)?t.q.join(" "):t.q,s=Array.isArray(t.rs)?"":t.rs,o=Array.isArray(t.user)?"":t.user;return{filters:t.filters||"",user:o,query:e||"",rs:s||"",scope:"pins"===n||"buyable_pins"===n||"my_pins"===n||"boards"===n||"users"===n||"videos"===n||"idea_pins"===n?n:"pins"}}return{filters:"",user:"",query:"",rs:"",scope:"pins"}}},464422:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(463839),o=n(383443);function i({bubbleId:e,pinId:t,query:n,referringSource:i,storyCategory:r,storyId:a,title:l}){const c=[0,24,21,26].includes(r),d=(0,o.Z)({q:n,rs:i||void 0,b_id:e,source_id:a,top_pin_id:t}),u=c&&l?(0,s.x)({title:l,id:e,articleType:"discover"}):`/discover/article/${e}/`;return c?u:"/search/pins/"+(d?"?"+d:"")}},699372:(e,t,n)=>{function s(e){return(e||"").trim().replace(/\s+/g," ")}n.d(t,{Z:()=>s})},607537:(e,t,n)=>{n.d(t,{i:()=>s});const s={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",UNKNOWN:"unknown"}},405967:(e,t,n)=>{n.d(t,{J:()=>s,Z:()=>o});const s=-1;function o(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},187689:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>Array.from(e)[0].toUpperCase()+Array.from(e).slice(1).join("")},824082:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(756766);const o=/\{\{\s*(\w+)\s*\}\}/g,i=(e,t)=>(0,s.Z)(o,e,t)},93953:(e,t,n)=>{n.d(t,{Z:()=>s});const s=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},756766:(e,t,n)=>{n.d(t,{Z:()=>s});const s=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},499237:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(824082),o=n(93953);const i=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,o.Z)(t[e].toString()):""})),(0,s.Z)(e,n)}},675475:(e,t,n)=>{n.d(t,{ZP:()=>r});const s=80,o="…",i=!1;function r(e,t=s,n=o,r=i){let a;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||r)a=e.substring(0,t);else{const n=e.lastIndexOf(" ",t);a=e.substring(0,n)}return a=a.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),a+n}},549622:(e,t,n)=>{function s(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>s})},323386:(e,t,n)=>{n.d(t,{Z:()=>f});var s=n(667294),o=n(203598),i=n(90096),r=n(260531),a=n(602404),l=n(567605),c=n(946689);const{Provider:d,useMaybeHook:u}=(0,c.Z)("timeSpentContext");var h=n(291756),p=n(836153),_=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends s.Component{constructor(e){super(e),g(this,"componentWillUnmount",(()=>{this.unregisterComponent()})),g(this,"getContext",(()=>{const{clientTrackingParams:e,component:t,element:n,objectId:s,timeSpentContext:o,view:i,viewParameter:r}=this.props;return{view:i||o&&o.view,viewParameter:r||o&&o.viewParameter,component:t||o&&o.component,element:n,objectId:s||o&&o.objectId,clientTrackingParams:e||o&&o.clientTrackingParams,getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}})),g(this,"getLoggerContext",(()=>{const e={...this.getContext()};return delete e.getParentUuid,e})),g(this,"getParentId",(()=>{const{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){const t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0})),g(this,"getUuid",(()=>this.state.timedPair?this.state.timedPair.uuid:void 0)),g(this,"getTimedPair",(()=>this.state.timedPair)),g(this,"setTimedPair",(e=>this.setState({timedPair:e}))),g(this,"isRegistered",!1),g(this,"registerComponent",(()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0})),g(this,"unregisterComponent",(()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)})),g(this,"handleVisibilityChange",(e=>{const{intersectionRatio:t}=e[0],{bottom:n,left:s,right:o,top:i}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===n&&0===s&&0===o&&0===i?this.unregisterComponent():this.registerComponent())})),this.state={timedPair:new l.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,a.Z)(e.auxData,this.props.auxData)&&(0,a.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){const{children:e}=this.props;return(0,_.jsx)(d,{value:this.getContext(),children:(0,_.jsx)(o.Z,{options:{threshold:0},onVisibilityChange:this.handleVisibilityChange,children:s.Children.only(e)})})}}function x(e){var t;const n=(0,i.Hv)(),o=u(),a=(0,h.w)(),l=(0,p.H0)(),{requestIdentifier:c=""}=(0,r.B)(),d={app_instance_id:c.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,s.useEffect)((()=>{null==a||a.setHistoryStackContext(n)}),[n,a]),(0,s.useEffect)((()=>{null==a||a.setPins(null!=l?l:{})}),[l,a]),a?(0,_.jsx)(m,{...e,auxData:d,timeSpentContext:o,timeSpentManager:a,children:e.children}):e.children}x.displayName="TimeSpent";const f=x},459576:(e,t,n)=>{n.d(t,{$J:()=>s,Ct:()=>p,Dm:()=>h,Ff:()=>u,Md:()=>l,My:()=>r,Rp:()=>a,ak:()=>i,d0:()=>_,gs:()=>g,jm:()=>c,oo:()=>o,vw:()=>d});const s={SMALL:"SMALL",MEDIUM:"MEDIUM",LARGE:"LARGE",MOBILE_SMALL:"MOBILE_SMALL",MOBILE_LARGE:"MOBILE_LARGE"},o=2,i=6,r=3,a=1.5,l=16,c=8,d=16/9,u=25,h="Includes Paid Promotion #Ad",p={PRE_LIVE:1,OFFLINE:2,LIVE:3,POST_LIVE:4},_={TRUE:!0,FALSE:!1,UNKNOWN:void 0},g=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","EU"]},110569:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),o=n(883119),i=n(725230),r=n(434012),a=n(396681),l=n(785893);function c({color:e="dark",completeButtonText:t,completeUrl:n,dismissButtonText:c,experienceId:d,external:u,message:h,onComplete:p,onDismiss:_}){const g=(0,r.ZP)(),m=(0,s.useRef)(null),x=({event:e})=>{p&&p(e)},f=({event:e})=>{_&&_(e)},v=h&&!t,y=500735===d,b=t&&(!n||y)&&(0,l.jsx)(o.zx,{color:"white",onClick:x,text:t}),w=t&&n&&(0,l.jsx)(i.Z,{anchor:".HomeButton2",anchorElementRef:m.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,l.jsx)(o.ZP,{accessibilityLabel:t,ref:m,href:n,onClick:({event:e})=>x({event:e}),rel:u?"nofollow":"none",size:"md",color:"white",text:t},"naglink")}),S=c&&_&&(0,l.jsx)(o.xu,{mdPaddingX:2,children:(0,l.jsx)(o.zx,{color:"shopping"===e?"white":"gray",onClick:f,text:c})}),A=v&&!y&&_&&!c&&(0,l.jsx)(o.hU,{accessibilityLabel:g.bt("Close", "Close", "accessibility close label", undefined, true),bgColor:"lightGray",onClick:f,icon:"cancel",iconColor:"gray",size:"md"});return(0,l.jsxs)(o.xu,{display:"flex",direction:"column",smDirection:"row",color:e,paddingY:3,paddingX:6,alignItems:"center",justifyContent:"between",children:[(0,l.jsx)(o.xu,{column:12,smColumn:v?11:8,children:(0,l.jsxs)(o.xv,{color:"inverse",weight:y?"normal":"bold",children:[(0,l.jsx)(a.Z,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,l.jsx)("div",{className:"Banner--message",children:(0,l.jsx)("span",{dangerouslySetInnerHTML:{__html:h}})})]})}),(0,l.jsxs)(o.kC,{alignItems:"center",justifyContent:"end",children:[S,b||w,A]})]})}},437714:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),o=n(883119),i=n(434012),r=n(785893);const a=new o.Ry(1e4);function l(){const[e,t]=(0,s.useState)(!1),[n,l]=(0,s.useState)(null),c=(0,i.ZP)(),d=(0,s.useCallback)((()=>{null==n||n.removeAttribute("tabindex"),null==n||n.removeEventListener("blur",d),null==n||n.removeEventListener("focusout",d)}),[n]);(0,s.useEffect)((()=>(n||l(document.querySelector('[role="main"]')),()=>{null==n||n.removeEventListener("blur",d),null==n||n.removeEventListener("focusout",d)})),[n,d]);const u=(0,r.jsx)(o.xu,{color:"primary",children:(0,r.jsx)(o.kC,{width:"100%",alignItems:"center",justifyContent:"center",height:75,children:(0,r.jsx)(o.xv,{underline:e,align:"center",color:"inverse",weight:"bold",children:c.bt("Skip to content", "Skip to content", "SkipToContent.Message", undefined, true)})})});return(0,r.jsx)(o.iP,{onBlur:()=>t(!1),onFocus:()=>t(!0),onTap:()=>{null==n||n.setAttribute("tabindex","-1"),null==n||n.focus({preventScroll:!0}),null==n||n.addEventListener("blur",d),null==n||n.addEventListener("focusout",d)},children:e?(0,r.jsx)(o.xu,{"data-test-id":"skipToContentContainer",position:"fixed",width:"100%",zIndex:a,children:u}):(0,r.jsx)(o.xu,{"data-test-id":"hiddenSkipToContentContainer",height:1,width:1,margin:-1,overflow:"hidden",position:"absolute",children:u})})}},809280:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(883119),o=n(785893);const i=18;function r({accessibilityLabel:e,color:t,count:n,icon:r,iconSize:a}){const l=n<100?`${n}`:"99+";return(0,o.jsxs)(s.xu,{position:"relative",children:[(0,o.jsx)(s.JO,{accessibilityLabel:e,color:t,icon:r,size:a}),n>0&&(0,o.jsx)(s.xu,{alignItems:"center",color:"primary",dangerouslySetInlineStyle:{__style:{right:-6-2*l.length,top:-8,padding:`0 ${3===l.length?"2px":"3px"} 0 2px`}},display:"flex",height:i,justifyContent:"center",minWidth:i,position:"absolute",rounding:"pill",children:(0,o.jsx)(s.xv,{align:"center",color:"inverse",size:"100",weight:"bold",children:(0,o.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{padding:"0 0 1px 1px"}},children:l})})})]})}},905790:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(915898);const o=({url:e})=>{if(e){const t=e.split("?");if(t[1])return(0,s.Z)(t[1])}return(0,s.Z)()}},852706:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(221983),o=n(666742);function i({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:i,advertiserId:r}){const a=`${e||t||n?`${o.C0}`:""}${i}`;return r?(0,s.Z)(a,{advertiserId:r}):a}},203601:(e,t,n)=>{n.d(t,{Z:()=>r,q:()=>i});var s=n(667294);const o=()=>{const[e,t]=(0,s.useState)(!1),[n,o]=(0,s.useState)(!1),[i,r]=(0,s.useState)(!1);return{active:e,focused:n,hovered:i,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function i({children:e}){return e(o())}const r=o},273038:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(278286),o=n(290588);function i({children:e}){const{setAppFocusState:t}=(0,o.I)();return(0,s.Z)((()=>(t(!1),()=>{t(!0)}))),e}},100085:(e,t,n)=>{n.d(t,{By:()=>o,di:()=>r,s8:()=>i});var s=n(162474);const o=async({limit:e,sortBy:t="FULL_NAME",sortDirection:n="ASCENDING",searchBy:o="FULL_NAME",searchTerm:i="",startIndex:r=0})=>(await(0,s.Z)({url:"ads/v4/business_access/businesses/me/get_pinterest_support_businesses",data:{sort_by:t,sort_ascending:"ASCENDING"===n,search_by:o,search_value:i,start_index:r,page_size:e}})).resource_response,i=async e=>(await(0,s.Z)({url:`ads/v4/business_access/businesses/${e}/get_pinterest_support_access`})).resource_response,r=async()=>(await(0,s.Z)({url:"ads/v4/pinterest_support_managed_advertisers",data:{add_fields:"advertiser.owner_user()"}})).resource_response},919066:(e,t,n)=>{n.d(t,{A6:()=>i,AJ:()=>d,Eq:()=>h,F$:()=>o,H:()=>l,Iv:()=>A,Ix:()=>w,LN:()=>f,Mr:()=>r,NM:()=>s,Pc:()=>b,ZH:()=>x,bH:()=>p,bn:()=>m,c:()=>c,eE:()=>a,eZ:()=>v,he:()=>g,kG:()=>u,kS:()=>P,nM:()=>y,rl:()=>S,sC:()=>_});const s="/product-catalogs/",o="/business/catalogs/",i="/business/catalogs/data-sources/",r="/business/catalogs/product-groups/",a="/business/catalogs/diagnostics/",l="/business/catalogs/product-listings/",c="/business/catalogs/trends",d="/business/catalogs/:catalog_id/data-sources/feed-debugger/",u="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/",h="/business/catalogs/:catalog_id/product-groups/edit/:product_group_id/",p="/business/catalogs/:catalog_id/product-groups/create/",_="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/",g="/business/catalogs/:catalog_id/data-sources/:feed_profile_id/workflows/:workflow_id/alert/:event_type_id",m="/business/catalogs/:catalog_id/product-groups/:product_group_id/",x="/business/catalogs/:catalog_id/product-groups/bulk/",f="/business/catalogs/:catalog_id/data-sources/",v="/business/catalogs/:catalog_id/product-groups/",y="/business/catalogs/:catalog_id/data-sources/regions/",b=[i,f],w=[r,v],S=[a,"/business/catalogs/:catalog_id/diagnostics/"],A=[l,"/business/catalogs/:catalog_id/product-listings/"],P=[c,"/business/catalogs/:catalog_id/data-sources/:feed_profile_id/trends/"]},453111:(e,t,n)=>{n.d(t,{Z:()=>o});var s=n(919066);function o({isPartner:e,location:t}){return e&&(t.pathname.includes(s.NM)||t.pathname.includes(s.F$))}},797684:(e,t,n)=>{n.r(t),n.d(t,{RoleBasedAccessControlProvider:()=>v,useRoleBasedAccessControlContext:()=>f});var s=n(667294),o=n(946689),i=n(835686),r=n(233423),a=n(578662),l=n(612753),c=n(430848),d=n(549622);const u=e=>{const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&("object"!=typeof e[n]||null===e[n]||Array.isArray(e[n])?t[(0,d.Z)(n)]=e[n]:t[(0,d.Z)(n)]=u(e[n]));return t},h=(e,t)=>{const n=[];for(const i in e)i!==t&&n.push({id:i,...u(e[i])});const s=n.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),o=new Map;for(const i of s)o.set(i.id,i);return o},p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},_=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},g=e=>{const[t,n]=(0,s.useReducer)(_,p),o=(({dispatch:e,isEnabled:t,state:n})=>{const{orbacVisibility:o,disableProfileChanger:i,headerVisible:r}=n;return{changeProfile:(0,s.useCallback)((n=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:n})}),[t,e]),toggleORBACVisibility:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o]),toggleDisableProfileChanger:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=n?n:!i})}),[t,e,i]),toggleHeaderVisibility:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!r})}),[t,e,r])}})({dispatch:n,isEnabled:e,state:t}),{activeProfile:i,orbacVisibility:r}=t;(0,s.useEffect)((()=>{const e=(0,c.qn)("orbacActiveProfile",!1);e&&n({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,s.useEffect)((()=>{const e=(0,c.qn)("orbacVisibilty",!1);e&&n({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,s.useEffect)((()=>{(0,c.Nh)("orbacVisibility",r)}),[r]),(0,s.useEffect)((()=>{(0,c.Nh)("orbacActiveProfile",i)}),[i]);return{state:t,actions:o,receiveProfiles:(0,s.useCallback)(((e,t)=>{n({type:"LOAD_PROFILES",payload:h(e,t)})}),[n])}};var m=n(785893);const{Provider:x,useMaybeHook:f}=(0,o.Z)("RoleBasedAccessControlContext"),v=({children:e})=>{const{checkExperiment:t}=(0,i.F)(),n=(0,a.Z)(),o=Boolean(n.isAuth&&n.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:u}=g(o),{activeProfile:h,headerVisible:p,profiles:_=[]}=c,f=_?Array.from(_.values()):[],v=(0,l.Z)(f),y=!!(n.isAuth&&f.length>0)&&v,b=n.isAuth?n.id:"",w=n.isAuth?n.username:"",{changeProfile:S,toggleORBACVisibility:A,toggleDisableProfileChanger:P,toggleHeaderVisibility:C}=d;(0,s.useEffect)((()=>{o&&("string"!=typeof v?h||S(b):S(v))}),[v,b,o,S,h]),(0,s.useEffect)((()=>{o&&(y&&!p&&C(!0),!y&&p&&C(!1))}),[C,y,o,p,_]);const{data:E}=(0,r.Z)(o?{name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0}}:null),I=null==E?void 0:E.profiles;let j;n&&n.isAuth&&c.activeProfile===n.id?j={id:n.id,permissions:["OWNER"],user:{username:w,businessName:n.fullName,imgUrl:n.imageSmallUrl}}:h&&c.profiles&&(j=c.profiles.get(h)),(0,s.useEffect)((()=>{I&&u(I,b)}),[u,I,b]);const T=c.profiles?Array.from(c.profiles.values()):[];return(0,m.jsx)(x,{value:{profiles:T,headerVisible:c.headerVisible,activeProfile:j,changeProfile:S,toggleORBACVisibility:A,toggleDisableProfileChanger:P,toggleHeaderVisibility:C},children:e})}},127428:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(240684),o=n(835686),i=n(578662),r=n(785893);const a=(0,s.ZP)({resolved:{},chunkName:()=>"RoleBasedAccessControlProvider",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.resolve().then(n.bind(n,797684)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 797684}},{resolveComponent:e=>e.RoleBasedAccessControlProvider}),l=({children:e})=>{const t=(0,i.Z)(),{checkExperiment:n}=(0,o.F)();return t.isAuth&&t.isPartner&&n("web_m10n_business_access_orbac_www").anyEnabled?(0,r.jsx)(a,{fallback:e,children:e}):e},c=l},568310:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(835686),o=n(797684),i=n(612753);const r=()=>{const{checkExperiment:e}=(0,s.F)(),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:n}=t||{},r=e("web_m10n_business_access_orbac_www").anyEnabled,a=(0,i.Z)((null==t?void 0:t.profiles)||[]),{anyEnabled:l}=e("useorbacroutematcher_in_useorbacactingas");return r?l&&!a?Object.freeze({}):n&&(n.viewerMeetsMfaRequirement||(n.permissions||[]).includes("OWNER"))?n:Object.freeze({}):Object.freeze({})}},612753:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(616550),o=n(504289),i=n(835686),r=n(578662),a=n(836153);const l=e=>{var t,n,l,c;const d=(0,s.useLocation)(),u=(0,r.Z)(),h=(0,a.S6)(),{anyEnabled:p}=(0,i.F)().checkExperiment("web_m10n_business_access_orbac_www"),_=(0,s.useRouteMatch)("/:username"),g=null==_||null===(t=_.params)||void 0===t?void 0:t.username,m=(0,s.useRouteMatch)("/pin/:id"),x=!(null==m||null===(n=m.params)||void 0===n||!n.id)&&(null===(l=h(m.params.id))||void 0===l||null===(c=l.pinner)||void 0===c?void 0:c.id);if((0,o.ej)(d))return!1;if((0,o.RU)(d))return!0;if((0,o.mY)(d))return p;const f=e.concat(u.isAuth?{user:{username:u.username},id:u.id}:{}).find((e=>{const{user:t={},id:n}=e||{},{username:s}=t;return!!(s&&g||x&&n)&&(s===g||x===n)}));return!!f&&f.id}},581444:(e,t,n)=>{n.d(t,{D3:()=>c,DX:()=>a,KY:()=>d,Ms:()=>s,N1:()=>u,_P:()=>r,lJ:()=>i,nl:()=>o,q6:()=>l});const s=(e,t)=>{let n=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(n=t.user.username),n},o=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),i=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",r=(e,t,n)=>{var s;return n&&n.user&&t&&t.isAuth&&n.id!==t.id?n.user.merchantId:null===(s=e.advertiser)||void 0===s?void 0:s.merchant_id},a=(e,t,n)=>n&&n.user&&e.isAuth&&n.id!==e.id?n.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,n)=>!!(e&&e.isAuth&&n&&n.id&&n.id!==e.id&&n.id===t),c=(e,t,n)=>!!(l(e,t,n)||e&&e.isAuth&&t===e.id),d=(e,t,n)=>{const s=t&&t.owner&&t.owner.id||"";return c(e,s,n)};function u(e,t,n){const s=t?t.id:"";return c(e,s,n)}},200949:(e,t,n)=>{n.d(t,{I:()=>_,a:()=>p});var s=n(667294),o=n(616550),i=n(704609),r=n(946689),a=n(835686),l=n(578662),c=n(735975),d=n(945518),u=n(785893);const{Provider:h,useMaybeHook:p}=(0,r.Z)("PinSupportToolContext"),_=({children:e,viewerAdvertiser:t})=>{const{checkExperiment:n}=(0,a.F)(),r=(0,l.Z)(),p=r.isAuth&&r.isPartner&&n("web_m10n_pin_support_tool").anyEnabled,{state:_,actions:g}=(0,d.Z)(p),m=(0,c.Z)(),{sterling_on_steroids_ldap:x}=(0,i.u)(),{activeAdAccount:f,headerVisible:v}=_,y=r.isAuth&&!!x&&m.size>0,{changeClient:b,changeAdAccount:w,toggleHeaderVisibility:S}=g;(0,s.useEffect)((()=>{p&&(y&&!v&&r.has_mfa_enabled&&S(!0),!y&&v&&r.has_mfa_enabled&&S(!1))}),[S,y,p,v,r.has_mfa_enabled]);const A=(()=>{const{search:e}=(0,o.useLocation)();return(0,s.useMemo)((()=>new URLSearchParams(e)),[e])})(),P=A.get("managedClientId"),C=A.get("advertiserId")||(null==t?void 0:t.id);(0,s.useEffect)((()=>{P&&C?w(C,P):P&&b(P)}),[b,w,P,C]);const E=m.get((null==f?void 0:f.clientId)||""),I=((null==E?void 0:E.managedAdAccounts)||new Map).get((null==f?void 0:f.adAccountId)||""),j=[...m.values()];return(0,u.jsx)(h,{value:{managedBusinesses:j,headerVisible:_.headerVisible,activeClient:E,activeAdAccount:I,viewerAdvertiser:t,changeClient:b,changeAdAccount:w,toggleHeaderVisibility:S},children:e})}},167053:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(835686),o=n(578662),i=n(200949),r=n(785893);const a=({children:e,viewerAdvertiser:t})=>{const n=(0,o.Z)(),{checkExperiment:a}=(0,s.F)();return n.isAuth&&n.isPartner&&a("web_m10n_pin_support_tool").anyEnabled?(0,r.jsx)(i.I,{viewerAdvertiser:t,children:e}):e}},735975:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),o=n(835686),i=n(578662),r=n(100085),a=n(945518);const l=()=>{const{checkExperiment:e}=(0,o.F)(),t=(0,i.Z)(),n=Boolean(t.isAuth&&t.isPartner&&e("web_m10n_pin_support_tool").anyEnabled),{state:l,receiveAdAccounts:c}=(0,a.Z)(n),{managedBusinessesMap:d,error:u,fetching:h}=l,p=Boolean(u)||d.size>0,_=(0,s.useCallback)((async()=>{var e;const t=await(0,r.di)();c(null!==(e=null==t?void 0:t.data)&&void 0!==e?e:[])}),[c]);return(0,s.useEffect)((()=>{p||h||_()}),[_,p,h]),d}},945518:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(667294),o=n(430848);const i=e=>[...e.map((e=>({id:e.business.id,ownedAndManagedAdAccounts:e.business.ad_account_count,user:e.business.pinterest_support_business,managedAdAccounts:e.advertisers.reduce(((e,t)=>e.set(t.id,t)),new Map)})))].sort((({user:{username:e}},{user:{username:t}})=>e.localeCompare(t))).map((e=>{const t=[...e.managedAdAccounts.values()].sort((({name:e},{name:t})=>e.localeCompare(t)));return e.managedAdAccounts=t.reduce(((e,t)=>e.set(t.id,t)),new Map),e})).reduce(((e,t)=>e.set(t.id,t)),new Map),r={managedBusinessesMap:new Map,headerVisible:!1,activeAdAccount:{clientId:void 0,adAccountId:void 0},fetching:!1,error:!1},a=(e,t)=>{switch(t.type){case"LOAD_AD_ACCOUNTS":return{...e,managedBusinessesMap:t.payload.managedBusinesses};case"SET_ACTIVE_CLIENT":case"SET_ACTIVE_AD_ACCOUNT":return{...e,activeAdAccount:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};default:return e}},l=e=>{const[t,n]=(0,s.useReducer)(a,r),l=(({dispatch:e,isEnabled:t,state:n})=>{const{headerVisible:o}=n;return{changeClient:(0,s.useCallback)((n=>{t&&e({type:"SET_ACTIVE_CLIENT",payload:{clientId:n,adAccountId:null}})}),[t,e]),changeAdAccount:(0,s.useCallback)(((n,s)=>{t&&e({type:"SET_ACTIVE_AD_ACCOUNT",payload:{adAccountId:n,clientId:s}})}),[t,e]),toggleHeaderVisibility:(0,s.useCallback)((n=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=n?n:!o})}),[t,e,o])}})({dispatch:n,isEnabled:e,state:t}),{activeAdAccount:c}=t;(0,s.useEffect)((()=>{const e=JSON.parse((0,o.qn)("psToolAdAccount",!1));e&&n({type:"SET_ACTIVE_AD_ACCOUNT",payload:e})}),[]),(0,s.useEffect)((()=>{(0,o.Nh)("psToolAdAccount",JSON.stringify(c))}),[c]);return{state:t,actions:l,receiveAdAccounts:(0,s.useCallback)((e=>{const t=i(e);n({type:"LOAD_AD_ACCOUNTS",payload:{managedBusinesses:t}})}),[n])}}},973100:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(240684),o=n(883119),i=n(852186),r=n(434012),a=n(213297),l=n(785893);const c=(0,s.ZP)({resolved:{},chunkName:()=>"FullPageSignup",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(35074),n.e(16458)]).then(n.bind(n,237089)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 237089}});function d(e){const t=(0,r.ZP)();return(0,l.jsx)(a.Z,{onCloseClick:()=>{e.onClose&&e.onClose()},renderContent:()=>(0,l.jsx)(o.xu,{display:"flex",justifyContent:"center",flex:"grow","data-test-id":"account-switcher-modal",children:(0,l.jsx)(c,{fallback:(0,l.jsx)(i.Z,{}),container:e.container,hideAccountSwitchValueProp:e.hideAccountSwitchValueProp,signupFlow:{type:"login",email:e.email},isAccountSwitch:!0,signupSource:"login",customLoginTagline:e.customTaglineText||t.bt("Add account", "Add account", "Short text on the button that allows a user to log in to another Pinterest account", undefined, true),attributionLabel:e.attributionLabel})})})}},598349:(e,t,n)=>{n.d(t,{T:()=>c,g:()=>l});var s=n(667294),o=n(946689),i=n(973100),r=n(785893);const{Provider:a,useHook:l}=(0,o.Z)("AccountSwitcherLoginModal");function c({children:e}){const[t,n]=(0,s.useState)(!1),[o,l]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),u=(0,s.useCallback)(((e,t)=>{d(e),t&&l(t),n(!0)}),[]),h=(0,s.useMemo)((()=>({showAccountSwitcherLoginModal:u})),[u]);return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(a,{value:h,children:e}),t&&(0,r.jsx)(i.Z,{container:c,email:null!=o?o:"",onClose:()=>n(!1)})]})}},213297:(e,t,n)=>{n.d(t,{Z:()=>d});var s=n(883119),o=n(434012),i=n(396681),r=n(780621),a=n(785893);const l="\n.AccountSwitcherModal {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n}\n",c={mask:{backgroundColor:"rgba(0, 0, 0, 0.6)",opacity:1,position:"fixed",top:"0px",bottom:"0px",left:"0px",right:"0px",zIndex:1e3},scroller:{WebkitOverflowScrolling:"touch",overflowY:"scroll",bottom:"0px",left:"0px",right:"0px",top:"0px",position:"fixed",WebkitBoxOrient:"vertical",WebkitBoxDirection:"normal",WebkitFlexDirection:"column",msFlexDirection:"column",flexDirection:"column",WebkitJustifyContent:"space-around",msFlexPack:"distribute",justifyContent:"space-around"},modalContainer:{display:"flex",minHeight:"0px",position:"relative",opacity:1,borderRadius:"6px",margin:"0 auto"},closeButton:{backgroundColor:"Transparent",backgroundRepeat:"no-repeat",border:"none",outline:"none",overflow:"hidden",padding:"10px",position:"fixed",right:"24px",top:"24px"}};function d(e){const t=(0,o.ZP)(),n=e=>{(0,r.My)(`unauth.account_switcher_modal.${e}`)},{renderContent:d}=e;return(0,a.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:c.mask},children:[(0,a.jsx)(i.Z,{unsafeCSS:l}),(0,a.jsx)("div",{className:"AccountSwitcherModal",onClick:()=>{n("empty_space_click");const{onCloseClick:t}=e;t()},role:"dialog",style:c.scroller,children:(0,a.jsxs)("div",{onClick:e=>{e.stopPropagation()},role:"dialog",style:c.modalContainer,children:[d(),(0,a.jsx)("button",{"aria-label":t.bt("close", "close", "accessible label for close button", undefined, true),onClick:()=>{n("close_button_click");const{onCloseClick:t}=e;t()},style:c.closeButton,children:(0,a.jsx)(s.JO,{accessibilityLabel:t.bt("close", "close", "accessible label for close button", undefined, true),color:"inverse",icon:"cancel",inline:!0})})]})})]})}},531142:(e,t,n)=>{n.d(t,{N:()=>h,t:()=>g});var s=n(667294),o=n(904062),i=n(592555),r=n(792350),a=n(722690),l=n(946689),c=n(835686),d=n(785893);const{Provider:u,useHook:h}=(0,l.Z)("LinkedAccount"),p=e=>{(0,i.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},_=e=>{r.Z.reportFacebookConversion(a.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),r.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),r.Z.reportLinkedInConversion(a.Z.LINKEDIN_PARTNER_ID,a.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),r.Z.reportGoogleConversion(a.Z.GOOGLE_ADWORDS_ID,a.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function g({children:e}){const[t,n]=(0,s.useState)(!1),[i,r]=(0,s.useState)([]),{checkExperiment:a}=(0,c.F)(),l=a("ppm_p_gate").anyEnabled,h=(0,s.useCallback)((({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:s,nextUrl:i})=>{n(!0);const r={business_name:e,third_party_apps:t};return o.Z.create("BusinessOwnershipResource",r).callCreate({showError:!0}).then((()=>{s&&_(l),n(!1),p(i)})).catch((e=>(n(!1),Promise.reject({error:e}))))}),[n,l]),g=(0,s.useMemo)((()=>({createLinkedBusinessAccount:h,linkedBusinessCreationLoading:t,userAccounts:i,userAccountsRetrieved:r})),[h,t,r,i]);return(0,d.jsx)(u,{value:g,children:e})}},763211:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(702664),o=n(616550),i=n(240684),r=n(883119),a=n(260531),l=n(935057),c=n(55592),d=n(630700),u=n(84678),h=n(785893);const p=(0,i.ZP)({resolved:{},chunkName:()=>"ProPartnerHeaderDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(30381),n.e(67123)]).then(n.bind(n,861057)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 861057}}),_=(0,i.ZP)({resolved:{},chunkName:()=>"ProAdvertiserSwitcherDropdown",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(6743),n.e(38253),n.e(89980)]).then(n.bind(n,524506)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 524506}}),g=(0,i.ZP)({resolved:{},chunkName:()=>"PinSupportToolHeader",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(6743),n.e(38253),n.e(77726)]).then(n.bind(n,347409)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 347409}});function m({isBPMPage:e,isShoppingCatalogs:t,isVMPStatusPage:n,viewer:i}){const m=(0,c.ZP)(),x=(0,o.useLocation)(),{advertiser:f}=(0,a.B)(),v="desktop"===m?"DESKTOP":"MOBILE",y=(0,s.useSelector)((({experiences:e})=>e)),b=i.isAuth&&i.isPartner,w=9===(y[11]||{}).type?null:(0,h.jsx)(u.Z,{experience:y[30],nags:i.nags||[]}),S=x.search&&(0,l.mB)(x.search).advertiserId;return(0,h.jsx)(r.xu,{"data-test-id":"header-"+(b?"PartnerHeader":"Header"),children:b?t||n&&S||e?(0,h.jsxs)(r.xu,{"data-test-id":"pro-partner-header",children:[(0,h.jsx)(g,{isWwwSite:!0}),(0,h.jsx)(p,{currentSite:v,isShoppingCatalogs:t,suppressSearchBox:!0,advertiserSwitcherDropdown:f?(0,h.jsx)(_,{activeAdvertiser:f,isAdsSite:!1,isAnalyticsSite:!1,isWwwSite:!0,showCreateButton:!1,showViewAllButton:!0,userId:i.id||""}):null})]}):(0,h.jsxs)(r.xu,{"data-test-id":"pro-partner-header",children:[(0,h.jsx)(g,{}),(0,h.jsx)(p,{currentSite:v,nags:w})]}):(0,h.jsx)(d.Z,{currentSite:v,nags:w,viewer:i})})}},430370:(e,t,n)=>{n.d(t,{FT:()=>h,GW:()=>l,HW:()=>d,PX:()=>m,V3:()=>c,Wo:()=>p,XA:()=>C,bJ:()=>_,cZ:()=>S,dF:()=>w,f6:()=>P,jY:()=>E,k:()=>v,kV:()=>y,nP:()=>b,nY:()=>x,pg:()=>A,qc:()=>g,tR:()=>f});var s=n(407069),o=n(675475),i=n(643517),r=n(221983),a=n(666742);const l="/branded-pins",c={PENDING:"PENDING",APPROVED:"APPROVED",DENIED:"DENIED"},d=(u={REQUESTED:0,APPROVED:1,REJECTED:2},Object.keys(u).reduce(((e,t)=>{const n={...e};return n[t]=t,n}),{}));var u;const h=e=>{let t;switch(e){case c.PENDING:t=d.REQUESTED;break;case c.APPROVED:t=d.APPROVED;break;case c.DENIED:t=d.REJECTED;break;default:t=d.REQUESTED}return t},p={APPROVED:"APPROVED",REJECTED:"REJECTED",ERROR:"ERROR"},_=(e,t,n)=>{let s;const o={[p.APPROVED]:{icon:"workflow-status-ok",displayText:e.bt("Approved", "Approved", "brandedContentPinCard.footer.approvedIcon", undefined, true),color:"success"},[p.REJECTED]:{icon:"workflow-status-problem",displayText:e.bt("Denied", "Denied", "brandedContentPinCard.footer.deniedIcon", undefined, true),color:"error"},[p.ERROR]:{icon:"workflow-status-problem",displayText:e.bt("Try again", "Try again", "brandedContentPinCard.footer.errorIcon", undefined, true),color:"error"}};return 1===n&&(s=o.APPROVED),2===n&&(s=o.REJECTED),!0===t&&(s=o.ERROR),s},g=e=>{let t;return e===p.APPROVED?t=1:e===p.REJECTED&&(t=2),t},m=(e,t)=>(0,o.ZP)(e,t,"…",!0),x=`${a.C0}/branded-pins/`,f=(e,t)=>{const n=s.Z.create({entity:"campaign"});return e&&t?(0,r.Z)(i.au+"/advertiser/"+e+n,{pinId:t,from:"bpm"}):i.au},v={ERROR_APPROVING:"ERROR_APPROVING",ERROR_REJECTING:"ERROR_REJECTING",ERROR_DEFAULT:"ERROR_DEFAULT"},y=302,b=384,w=254,S=142,A=173,P=12,C=35,E=9},539127:(e,t,n)=>{n.d(t,{Z:()=>l,i:()=>a});var s=n(667294),o=n(946689),i=n(785893);const{Provider:r,useHook:a}=(0,o.Z)("ContentHeader");function l({children:e}){const[t,n]=(0,s.useState)(!1),o=(0,s.useMemo)((()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:n})),[t]);return(0,i.jsx)(r,{value:o,children:e})}},511965:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(667294),o=n(616550),i=n(776145),r=n(504289),a=n(835686),l=n(451051),c=n(593954),d=n(578662),u=n(453111),h=n(836153),p=n(785893);const _=(0,s.lazy)((()=>Promise.all([n.e(15071),n.e(98611)]).then(n.bind(n,498611)))),g=()=>{var e,t;const n=(0,d.Z)(),s=(0,o.useLocation)(),{checkExperiment:g}=(0,a.F)(),m=!!n.isAuth&&n.isPartner,x=(0,u.Z)({isPartner:m,location:s})||(0,r.rk)(s)||(0,r.dW)(s)||(0,r.bb)(s),f=(0,r.O7)(s)||(0,r.RU)(s)&&m,v=null===(e=(0,o.matchPath)(s.pathname,{path:"/pin/:id",exact:!0}))||void 0===e?void 0:e.params.id;let y;return!(null===(t=(0,h.S6)()(v||""))||void 0===t||!t.story_pin_data)&&(y=g("dweb_reactions_expansion_mvp_idea_video_pin").anyEnabled?172:124),(0,p.jsx)(c.Z,{id:"footer",children:(0,p.jsx)(i.Z,{name:"SafeSuspense_DesktopApp_Footer",children:(0,p.jsx)(l.Z,{children:(0,p.jsx)(_,{hideQuestionMarkButton:x,isPartner:m,liftFooterButtonByPx:y,showInsiteFeedback:f})})})})}},351693:(e,t,n)=>{n.d(t,{HW:()=>r,YW:()=>u,i3:()=>h,o2:()=>d});var s=n(667294),o=n(946689),i=n(785893);const r=660,a={educationId:null,paddingRight:0,zIndex:r};function l(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":const{educationId:n}=t.payload;return{...e,educationId:n};case"FOOTER_SET_PADDING_RIGHT":const{paddingRight:s}=t.payload;return{...e,paddingRight:s};case"FOOTER_SET_Z_INDEX":const{zIndex:o}=t.payload;return{...e,zIndex:o};default:return e}}const{Provider:c,Consumer:d,useHook:u}=(0,o.Z)("footerContext");function h({children:e}){const[t,n]=(0,s.useReducer)(l,a),o=(0,s.useCallback)((e=>n({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}})),[]),r=(0,s.useCallback)((e=>n({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}})),[]),d=(0,s.useCallback)((e=>n({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}})),[]),u=(0,s.useMemo)((()=>({...t,setEducationId:r,setPaddingRight:o,setZIndex:d})),[t,r,o,d]);return(0,i.jsx)(c,{value:u,children:e})}},615536:(e,t,n)=>{n.d(t,{c:()=>o,t:()=>i});var s=n(338928);function o({children:e}){const{height:t}=(0,s.J)();return e(t)}function i(){const{height:e}=(0,s.J)();return e}},338928:(e,t,n)=>{n.d(t,{J:()=>c,Z:()=>p});var s=n(667294),o=n(946689),i=n(531142),r=n(39005),a=n(785893);const{Provider:l,useHook:c}=(0,o.Z)("Header"),d={childList:!0,attributes:!0,subtree:!0},u={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function h(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw new Error("action type not supported")}}function p({children:e}){const t=(0,s.useRef)(null),[{height:n,isInBiznuxFullscreen:o,repinPinId:c,repinStartAnimation:p,showAccountMenuFlyout:_},g]=(0,s.useReducer)(h,u);(0,s.useEffect)((()=>{const e=document.getElementById(r.WZ),n=()=>{e&&g({type:"updateHeight",payload:e.clientHeight})};return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(n),t.current.observe(e,d)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}}));const m=(0,s.useMemo)((()=>({height:n,isInBiznuxFullscreen:o,repinPinId:c,repinStartAnimation:p,showAccountMenuFlyout:_,updateHeaderState:g})),[g,n,o,c,p,_]);return(0,a.jsx)(l,{value:m,children:(0,a.jsx)(i.t,{children:e})})}},630700:(e,t,n)=>{n.d(t,{Z:()=>ce});var s=n(667294),o=n(616550),i=n(23279),r=n.n(i),a=n(883119),l=n(644333),c=n(971033),d=n(534299),u=n(152935),h=n(220927),p=n(434012),_=n(504289),g=n(832698),m=n(835686),x=n(260531),f=n(599997),v=n(780621),y=n(935057),b=n(531142),w=n(196046),S=n(545168),A=n(976753),P=n(234983),C=n(725230),E=n(589504),I=n(691546),j=n(243084),T=n(203601),k=n(785893);const R=48,Z=60,L=505586,D=1000109;function O(e,t,n){return e||t?"selected":n?"secondary":void 0}const M=({anchorElementRef:e,children:t,url:n})=>"/"===n?(0,k.jsx)(C.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,z=({children:e,role:t,url:n,contextData:o,onClick:i})=>{const r=(0,P.Z)(),l=(0,j.Z)({href:n||"",onHistoryChange:I.Jd}),c=(0,s.useRef)(null),{onBlur:d,onFocus:u,onMouseDown:h,onMouseEnter:p,onMouseLeave:_,onMouseUp:g}=(0,T.Z)(),m=e=>{if(o){const{event:e,component:t,element:n}=o;r({component:t,element:n,event_type:e})}i&&i(e)};return"link"===t?(0,k.jsx)(a.iP,{href:n||"",onBlur:d,onFocus:u,onMouseDown:h,onMouseEnter:p,onMouseLeave:_,onMouseUp:g,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),m(e),n&&l({event:e})},ref:c,role:"link",rounding:6,children:e}):(0,k.jsx)(a.iP,{onBlur:d,onFocus:u,onMouseDown:h,onMouseEnter:p,onMouseLeave:_,onMouseUp:g,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),m(e),n&&l({event:e})},ref:c,role:"button",rounding:6,children:e})};function B({contextData:e,iconEnd:t,isSelected:n,onClick:o=(()=>{}),role:i="link",showNotifBadge:r=!1,text:l,url:c}){const d=(0,p.ZP)(),u=(0,s.useRef)(null),{active:h,hovered:_}=(0,T.Z)(),g=(0,E.Z)(D),m=()=>(0,k.jsx)(a.xu,{"aria-label":d.bt("Notifications", "Notifications", "header.headerTab.notifBadge", undefined, true),color:"primary",height:6,marginStart:1,marginTop:-2,rounding:"circle",width:6});return(0,k.jsx)(a.xu,{flex:"none",height:R,minWidth:Z,rounding:6,children:(0,k.jsx)(M,{url:c||"",anchorElementRef:u,children:(0,k.jsx)(z,{contextData:e,onClick:e=>{o(e),r&&g.completeExperience(D,L)},role:i,url:c,children:(0,k.jsx)(a.xu,{color:O(n,h,_),dangerouslySetInlineStyle:{__style:{backgroundColor:h&&!n?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:R,minWidth:Z,rounding:6,paddingX:4,children:(0,k.jsxs)(a.kC,{height:"100%",justifyContent:"center",alignItems:"center",children:[(0,k.jsx)(a.xv,{align:"center",color:n?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:l}),t&&(0,k.jsx)(a.xu,{marginStart:2,children:(0,k.jsx)(a.JO,{icon:t,accessibilityLabel:"",color:n?"inverse":"default",size:12})}),r&&(0,k.jsx)(A.Z,{eligibleIds:[L],placementId:D,children:(0,k.jsx)(m,{})})]})})})})})}const N=({isSelected:e})=>{const t=(0,p.ZP)(),{logContextEvent:n}=(0,S.v)(),i=(0,c.Z)(),r=(0,s.useRef)(null),d=(0,s.useRef)(null),[u,h]=(0,s.useState)(!1),_=(0,o.useHistory)(),g=e=>{n({event_type:101,component:13988,element:e}),h(!1)};return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(a.xu,{ref:r,"data-test-id":"addPinButton",children:(0,k.jsx)(B,{contextData:{event:101,component:8,element:12969},onClick:e=>{i?(n({event_type:101,component:13988,element:10949}),e.preventDefault(),_.push({pathname:(0,l.Z)(i),state:{entry_type:"navbar_plus_button"}})):h((e=>!e))},isSelected:e,text:t.bt("Create", "Create", "header.section.createTab", undefined, true),role:i?"link":"button",iconEnd:i?void 0:"arrow-down"})}),r&&(0,k.jsx)(A.Z,{eligibleIds:[504669],placementId:1000109,eligibleTypes:[8],children:({complete:e,dismiss:t,experience:n})=>{const{display_data:s}=n;return d.current={complete:e},null!=s&&s.disappear_time&&setTimeout((()=>{t()}),s.disappear_time),(0,k.jsx)(a.xu,{zIndex:new a.Ry(10),children:(0,k.jsx)(a.Li,{anchor:r.current,idealDirection:"down",onDismiss:()=>{},accessibilityLabel:"PopoverEducational",message:null==s?void 0:s.text})})}}),u&&(0,k.jsxs)(a.Lt,{anchor:r.current,idealDirection:"down",onDismiss:()=>{h(!1)},zIndex:new a.Ry(1e3),id:"header-create-dropdown",children:[(0,k.jsx)(a.Lt.Link,{dataTestId:"create-idea-pin",href:"/idea-pin-builder/",onClick:()=>g(10949),option:{value:"ideaPin",label:t.bt("Create Idea Pin", "Create Idea Pin", "header.headerCreateMenu.ideaPinBtn", undefined, true)}}),(0,k.jsx)(a.Lt.Link,{dataTestId:"create-static-pin",href:"/pin-builder/",onClick:()=>g(10643),option:{value:"pin",label:t.bt("Create Pin", "Create Pin", "header.headerCreateMenu.pinBtn", undefined, true)}})]})]})};var F=n(473939),H=n(928966),U=n(593954),q=n(39005);function G(e,t){return e?"dark":t?"secondary":void 0}function V({tabs:e}){var t;const n=(0,p.ZP)(),[o,i]=(0,s.useState)(!1),{hovered:r,onMouseEnter:l,onMouseLeave:c}=(0,T.Z)(),d=(0,s.useRef)();let u=e.find((e=>e.isSelected));u||(u=e.find((e=>"home"===e.key)));const h=()=>i(!1);return(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(a.xu,{color:G(o,r),flex:"none",display:"inlineBlock",height:48,minWidth:60,onMouseEnter:l,onMouseLeave:c,ref:d,rounding:6,marginStart:2,children:(0,k.jsx)(a.iP,{fullHeight:!0,onTap:()=>i(!o),rounding:6,children:(0,k.jsxs)(a.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:"14px 14px",whiteSpace:"nowrap"}},display:"flex",flex:"none",justifyContent:"center",children:[(0,k.jsx)(a.xv,{align:"center",color:o?"inverse":"default",overflow:"normal",weight:"bold",children:null===(t=u)||void 0===t?void 0:t.text}),(0,k.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:"1px"}},marginStart:2,children:(0,k.jsx)(a.JO,{accessibilityLabel:n.bt("Open tab menu", "Open tab menu", "header.tabMenu.downArrow", undefined, true),color:o?"inverse":"default",icon:"arrow-down",size:12})})]})})}),o&&(0,k.jsx)(U.Z,{id:"HeaderCollapsedTabsMenu",children:(0,k.jsx)(a.Lt,{anchor:d.current,id:"HeaderCollapsedTabsMenu",onDismiss:h,zIndex:new a.H3([new a.Ry(q.fe)]),children:e.map((({isSelected:e,key:t,text:s,url:o})=>(0,k.jsx)(a.Lt.Link,{href:o,option:{value:t,label:s},onClick:h,children:(0,k.jsxs)(a.kC,{alignItems:"center",width:"100%",children:[(0,k.jsx)(a.kC.Item,{flex:"grow",children:(0,k.jsx)(a.xv,{weight:"bold",children:s})}),(0,k.jsx)(a.JO,{accessibilityLabel:n.bt("Selected option", "Selected option", "flyoutMenu.selectedOptionCheckmark", undefined, true),color:"default",icon:e?"check":void 0,inline:!0})]})},t)))})})]})}var W=n(176140),$=n(666742),Y=n(578662);function K({headerIconExperience:e,isWwwSite:t=!0,onClick:n,url:o}){const i=(0,p.ZP)(),r=(0,Y.Z)(),l=(0,P.Z)(),[c,d]=(0,s.useState)(null),u=()=>{l({component:8,element:244,event_type:101}),n&&n()};let h=t?"/":$.C0;r.partner&&(h=t?"/":$.Ag);const _=t&&o?o:h;return(0,k.jsx)(C.Z,{anchor:".pinLogo",anchorElementRef:c,experience:e,onCompleteClick:u,children:(0,k.jsx)(a.hU,{role:"link",accessibilityLabel:i.bt("Home", "Home", "header.homeButton.section", undefined, true),href:_,iconColor:"brandPrimary",icon:"pinterest",onClick:u,padding:3,ref:e=>{null===e||c||d(e)},size:"xl",tabIndex:-1})})}var X=n(233423);function J({children:e,isSelected:t}){const{isLoaded:n,data:s}=(0,X.Z)({name:"HomefeedBadgingResource",noCache:!0});return e(Boolean(n&&s)&&!t)}function Q({anchor:e}){const t=(0,p.ZP)();return(0,k.jsx)(a.Li,{anchor:e,idealDirection:"down",onDismiss:()=>{},message:t.bt("Your home feed will show ideas for your new interests", "Your home feed will show ideas for your new interests", "Flyout message on Pinterest logo on Header", undefined, true)})}var ee=n(998982),te=n(151230),ne=n(111465),se=n(991487);function oe({isSelected:e}){const t=(0,p.ZP)();(0,ne.Z)({component:8,element:11674});const n=t.bt("Explore", "Explore", "header.section.exploreTab", undefined, true);return(0,k.jsx)(B,{contextData:{event:101,component:8,element:11674},isSelected:e,showNotifBadge:!0,text:n,url:(0,se.tG)()})}var ie=n(434739),re=(n(84678),n(168054));function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class le extends s.Component{constructor(e){super(e),ae(this,"mounted",!1),ae(this,"iconRoutes",{bag:"shop_pins",explore:"discover",home:"/",profile:this.props.viewer.username,search:"search",today:"today",create:this.props.isIdeaPinRenamingEnabled?"pin-creation-tool":"idea-pin-builder"}),ae(this,"logoButtonRef",(0,s.createRef)()),ae(this,"profileRef",(0,s.createRef)()),ae(this,"getCollapsedTabList",(()=>[{key:"home",text:this.props.i18n.bt("Home", "Home", "header.homeButton.section", undefined, true),url:"/"},...this.props.isTodayTabEligible?[{key:"today",text:this.props.i18n.bt("Today", "Today", "header.section.todayTab", undefined, true),url:(0,se.tG)()}]:[],{key:"create",text:this.props.i18n.bt("Create", "Create", "header.section.createTab", undefined, true),url:(0,l.Z)(this.props.isIdeaPinRenamingEnabled)}])),ae(this,"getSubpage",(e=>{if("/"===e||""===e)return"home";const t=e.split("/",2)[1];if(t&&this.iconRoutes)for(const n of Object.keys(this.iconRoutes))if(t===this.iconRoutes[n])return n;return null})),ae(this,"handleResize",r()((()=>{if(this.mounted){var e;const t=(null===(e=document.getElementById("searchBoxContainer"))||void 0===e?void 0:e.offsetWidth)||0;this.setState({searchIconOnly:t<=300}),window.innerWidth<850&&this.props.requestContext?this.setState({shrinkSearchbox:!0}):this.state.shrinkSearchbox&&this.setState({searchIconOnly:!1,shrinkSearchbox:!1})}}),100)),ae(this,"fetchUserAccounts",(()=>{const{userAccountsRetrieved:e,viewer:t}=this.props;(0,g.dD)(t).then((t=>{e(t)}))})),this.state={headerIconExperience:null,searchIconOnly:!1,selected:this.getSubpage(e.location.pathname),showLeftTabs:!0,showToolTip:!1,shrinkSearchbox:!1}}componentDidMount(){const{headerButtonContext:e}=this.props;this.mounted=!0,this.fetchUserAccounts(),this.handleResize(),window.addEventListener("resize",this.handleResize),(0,s.startTransition)((()=>{e.setLogoButtonRef(this.logoButtonRef.current)}))}componentDidUpdate(e){const{location:t,showToolTipExp:n}=this.props;if(e.location.pathname!==t.pathname){const e=this.getSubpage(t.pathname);this.setState({selected:e})}e.showToolTipExp!==n&&(this.state.showToolTip||this.setState({showToolTip:!0}))}componentWillUnmount(){window.removeEventListener("resize",this.handleResize),this.mounted=!1}renderButtons(){const{currentSite:e,headerButtonContext:t,history:n}=this.props,{headerIconExperience:o,selected:i,searchIconOnly:r,showLeftTabs:l,showToolTip:c,shrinkSearchbox:d}=this.state;return(0,k.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsxs)(a.xu,{children:[(0,k.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,k.jsx)(K,{headerIconExperience:o},"HomeButton")}),c&&(0,k.jsx)(u.default,{experienceIds:[500613],placementId:19,anchor:this.logoButtonRef.current,shouldTimeoutDismiss:!0,noClickToDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,k.jsx)(Q,{anchor:this.logoButtonRef.current})]}),!d&&l&&(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(J,{isSelected:"home"===i,children:e=>(0,k.jsx)(B,{isSelected:"home"===i,showNotifBadge:e,text:this.props.i18n.bt("Home", "Home", "header.homeButton.section", undefined, true),url:"/"})}),this.props.isTodayTabEligible&&(0,k.jsx)(oe,{isSelected:"today"===i}),(0,k.jsx)(N,{isSelected:"create"===i})]}),d&&l&&(0,k.jsx)(V,{tabs:this.getCollapsedTabList().map((e=>({isSelected:i===e.key,...e})))}),n.push&&(0,k.jsx)(w.Z,{handleIconOnlyChange:e=>this.setState({showLeftTabs:r&&e}),iconOnly:r,widthType:d?"shrink":void 0}),(0,k.jsxs)(a.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:[(0,k.jsx)(te.F,{value:{currentSite:e},children:(0,k.jsx)(ie.Z,{})}),(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(a.xu,{ref:this.profileRef,children:(0,k.jsx)(ee.Z,{children:(0,k.jsx)(F.Z,{isSelected:"profile"===i})})}),(0,k.jsx)(h.Z,{currentSite:e})]})]})]})}renderHomeButtonAndAccountSwitcher(){const{currentSite:e,headerButtonContext:t}=this.props,{headerIconExperience:n,selected:o,showToolTip:i}=this.state;return(0,k.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsxs)(a.xu,{children:[(0,k.jsx)(a.xu,{ref:this.logoButtonRef,"aria-hidden":!0,children:(0,k.jsx)(K,{headerIconExperience:n},"HomeButton")}),i&&(0,k.jsx)(u.default,{experienceIds:[500613],placementId:19,anchor:this.logoButtonRef.current,shouldTimeoutDismiss:!0,noClickToDismiss:!0}),t.isTooltipOnLogoButtonShown&&(0,k.jsx)(Q,{anchor:this.logoButtonRef.current})]}),(0,k.jsx)(a.xu,{flex:"grow"}),(0,k.jsx)(a.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:(0,k.jsxs)(s.Fragment,{children:[(0,k.jsx)(a.xu,{ref:this.profileRef,children:(0,k.jsx)(ee.Z,{children:(0,k.jsx)(F.Z,{isSelected:"profile"===o})})}),(0,k.jsx)(h.Z,{currentSite:e})]})})]})}renderUnsubscribePageHeader(){const{headerIconExperience:e}=this.state,{history:t,i18n:n}=this.props;return(0,k.jsxs)(a.xu,{alignItems:"center",column:12,display:"flex",height:56,children:[(0,k.jsx)(a.xu,{children:(0,k.jsx)(K,{headerIconExperience:e},"HomeButton")}),(0,k.jsx)(a.xu,{flex:"grow"}),(0,k.jsx)(a.xu,{display:"flex",alignItems:"center","data-test-id":"button-container",children:(0,k.jsx)(a.iP,{tapStyle:"compress",rounding:2,onTap:()=>{t.push("/"),(0,v.My)("web.unsubscribe_page.back_to_pinterest.click")},children:(0,k.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,k.jsx)(a.xv,{inline:!0,weight:"bold",size:"300",children:n.bt("Back to Pinterest", "Back to Pinterest", "header.backToPinterest.section", undefined, true)}),(0,k.jsx)(F.Z,{isSelected:!1,noNavigation:!0})]})})})]})}renderHeaderContent(){const{location:e,viewer:t}=this.props;if((0,_.RU)(e)){const t=(0,y.mB)(e.search);if((0,d.Z)(t))return this.renderHomeButtonAndAccountSwitcher()}else if((0,_.OK)(e)&&t.isLimitedLogin)return this.renderUnsubscribePageHeader();return this.renderButtons()}render(){const{headerShadowContext:{isScrolled:e,subheaderShadow:t},nags:n}=this.props;return(0,k.jsxs)(a.xu,{color:"default",column:12,"data-test-id":"header-background",children:[n,(0,k.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{...null===t&&e?q.Rz:{}}},children:(0,k.jsx)(a.kC,{direction:"column",height:q.cI,justifyContent:"start",width:"100%",children:(0,k.jsx)(a.xu,{alignItems:"center",column:12,display:"flex",flex:"grow",paddingX:4,paddingY:1,children:this.renderHeaderContent()})})})]})}}function ce(e){var t;const n=(0,p.ZP)(),s=(0,re.X2)(),i=(0,x.B)(),{checkExperiment:r}=(0,m.F)(),{userAccountsRetrieved:a}=(0,b.N)();r("community_engagement_holdout_2023_h1"),r("community_engagement_holdout_2023_h2"),r("social_growth_holdout_2022_h2"),r("social_growth_holdout_2023_h1"),r("social_growth_holdout_2023_h2");const l=(0,c.Z)(),d=(0,f.bl)(),u=s&&Object.keys(s).map((e=>s[e])).filter((e=>e.showTooltip)).length>0;return(0,k.jsx)(le,{...e,headerButtonContext:(0,H.p)(),headerShadowContext:(0,W.WQ)(),history:(0,o.useHistory)(),i18n:n,isIdeaPinRenamingEnabled:l,isTodayTabEligible:d,location:(0,o.useLocation)(),requestContext:i,showPersonalBoutique:null!==(t=e.viewer.show_personal_boutique)&&void 0!==t&&t,showToolTipExp:u,userAccountsRetrieved:a})}},473939:(e,t,n)=>{n.d(t,{Z:()=>b});var s=n(667294),o=n(883119),i=n(658342),r=n(434012),a=n(691546),l=n(243084),c=n(835686),d=n(260531),u=n(593954),h=n(852706),p=n(203601),_=n(578662),g=n(338928),m=n(39005),x=n(785893);const f=48,v=30;function y({children:e,show:t,text:n}){return t?(0,x.jsx)(o.u,{accessibilityLabel:"",text:n,zIndex:new o.H3([new o.Ry(m.fe)]),children:e}):e}function b({isAdsSite:e=!1,isAnalyticsSite:t=!1,isTrendsSite:n=!1,isSelected:m,noNavigation:b=!1}){const w=(0,_.Z)(),S=(0,d.B)(),A=(0,r.ZP)(),{checkExperiment:P}=(0,c.F)(),{active:C,hovered:E,onBlur:I,onFocus:j,onMouseDown:T,onMouseUp:k,onMouseEnter:R,onMouseLeave:Z}=(0,p.Z)(),{fullName:L,username:D,imageMediumUrl:O}=w.isAuth?w:{fullName:"",username:"",imageMediumUrl:""},{isInBiznuxFullscreen:M}=(0,g.J)(),z=(0,s.useRef)(null),B=(0,h.Z)({isAdsSite:e,isAnalyticsSite:t,isTrendsSite:n,path:`/${D}/`,requestContext:S}),N=(0,l.Z)({href:B,onHistoryChange:a.Jd});if(M||b)return(0,x.jsx)(o.xu,{height:f,rounding:"circle",width:f,"data-test-id":"header-profile",children:(0,x.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,x.jsx)(o.xu,{alignItems:"center",display:"flex",height:v,justifyContent:"center",rounding:"circle",width:v,children:(0,x.jsx)(i.qE,{name:L,size:"xs",src:O})})})});const F=![e,t,n].some(Boolean),H=F&&E&&P("dweb_modernize_navbar").group.includes("enabled")?A.bt("Saved", "Saved", "navbar.avatarButton.tooltip", undefined, true):A.bt("Your profile", "Your profile", "navbar.avatarButton.tooltip", undefined, true);return(0,x.jsx)(u.Z,{id:"header-profile",children:(0,x.jsx)(y,{show:F,text:H,children:(0,x.jsx)(o.iP,{href:B,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),N({event:e})},role:"link",rounding:"circle",children:(0,x.jsx)(o.xu,{color:E?"secondary":void 0,height:f,onBlur:I,onFocus:j,onMouseDown:T,onMouseUp:k,onMouseEnter:R,onMouseLeave:Z,rounding:"circle",ref:z,width:f,children:(0,x.jsx)(o.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,x.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{...C||m?{border:"2px solid #111111"}:{}}},display:"flex",height:v,justifyContent:"center",rounding:"circle",width:v,children:(0,x.jsx)(i.qE,{name:L,size:"xs",src:O})})})})})})})}},928966:(e,t,n)=>{n.d(t,{e:()=>o,p:()=>i});var s=n(946689);const{Provider:o,useHook:i}=(0,s.Z)("headerButtonContext")},574352:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(667294),o=n(928966),i=n(785893);function r({children:e}){const[t,n]=(0,s.useState)(null),[r,a]=(0,s.useState)(!1),l=(0,s.useMemo)((()=>({logoButtonRef:t,setLogoButtonRef:n,isTooltipOnLogoButtonShown:r,toggleTooltipOnLogoButton:a})),[t,r]);return(0,i.jsx)(o.e,{value:l,children:e})}},39005:(e,t,n)=>{n.d(t,{L1:()=>i,Rz:()=>l,WZ:()=>r,cI:()=>o,fe:()=>a,hu:()=>s});const s=64,o=80,i=22,r="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},193838:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),o=n(883119),i=n(545168),r=n(725230),a=n(785893);const l=({anchorElementRef:e,children:t,experienceAnchor:n})=>n?(0,a.jsx)(r.Z,{anchor:".HomeButton2",anchorElementRef:e.current,containerBoxConfig:{display:"flex",height:"100%"},children:t}):t,c=({accessibilityLabel:e,compactMode:t,icon:n,rightIcon:r,selected:c,text:d,type:u="link",url:h,contextData:p,onClick:_})=>{const{logContextEvent:g}=(0,i.v)(),[m,x]=(0,s.useState)("transparent"),f=(0,s.useRef)(null),v=()=>{x("secondary")},y=()=>{x("transparent")},b=()=>{x("transparent")},w=()=>{x("secondary")},S=e=>{if(p){const{event:e,component:t,element:n}=p;g({event_type:e,component:t,element:n})}_&&_(e)};let A=(0,a.jsx)(o.iP,{accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:"circle",onMouseEnter:v,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsx)(o.xu,{rounding:"circle",height:48,width:48,color:m,display:"flex",alignItems:"center",justifyContent:"center",children:n})});if(r||"link"!==u||!h||t){if("link"===u&&(t&&n||r)){let s="pill";const i="200";let l,u;s=n||r?d&&!t?"pill":"circle":"pill",n&&(l=n),r&&(u=r);const p=d instanceof Object?d:(0,a.jsx)(o.xv,{color:c?"default":"subtle",overflow:"normal",size:i,weight:"bold",children:d});A=(0,a.jsx)(o.iP,{role:"link",href:h||"",accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:s,onMouseEnter:v,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[l,!!d&&!t&&(0,a.jsx)(o.xu,{paddingX:2,children:p}),u]})})}}else A=(0,a.jsx)(l,{experienceAnchor:"/"===h?".HomeButton2":"",anchorElementRef:f,children:(0,a.jsx)(o.iP,{role:"link",href:h,accessibilityLabel:e,onTap:({event:e})=>S(e),rounding:"pill",ref:f,onMouseEnter:v,onMouseLeave:y,onFocus:w,onBlur:b,children:(0,a.jsx)(o.xu,{paddingX:4,paddingY:4,rounding:"pill",color:m,children:(0,a.jsx)(o.xv,{color:c?"default":"subtle",overflow:"normal",weight:"bold",children:d})})})});return(0,a.jsx)(o.xu,{position:"relative",children:A})}},176140:(e,t,n)=>{n.d(t,{Hv:()=>d,WQ:()=>c});var s=n(667294),o=n(946689),i=n(986608),r=n(785893);const a=50,{Provider:l,useHook:c}=(0,o.Z)("HeaderShadow");function d({children:e}){const[t,n]=(0,s.useState)(!1),[o,c]=(0,s.useState)(0),[d,u]=(0,s.useState)(null);return(0,s.useEffect)((()=>{const e=(0,i.Z)((()=>{n(window.scrollY>0),c(window.scrollY)}),a);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]),(0,r.jsx)(l,{value:{currentScrollPosition:o,isScrolled:t,setSubheaderShadow:u,subheaderShadow:d},children:e})}},998982:(e,t,n)=>{n.d(t,{Z:()=>m});var s=n(667294),o=n(883119),i=n(396681),r=n(338928),a=n(836153),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d="SavePin",u={__style:{left:"50%",marginLeft:-125}},h={__style:{animationName:`${d}_AnimateIn, ${d}_CircleAnimateOut`,animationDuration:"0.3s, 0.25s",animationDelay:"0.5s, 1.3s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",backgroundColor:"rgba(255, 255, 255, 0.6)"}},p={__style:{animationName:`${d}_AnimateIn, ${d}_AnimateOut`,animationDuration:"0.3s, 0.35s",animationDelay:"0.5s, 1.55s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out",border:"4px solid white"}},_={__style:{animationName:`${d}_NavButtonAnimation`,animationDuration:"0.8s",animationDelay:"1.65s",animationFillMode:"forwards",animatitionTimingFunction:"ease-out"}};class g extends s.Component{constructor(...e){super(...e),c(this,"state",{imageLoaded:!1}),c(this,"handleAnimationCompletion",(()=>{const{animationEnded:e}=this.props;this.setState({imageLoaded:!1},(()=>{e()}))})),c(this,"handleImageLoad",(()=>{this.setState({imageLoaded:!0})})),c(this,"loadImage",(()=>{const e=new Image;e.onload=this.handleImageLoad,e.src=this.imageSrc()})),c(this,"imageSrc",(()=>{var e,t;const{images:n={}}=this.props.lastRepin||{};return null!==(e=null===(t=n["236x"])||void 0===t?void 0:t.url)&&void 0!==e?e:""})),c(this,"shouldRenderAnimation",(()=>{const{lastRepin:e,startAnimation:t}=this.props,{imageLoaded:n}=this.state;return Boolean(e&&n&&t)}))}componentDidUpdate(e,t){const{lastRepin:n={}}=e,{imageLoaded:s}=t,{lastRepin:o,startAnimation:i}=this.props,{imageLoaded:r}=this.state;o&&o.id!==(null==n?void 0:n.id)&&this.loadImage(),i&&r&&r!==s&&(this.dismissTimeout=setTimeout(this.handleAnimationCompletion,2500))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}render(){const{children:e}=this.props;return this.shouldRenderAnimation()?(0,l.jsxs)(o.kC,{alignItems:"stretch",flex:"grow",justifyContent:"center",children:[(0,l.jsx)(i.Z,{unsafeCSS:`\n@keyframes ${d}_AnimateIn {\n  from {\n    transform: scale(0.0);\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n    transform: scale(1.0);\n  }\n}\n@keyframes ${d}_CircleAnimateOut {\n  from {\n    transform: scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: scale(0.8);\n    opacity: 0;\n  }\n}\n@keyframes ${d}_AnimateOut {\n  from {\n    transform: translateY(0) scale(1.0);\n    opacity: 1;\n  }\n  to {\n    transform: translateY(-100px) scale(0.0);\n    opacity: 0;\n  }\n}\n@keyframes ${d}_NavButtonAnimation {\n  0% {\n    transform: scale(1.0);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1.0);\n  }\n}\n`}),(0,l.jsxs)(o.xu,{position:"relative",children:[(0,l.jsxs)(o.xu,{width:250,height:250,position:"absolute",top:!0,dangerouslySetInlineStyle:u,children:[(0,l.jsx)(o.xu,{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",opacity:0,rounding:"circle",dangerouslySetInlineStyle:h}),(0,l.jsx)(o.xu,{width:100,height:100,position:"absolute",left:!0,right:!0,top:!0,bottom:!0,margin:"auto",opacity:0,rounding:3,dangerouslySetInlineStyle:p,children:(0,l.jsx)(o.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:(0,l.jsx)(o.Ee,{alt:"pin-image",fit:"cover",naturalHeight:1,naturalWidth:1,src:this.imageSrc()})})})]}),(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:_,children:e})]})]}):e}}function m(e){const{repinPinId:t,repinStartAnimation:n,updateHeaderState:s}=(0,r.J)(),o=(0,a.S6)(),i=t?o(t):null;return(0,l.jsx)(g,{...e,animationEnded:()=>s({type:"hideRepinAnimation"}),lastRepin:i,startAnimation:n})}},151230:(e,t,n)=>{n.d(t,{F:()=>o,j:()=>i});var s=n(946689);const{Provider:o,useHook:i}=(0,s.Z)("SiteParametersContextType")},463293:(e,t,n)=>{n.d(t,{Jo:()=>d,mv:()=>h,nJ:()=>u});var s=n(667294),o=n(946689);const i={hiddenNews:{}};function r(e=i,t){if("HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS"===t.type){const{payload:{id:n,isHidden:s}}=t;return{hiddenNews:{...e.hiddenNews,[n]:s}}}return e}var a=n(785893);const{Provider:l,useHook:c}=(0,o.Z)("HiddenNews");function d({children:e}){const[t,n]=(0,s.useReducer)(r,i),o=(0,s.useMemo)((()=>({dispatch:n,hiddenNews:t})),[n,t]);return(0,a.jsx)(l,{value:o,children:e})}function u(){const{dispatch:e,hiddenNews:{hiddenNews:t}}=c();return(0,s.useMemo)((()=>({updateNewsIdToHiddenNews:(t,n)=>{e({type:"HIDDEN_NEWS_ADD_ID_TO_HIDDEN_STATUS",payload:{id:t,isHidden:n}})},getShownNewsCount:e=>e.filter((e=>!(e.id in t&&t[e.id]))).length})),[e,t])}function h(){const{hiddenNews:e}=c();return e}},613955:(e,t,n)=>{n.d(t,{Z:()=>b});var s,o=n(667294),i=n(702664),r=n(167912),a=n(146564),l=n(339736),c=n(835686),d=n(325063),u=n(586159),h=n(43452),p=n(260531),_=n(607537),g=n(643517),m=n(821762),x=n(578662),f=n(603586);const v=(e,t,n)=>{setTimeout((()=>{t?e(t):e()}),n||300)},y=void 0!==s?s:s=n(58041);function b(){var e;const{unauthId:t,country:n,countryFromHostName:s,countryFromIp:b,regionFromIp:w}=(0,p.B)(),{checkExperiment:S}=(0,c.F)(),A=(0,x.Z)(),P=g.nB.includes(w),C=g.PR.includes(w),E=null===(e=(0,r.useLazyLoadQuery)(y,{}).v3GetThirdPartyTrackingSettingsQuery)||void 0===e?void 0:e.data,[I,j]=(0,o.useState)(E&&E.sendPixel&&!C),[T,k]=(0,o.useState)(E&&E.sendEventsToFacebook&&!C),R=A.isAuth?A.id:null,Z=R||"",L=(0,i.useDispatch)(),[D,O]=(0,o.useState)(!1),M=!("undefined"==typeof window||!window.navigator||!window.navigator.globalPrivacyControl)&&window.navigator.globalPrivacyControl;return(0,o.useEffect)((()=>{let e=!1;if(async function(){if(M&&P)try{const n=await(0,h.getGPCSignalState)();e||n||await(0,h.Z)();const s=await(0,h.getThirdPartyMarketingTrackingEnabledAfterGPC)();e||s||(await(t=!1,L((0,f._L)({field:"third_party_marketing_tracking_enabled",value:t,onSettingSavedHn:()=>{},showErrorHn:()=>{},surfaceTag:_.i.SETTINGS,userId:Z}))),j(!1),k(!1))}catch(n){}var t;e||O(!0)}(),D&&I){const e=S("ppm_p_gate").anyEnabled;v(m.jO,{pixelBlocked:e}),(0,u.c_)({country:n,countryFromHostName:s,countryFromIp:b})&&(v(m.X,{id:a.me,eventCategory:"Logins",eventName:"LoggedInViews"}),v(m.X,{id:a.Ph,eventName:"Desktop"})),(0,u.$r)({country:n,countryFromHostName:s,countryFromIp:b,regionFromIp:w})&&v(m.Kv,{id:"flashtalking-d-ses",eventName:"Desktop"}),(0,u.NR)({country:n,regionFromIp:w})&&t&&R&&(v(m.fh,{unauthId:t,userId:R}),v(m.c,{id:d.xA,unauthId:t,userId:R,eventCategory:"EngagedSessions",eventName:"Desktop"},6e4)),(0,u.Fc)({country:n,countryFromHostName:s,countryFromIp:b})&&t&&R&&v(m.Xn,{unauthId:t,userId:R})}return()=>{e=!0}}),[S,n,s,b,w,M,D,t,R,P,Z,I,L]),(0,o.useEffect)((()=>{D&&I&&((0,u.c_)({country:n,countryFromHostName:s,countryFromIp:b})&&(0,l.Z)(null,A,28)&&v(m.X,{id:a.Nv,eventName:"Desktop",eventCategory:"RezLogins"}),(0,u.NR)({country:n,regionFromIp:w})&&t&&R&&(0,l.Z)(null,A,28)&&(0,m.EN)({pixelId:d.Dq,eventCategory:"RezLogins",eventName:"Desktop"}))}),[n,s,b,w,A,t,R,D,I]),(0,o.useEffect)((()=>{D&&T&&(v(m.Um),(0,u.Fc)({country:n,countryFromHostName:s,countryFromIp:b})&&v(m.KT))}),[n,s,b,T,D]),null}},84678:(e,t,n)=>{n.d(t,{Z:()=>v});var s=n(667294),o=n(483240),i=n(976753),r=n(46626),a=n(654504),l=n(898960),c=n(434012),d=n(110569),u=n(785893);class h extends s.Component{constructor(...e){var t,n,s;super(...e),s={mounted:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}componentDidMount(){this.setState({mounted:!0})}render(){if(this.state.mounted)return null;const e=this.props.i18n.bt("Pinterest doesn't work unless you <a style=\"text-decoration: underline; color: #fff\" href=\"http://enable-javascript.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">turn on JavaScript</a>.", "Oh no! Pinterest doesn't work unless you <a style=\"text-decoration: underline; color: #fff\" href=\"http://enable-javascript.com/\" target=\"_blank\" rel=\"noopener noreferrer nofollow\">turn on JavaScript.</a>", "Nag to tell users Javascript is disabled and the site is broken without it", undefined, true);return(0,u.jsx)("noscript",{children:(0,u.jsx)(d.Z,{message:e},"noscriptNag")})}}function p(e){const t=(0,c.ZP)();return(0,u.jsx)(h,{...e,i18n:t})}const _=(0,s.lazy)((()=>n.e(34715).then(n.bind(n,334715)))),g=(0,s.lazy)((()=>n.e(62985).then(n.bind(n,362985)))),m=(0,s.lazy)((()=>n.e(87890).then(n.bind(n,687890)))),x=(0,s.lazy)((()=>n.e(71444).then(n.bind(n,871444))));class f extends s.Component{constructor(e,t){var n,s,o;super(e,t),o=e=>{this.setState((t=>({nags:t.nags.filter((t=>t!==e))})))},(s="removeNag")in(n=this)?Object.defineProperty(n,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[s]=o;const i=[...this.props.nags||[]];this.state={nags:i}}componentDidUpdate(){a.Z.updateObstructions()}render(){const{experience:e}=this.props;if(502597===(null==e?void 0:e.experience_id))return(0,u.jsx)(i.Z,{eligibleTypes:[13],placementId:30,transitionType:17,children:({complete:e})=>(0,u.jsx)(o.Z,{name:"SafeSuspense_Nags_CookieConsentBanner",children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(g,{handleComplete:e,isNag:!0})})})});const{nags:t}=this.state,n=!(!e||500711!==e.experience_id);return(0,u.jsxs)("div",{className:"Nags",children:[(0,u.jsx)(p,{}),(0,u.jsx)(i.Z,{eligibleTypes:n?[13]:[2],placementId:30,transitionType:17,children:({complete:e,dismiss:t,experience:s})=>(0,u.jsx)(o.Z,{name:"SafeSuspense_Nags_HeroNag",children:(0,u.jsx)(l.Z,{children:n?(0,u.jsx)(m,{complete:e,dismiss:t,experience:s}):(0,u.jsx)(_,{complete:e,dismiss:t,experience:s})})})}),!e&&t[0]?(0,u.jsx)(o.Z,{name:"SafeSuspense_Nags_NonExperienceNags",children:(0,u.jsx)(l.Z,{children:(0,u.jsx)(x,{nag:t[0],removeNag:this.removeNag})})}):null]})}}function v(e){const{experience:t}=(0,r.Z)(30);return(0,u.jsx)(f,{...e,experience:t})}},964749:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ge});var s=n(667294),o=n(702664),i=n(616550),r=n(240684),a=n(883119),l=n(904062),c=n(683080),d=n(245561),u=n(296985),h=n(282267),p=n(483240),_=n(648561),g=n(654504),m=n(344590),x=n(989582),f=n(504289),v=n(260531),y=n(298643),b=n(233423),w=n(898960),S=n(593954),A=n(145021),P=n(437714),C=n(935057),E=n(278286),I=n(578662),j=n(453111),T=n(127428),k=n(167053),R=n(763211),Z=n(290588),L=n(430370),D=n(631959),O=n(539127),M=n(752491),z=n(177314),B=n(511965),N=n(351693),F=n(224403),H=n(615536),U=n(338928),q=n(574352),G=n(39005),V=n(176140),W=n(335898),$=n(613955),Y=n(608616),K=n(222361),X=n(836153),J=n(117903),Q=n(690763),ee=n(625025),te=n(498562),ne=n(785893);const se=(0,s.lazy)((()=>n.e(4394).then(n.bind(n,678262)))),oe=(0,s.lazy)((()=>Promise.all([n.e(63669),n.e(230)]).then(n.bind(n,200230)))),ie=(0,s.lazy)((()=>n.e(57815).then(n.bind(n,905386)))),re=(0,r.ZP)({resolved:{},chunkName:()=>"Authentication-PersonalizedLoginFlyout",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(35074),n.e(58594)]).then(n.bind(n,165835)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 165835}}),ae=(0,r.ZP)({resolved:{},chunkName:()=>"FullHeightInboxDesktop",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>n.e(59576).then(n.bind(n,575003)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 575003}});ae.displayName="Loadable(FullHeightInbox)";const le=(0,r.ZP)({resolved:{},chunkName:()=>"common-react-components-profile-ProfileDecider-ProfileDeciderContainer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:()=>Promise.all([n.e(97270),n.e(83119),n.e(67631),n.e(68323),n.e(20534)]).then(n.bind(n,843648)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return n(t)},resolve(){return 843648}});le.preload();const ce=1056,de=680,ue=300,he=({isPartner:e,location:t})=>e&&t.pathname.includes(L.GW),pe=({isPartner:e,location:t})=>e&&t.pathname.includes(D.GW),_e=()=>{const e=(0,X.AF)(),t=(0,i.useLocation)(),n=(0,i.matchPath)(t.pathname,{path:"/pin/:id",exact:!0}),s=n&&n.params.id||null,o=s&&((e[s]||{}).images||{})["474x"];return o?{url:o.url,width:o.width,height:o.height}:null};function ge({children:e}){var t;const{appUI:{viewportSize:n},setIsAutoplay:r,setViewportSize:L}=(0,Z.I)(),{dismiss:D,reportData:X}=(0,te.f)(),{loginForMore:le}=(0,W.H)(),ge=(0,s.useRef)(null),me=(0,I.Z)(),[xe,fe]=(0,s.useState)(!1),ve=!!me.isAuth&&me.isPartner,ye=!!me.isAuth&&me.isLimitedLogin,be=me.isAuth&&!me.isLimitedLogin,we=me.isAuth?me.username:"",Se=(0,i.useHistory)(),Ae=(0,i.useLocation)(),Pe=(0,v.B)(),{pathname:Ce}=Ae,Ee=ge.current,Ie=!((0,f.jC)(Ae)||(0,f.x7)(Ae))&&be,je=(0,C.mB)(Ae.search),{conversation_id:Te,tab:ke}=je,{conversations:{showConversationsDropdown:Re},conversationOpen:Ze,dropdownOpen:Le}=(0,M.Z5)(),De=(0,o.useDispatch)(),Oe=_e(),{userAgent:{browserName:Me}}=Pe,ze=(0,o.useSelector)((e=>e.pinbuilder&&e.pinbuilder.pinDraftIdUploadStatusMap||{}));(0,E.Z)((()=>{function e(e){Object.keys(ze||{}).length>0&&e.preventDefault()}return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}})),(0,E.Z)((()=>{(0,y.Z)(me)})),(0,s.useEffect)((()=>{d.Z.extensionReady(Me).then(d.Z.initBrowserExtension)}),[Me]),(0,E.Z)((()=>{setTimeout((()=>{r(!0)}),ue)})),(0,s.useEffect)((()=>{ye||(Te&&Ze(Te),"inbox"===ke&&Le())}),[Te,ke,Ze,Le,ye]);const Be=!((0,f.Gl)(Ae)||(0,f.PY)(Ae)||(0,f.jC)(Ae)||(0,f.Xn)(Ae)||(0,f.b_)(Ae)||(0,f.oF)(Ae)||(0,f.dt)(Ae)||(0,f.x7)(Ae)||(0,f.cY)(Ae)||(0,f.bb)(Ae));(0,s.useEffect)((()=>(Ee instanceof HTMLElement&&g.Z.addObstruction("top",Ee),()=>{Ee instanceof HTMLElement&&g.Z.removeObstruction("top",Ee)})),[Ee]);const[Ne,Fe]=(0,s.useState)(!(null==le||!le.visible)||!ye),He=(0,A.Z)((()=>{let e="lg";window&&window.innerWidth<ce&&(e=window.innerWidth<de?"sm":"md"),n!==e&&L(e)}),200);return(0,E.Z)((()=>(window.addEventListener("resize",He),He(),()=>{window.removeEventListener("resize",He)}))),(0,s.useEffect)((()=>{fe(Ce!==`/${we}/`)}),[Ce,we]),(0,s.useEffect)((()=>{l.Z.create("BoardsResource",{page_size:1,privacy_filter:"all",sort:"last_pinned_to",username:we}).callGet().then((e=>{const{resource_response:t}=e||{},n=(t.data||[])[0];n&&n.id&&n.name&&De((0,K.p)(n.id,n.name,n.url))}))}),[De,we]),(0,b.Z)(xe?{name:"UserResource",options:{field_set_key:"profile",username:we}}:null),(0,b.Z)(xe?{name:"UserMetadataResource",options:{user:{id:we}}}:null),(0,E.Z)((()=>{(0,x.Z)(Pe)||(0,m.k8)()})),(0,ne.jsx)(J.Z.Provider,{value:!!je.social_debug,children:(0,ne.jsx)(T.Z,{children:(0,ne.jsx)(k.Z,{viewerAdvertiser:Pe.advertiser,children:(0,ne.jsx)(O.Z,{children:(0,ne.jsx)(Q.Z,{children:(0,ne.jsx)(z.N,{children:(0,ne.jsxs)(u.c4,{value:Oe,children:["undefined"!=typeof window&&window.Windows&&(0,ne.jsx)(p.Z,{name:"SafeSuspense_DesktopApp_WindowsPWA",children:(0,ne.jsx)(w.Z,{children:(0,ne.jsx)(ie,{onActivated:e=>{Se.push(e)}})})}),!(null!=le&&le.visible)&&me.isAuth&&me.isLimitedLogin&&!(0,f.Xn)(Ae)&&!(0,f.OK)(Ae)&&!(0,f.FO)(Ae)&&!(0,f.re)(Ae)&&(0,ne.jsx)(re,{fallback:(0,ne.jsx)(a.xu,{}),shouldHideFlyout:Ne,triggerModal:()=>{le&&le.setVisible(!0),Fe(!0)},viewer:me,attributionLabel:null===(t=Ae.state)||void 0===t?void 0:t.attributionLabel}),(0,ne.jsx)(U.Z,{children:(0,ne.jsx)(V.Hv,{children:(0,ne.jsx)(q.Z,{children:(0,ne.jsx)(N.i3,{children:(0,ne.jsx)(F.Z,{children:(0,ne.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{marginTop:-1,paddingTop:1}},minWidth:320,children:[(0,ne.jsxs)(a.xu,{role:"banner",children:[(0,ne.jsx)(P.Z,{}),(0,ne.jsxs)(a.xu,{"data-test-id":"header",id:G.WZ,position:"fixed",top:!0,ref:ge,width:"100%",zIndex:new a.Ry(G.fe),children:[null!=le&&le.visible&&!(0,f.re)(Ae)||ye&&Ae.pathname.includes("/repin/")?(0,ne.jsx)(h.Z,{}):null,Be&&me.isAuth&&(0,ne.jsx)(p.Z,{name:"AuthDesktopHeader",type:"critical",children:(0,ne.jsx)(R.Z,{isShoppingCatalogs:(0,j.Z)({isPartner:ve,location:Ae}),isBPMPage:he({isPartner:ve,location:Ae}),isVMPStatusPage:pe({isPartner:ve,location:Ae}),viewer:me})}),Ie&&(0,ne.jsx)(Y.Z,{})]})]}),(0,ne.jsxs)("div",{className:"appContent",role:"main",children:[(0,ne.jsx)(H.c,{children:t=>(0,ne.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:Be?t:0}},children:(0,ne.jsxs)("div",{className:"mainContainer",children:[e,(0,ne.jsx)(p.Z,{name:"AuthDesktopAppShell_ExperienceSurvey",children:(0,ne.jsx)(w.Z,{children:(0,ne.jsx)(se,{placementId:1000421})})}),(0,ne.jsx)(ee.Z,{})]})})}),Re&&!ye&&(0,ne.jsx)(ae,{})]}),(0,ne.jsx)(B.Z,{})]})})})})})}),ve&&(0,ne.jsx)(c.Z,{}),(0,ne.jsx)(_.Z,{}),(0,ne.jsx)(p.Z,{name:"DesktopApp_MarketingPixel",children:(0,ne.jsx)(w.Z,{children:(0,ne.jsx)($.Z,{})})}),X&&(0,ne.jsx)(S.Z,{id:"report-pin",children:(0,ne.jsx)(p.Z,{name:"SafeSuspense_DesktopApp_ReportContent",children:(0,ne.jsx)(w.Z,{children:(0,ne.jsx)(oe,{data:X,dismiss:D})})})})]})})})})})})})}},625025:(e,t,n)=>{n.d(t,{Z:()=>a});var s=n(883119),o=n(290588),i=n(785893);const r=new s.Ry(500);function a(){const{appUI:{showTypeaheadOverlay:e}}=(0,o.I)();return e?(0,i.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.4)"}},bottom:!0,left:!0,right:!0,top:!0,position:"fixed",zIndex:r}):null}},581966:(e,t,n)=>{n.d(t,{O:()=>c,Z:()=>d});var s=n(667294),o=n(883119),i=n(434012),r=n(643517),a=n(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,i.ZP)();return(0,a.jsx)(o.u,{link:(0,a.jsx)(o.rU,{href:r.vB,target:"blank",children:(0,a.jsx)(o.xv,{color:"inverse",size:"100",weight:"bold",children:t.bt("Learn more", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("This retailer meets Pinterest's Merchant Guidelines", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:r,size:d}){const u=(0,i.ZP)(),h=(0,a.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(o.JO,{accessibilityLabel:u.bt("Merchant verification badge icon", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),r&&(0,a.jsx)(o.xu,{marginStart:2,children:(0,a.jsx)(o.xv,{color:"shopping",inline:!0,weight:"bold",children:u.bt("Verified merchant", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,a.jsxs)(s.Fragment,{children:[n&&!t&&(0,a.jsx)(c,{children:h}),n&&t&&h,e&&!n&&(0,a.jsx)(o.JO,{accessibilityLabel:u.bt("Domain verification icon", "Domain verification icon", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle",size:l[d]})]})}},27478:(e,t,n)=>{n.d(t,{A:()=>r,Z:()=>a});var s=n(667294),o=n(883119),i=n(785893);const r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function a({backgroundColor:e,children:t,coverImage:n,disableTabIndex:a,height:l,id:c,isHovered:d,onClick:u,onMouseDown:h,onMouseEnter:p,onMouseLeave:_,searchBoxRenderStopwatch:g,url:m,width:x}){var f,v;const[y,b]=(0,s.useState)(!1),w=()=>{p?p():b(!0)},S=()=>{_?_():b(!1)},A=d||y,P=A?r.hoverOverlay:r.bubbleOverlay;return(0,i.jsx)(o.iP,{href:m,onBlur:S,onFocus:w,onMouseDown:h,onMouseEnter:w,onMouseLeave:S,onTap:()=>{null==u||u(c)},role:"link",rounding:4,tabIndex:a?-1:void 0,children:(0,i.jsx)(o.zd,{rounding:4,width:x||"100%",height:l,children:null!=n&&n.url?(0,i.jsxs)(o.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(f=n.height)&&void 0!==f?f:1,naturalWidth:null!==(v=n.width)&&void 0!==v?v:1,onLoad:()=>{null==g||g.stop()},role:"presentation",src:n.url,children:[(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:A}):t]}):(0,i.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},519666:(e,t,n)=>{n.d(t,{Z:()=>h});var s=n(667294),o=n(883119);const i={backgroundColor:"transparent"},r={backgroundColor:"rgba(216, 216, 216, 0.37)"},a={borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},l={outline:"0"};var c=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends s.Component{constructor(...e){super(...e),d(this,"state",{hovered:!1}),d(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),d(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{backgroundHaloSize:e,onClick:t,color:n="subtle"}=this.props,s=Object.freeze({height:e,width:e}),d={border:0,display:"block",background:"transparent",cursor:"pointer",...l},u={...s,...{...a,...i,...this.state.hovered?r:{}}};return(0,c.jsx)("button",{type:"button",style:d,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:e=>t&&t({event:e}),children:(0,c.jsx)("div",{style:u,children:(0,c.jsx)(o.xu,{rounding:"circle",children:(0,c.jsx)(o.JO,{accessibilityLabel:"",icon:"flag",size:e/2,color:n})})})})}}const h=u},184051:(e,t,n)=>{n.d(t,{Z:()=>g});var s=n(667294),o=n(883119),i=n(162474),r=n(816987),a=n(898524),l=n(434012),c=n(708798),d=n(519666),u=n(498562),h=n(785893);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _ extends s.PureComponent{constructor(...e){var t;super(...e),t=this,p(this,"state",{showModal:!1,reportType:null}),p(this,"handleDismiss",(()=>this.setState({showModal:!1}))),p(this,"handleClick",(()=>{const{reportType:e}=this.state;"image"===e?this.reportSuggestionImage():this.reportSuggestionText()})),p(this,"reportSuggestionImage",(async function(){const{imgSignature:e,reportImage:n}=t.props;t.setState({showModal:!1});n((await(0,i.Z)({url:"/v3/search/pin_image_sig/",data:{image_signature:e}})).resource_response.data.id)})),p(this,"reportSuggestionText",(()=>{const{handleReport:e,toastManagerContext:t}=this.props;e&&(e(),t.showToast((({hideToast:e})=>(0,h.jsx)(a.ZP,{onHide:e,text:this.props.i18n.bt("Thanks for your report. It will be reviewed by our Trust and Safety team", "Thanks for your report! This will be reviewed by our Trust and Safety Team", "ReportingFlag.Toast.text", undefined, true)}))),this.handleDismiss())})),p(this,"showModal",(({event:e})=>{e.stopPropagation(),e.preventDefault(),this.setState({showModal:!0})}))}render(){const{showModal:e}=this.state;return(0,h.jsxs)(s.Fragment,{children:[this.props.isVisible&&(0,h.jsx)(d.Z,{onClick:this.showModal,backgroundHaloSize:24}),e&&(0,h.jsx)(r.ZP,{accessibilityModalLabel:this.props.i18n.bt("Report search term", "Report search term", "ReportingFlag.Modal.accessibilityModalLabel", undefined, true),heading:this.props.i18n.bt("Report search term", "Report search term", "ReportingFlag.Modal.heading", undefined, true),onDismiss:this.handleDismiss,size:"sm",children:(0,h.jsxs)(o.xu,{children:[(0,h.jsx)(o.xu,{padding:5,children:(0,h.jsx)(o.xv,{children:this.props.i18n.bt("When you flag this, our Trust and Safety team will review it. If it doesn't follow our Community Guidelines, it will be blocked.", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true)})}),(0,h.jsxs)(o.FX,{id:"reporting-flag-options-group",legend:this.props.i18n.bt("When you flag this, our Trust and Safety team will review it. If it doesn't follow our Community Guidelines, it will be blocked.", "When you flag this, our Trust and Safety team will review it. If it doesn't meet our Community Guidelines, it will be blocked.", "ReportingFlag.Box.Text.report", undefined, true),legendDisplay:"hidden",children:[(0,h.jsxs)(o.xu,{role:"list",display:"flex",direction:"column",marginBottom:4,paddingX:5,children:[(0,h.jsxs)(o.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,h.jsx)(o.FX.RadioButton,{checked:"text"===this.state.reportType,id:"textType",onChange:()=>this.setState({reportType:"text"}),value:"Report search text"}),(0,h.jsx)(o.xu,{flex:"grow",children:(0,h.jsx)(o.__,{htmlFor:"textType",children:(0,h.jsx)(o.xu,{paddingX:2,children:(0,h.jsx)(o.xv,{children:"Report search text"})})})})]}),(0,h.jsxs)(o.xu,{alignItems:"center",paddingY:1,display:"flex",direction:"row",children:[(0,h.jsx)(o.FX.RadioButton,{checked:"image"===this.state.reportType,id:"imageType",onChange:()=>this.setState({reportType:"image"}),value:"Report search image"}),(0,h.jsx)(o.xu,{flex:"grow",children:(0,h.jsx)(o.__,{htmlFor:"imageType",children:(0,h.jsx)(o.xu,{paddingX:2,children:(0,h.jsx)(o.xv,{children:"Report search image"})})})})]})]}),(0,h.jsx)(o.iz,{}),(0,h.jsxs)(o.xu,{display:"flex",justifyContent:"end",padding:2,children:[(0,h.jsx)(o.xu,{margin:2,children:(0,h.jsx)(o.zx,{fullWidth:!0,onClick:this.handleDismiss,text:this.props.i18n.bt("Cancel", "Cancel", "ReportingFlag.Box.Button.text.cancel", undefined, true)})}),(0,h.jsx)(o.xu,{margin:2,children:(0,h.jsx)(o.zx,{fullWidth:!0,color:"red",onClick:this.handleClick,text:this.props.i18n.bt("Report", "Report", "ReportingFlag.Box.Button.text.report", undefined, true),disabled:!this.state.reportType})})]})]})]})})]})}}function g(e){const t=(0,l.ZP)(),{reportImage:n}=(0,u.f)();return(0,h.jsx)(_,{...e,i18n:t,reportImage:n,toastManagerContext:(0,c.F9)()})}},196046:(e,t,n)=>{n.d(t,{Z:()=>rt});var s=n(667294),o=n(616550),i=n(883119),r=n(545168),a=n(434012),l=n(654504),c=n(342485),d=n(504289),u=n(835686),h=n(769413);const{Provider:p,useHook:_}=(0,h.Z)({name:"search_tab_render",sampleRate:1}),g=p,m=_;var x=n(260531),f=n(801151),v=n(256571),y=n(846546),b=n(699372),w=n(348886),S=n(593954),A=n(290588),P=n(21784),C=n(39005),E=n(785893);function I({contentTypes:e,contentTypesAnchor:t,handleSelectFilter:n,onDismiss:s}){return(0,E.jsx)(i.Lt,{anchor:t,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:s,zIndex:new i.Ry(C.fe),children:e.map(((e,t)=>(0,E.jsx)(i.Lt.Item,{dataTestId:"search-filter-"+e.text.replace(/\s/g,"-").toLowerCase(),onSelect:()=>n(t),option:{value:e.text,label:e.text},children:(0,E.jsx)(i.xv,{weight:[w.lw.PINS,w.lw.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)))})}const j=e=>{switch(e){case w.lw.PINS:return 220;case w.lw.PINS_MINE:return 223;case w.lw.PINS_VIDEO:return 11399;case w.lw.BOARDS:return 221;case w.lw.USERS:return 222;default:return null}};const T=function({currentlySelectedFilter:e,currentQuery:t,handleContentTypeFilterHover:n,handleScopeChange:l}){const{logContextEvent:c}=(0,r.v)(),d=(0,a.ZP)(),h=function(e){const{checkExperiment:t}=(0,u.F)(),{country:n}=(0,x.B)();let s=[{scope:w.lw.PINS,text:e.bt("All Pins", "All Pins", "All Pins label for content type filters on search bar", undefined, true)},{scope:w.lw.PINS_MINE,text:e.bt("Your Pins", "Your Pins", "Your Pins label for content type filters on search bar", undefined, true)},{scope:w.lw.PINS_VIDEO,text:e.bt("Videos", "Videos", "Video label for content type filters on search bar", undefined, true)},{scope:w.lw.BOARDS,text:e.bt("Boards", "Boards", "Boards label for content type filters on search bar", undefined, true)}];(["US","UK"].includes(n)||t("one_bar_expansion").anyEnabled)&&(s=s.filter((({scope:e})=>e!==w.lw.BOARDS&&e!==w.lw.PINS_VIDEO)));const o=s.findIndex((e=>e.scope===w.lw.PINS_MINE));return s.push(s.splice(o,1)[0]),s}(d),p=(0,s.useRef)(null),_=(0,o.useHistory)(),[g,m]=(0,s.useState)(e||h[0].scope),[f,v]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1);(0,s.useEffect)((()=>{m(e)}),[e]);const S=(h[g?h.findIndex((e=>e.scope===g)):0]||h[0]).text,A=(0,E.jsx)(i.xu,{"data-test-id":"search-filter",overflow:"hidden",dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:P.XI}},ref:p,children:(0,E.jsxs)(i.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,E.jsx)(i.xv,{inline:!0,size:"200",weight:"bold",children:S}),(0,E.jsx)(i.xu,{marginStart:2,children:(0,E.jsx)(i.JO,{accessibilityLabel:d.bt("Dropdown", "Dropdown", " - ", undefined, true),color:"default",icon:"arrow-down",inline:!0,size:12})})]})});return(0,E.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:y?"rgba(0, 0, 0, 0.06)":void 0}},display:"flex",flex:"none",height:P.XI,marginStart:2,position:"relative",rounding:6,children:[(0,E.jsx)(i.iP,{fullHeight:!0,fullWidth:!1,onMouseEnter:()=>(b(!0),void(n&&n(!0))),onMouseLeave:()=>(b(!1),void(n&&n(!1))),onTap:({event:e})=>{e&&(e.preventDefault(),e.stopPropagation()),v(!f),c({event_type:101,component:215,aux_data:{entered_query:t}})},rounding:6,children:A}),f&&(0,E.jsx)(I,{contentTypes:h,contentTypesAnchor:p.current,handleSelectFilter:e=>{const n=h[e].scope;m(n),v(!1),c({event_type:101,component:215,element:j(n),aux_data:{entered_query:t}}),l(n),t&&_.push(`/search/${n}/?q=${encodeURIComponent(t)}&rs=filter`)},onDismiss:()=>v(!1)})]})};var k=n(152935),R=n(55592),Z=n(278286),L=n(177314);const D="all 0.6s cubic-bezier(0.68, -0.6, 0.32, 1.6)",O={transform:"scale(0)",opacity:"0",transition:D},M={transform:"scale(1)",opacity:"1",transition:D},z={transform:"scale(1.2)",transition:D};function B({handleClearMode:e,scope:t,backgroundColorHex:n,iconType:o}){var r,l;const c=(0,a.ZP)(),d=(0,R.HG)(),u=(0,w.Hd)(t,d),[h,p]=(0,s.useState)(!1),_=(0,i.JZ)(),[g,m]=(0,s.useState)(_?M:O),x=(0,s.useRef)();let f;if((0,Z.Z)((()=>_?()=>{}:(m(M),()=>{m(O)}))),h)f="cancel";else if(6===o)f="person";else{if(1!==o)return null;f="shopping-bag"}return(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(i.xu,{flex:"none",marginEnd:2,marginStart:-3,ref:x,dangerouslySetInlineStyle:{__style:h?z:g},"data-test-id":"mode-icon-wrapper",children:(0,E.jsx)(i.iP,{onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onFocus:()=>p(!0),onBlur:()=>p(!1),onTap:e,rounding:"circle",tapStyle:"compress",children:(0,E.jsx)(i.xu,{padding:3,rounding:"circle",dangerouslySetInlineStyle:{__style:{backgroundColor:null!==(r=n&&n[0])&&void 0!==r?r:void 0}},children:(0,E.jsx)(i.JO,{accessibilityLabel:c.bt("Search mode icon", "Search mode icon", "searchBox.modesIcon.accessibilityLabel", undefined, true),icon:f,color:"inverse",size:16})})})}),(null===(l=x.current)||void 0===l?void 0:l.style.transform)!==O.transform&&(0,E.jsx)(k.default,{id:"experience-tooltip",anchor:x.current,hasFullWidthButton:!1,placementId:u,experienceIds:[t===w.lw.USERS?504374:504373],showCaret:!0,textAlign:"center",textWeight:"normal"})]})}function N({handleClearMode:e,scope:t}){const{modeIcon:n}=(0,L.A)().searchContext;if(n)return(0,E.jsx)(s.Suspense,{fallback:null,children:(0,E.jsx)(B,{handleClearMode:e,scope:t,backgroundColorHex:n.backgroundColorHex,iconType:n.iconType})})}var F=n(946689),H=n(481527);const U={recentSaves:[],recentViews:[]};function q(e=U,t){if("FETCH_COMPLETE"===t.type){const{options:n={},resource:s}=t.payload,{data:o}=t.payload.response.resource_response;if("ApiResource"===s&&"/v3/users/me/recent/engaged/pin/stories/"===n.url&&o){const t=o.find((e=>"user_recently_viewed_pins"===e.story_type)),n=o.find((e=>"user_recently_saved_pins"===e.story_type)),s=(null==t?void 0:t.objects.map((({description:e,id:t,images:n},s)=>({label:e,images:n,resultIndex:s,type:"recent_view",url:`/pin/${t}`}))))||[],i=(null==n?void 0:n.objects.map((({description:e,id:t,images:n},s)=>({label:e,images:n,resultIndex:s,type:"recent_save",url:`/pin/${t}`}))))||[];return{...e,recentSaves:i,recentViews:s}}return e}return e}const{Provider:G,useHook:V}=(0,F.Z)("SearchBox");function W({children:e}){const[t,n]=(0,s.useReducer)(q,U);(0,H.Z8)("ApiResource",(e=>{n({type:"FETCH_COMPLETE",payload:e})}));const o=(0,s.useMemo)((()=>({state:t})),[t]);return(0,E.jsx)(G,{value:o,children:e})}var $=n(463839),Y=n(233423),K=n(464422),X=n(221983),J=n(578662);function Q({suggestion:e,query:t,lastFocusTime:n=0,filterSelectedTerm:s}){if("explorearticle"===e.type){var o,i;const{story_category:t,query:n,referringSource:s,id:r,storyId:a}=e;return null!==(o=null===(i=e.action)||void 0===i?void 0:i.url)&&void 0!==o?o:(0,K.Z)({storyCategory:t,query:n,referringSource:s,bubbleId:r,storyId:a})}if("todayarticle"===e.type){const{id:t,title:n}=e;return(0,$.x)({title:n,id:t,articleType:"today"})}const r={eq:(0,b.Z)(t)};n&&(r.etslf=String(Date.now()-n)),"inclusive_product_filter_query"===e.type&&s&&(r.filters=s);return(0,X.Z)(e.url||"",r)}function ee(e,t){return`SuggestionGroup-Option-${e}-${t}`}const te=e=>{let t=0;return e.map((e=>{var n,s;const o=t;return t+=null!==(n=(null!==(s=e.items)&&void 0!==s?s:[]).length)&&void 0!==n?n:0,o}))},ne=(e,t)=>{if(null==t)return;const n=te(e);for(let s=0;s<n.length;s+=1)if(e[s].items.length&&t-n[s]<e[s].items.length)return e[s].items[t-n[s]];return null};var se=n(46626),oe=n(376410),ie=n(323386),re=n(905790),ae=n(483240),le=n(446956);const ce=3,de=(e,t)=>{const n=new RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function ue({children:e,experiences:t,placementId:n,searchTerm:o,suggestions:i}){const{viewExperience:r}=(0,le.M)(),[a,l]=(0,s.useState)(null),[c,d]=(0,s.useState)(new Set),u=(null==t?void 0:t.filter((e=>{var t;return(null===(t=e.display_data)||void 0===t?void 0:t.component_type)===ce})).map((e=>({...e.display_data,id:e.experience_id}))))||[];return(0,s.useEffect)((()=>{if(!o||!i)return void l(null);if(!(null==a?void 0:a.search_query_list.find((e=>i.some((({label:t})=>de(t,e))))))){const e=u.find((e=>{var t;return e.id!==(null==a?void 0:a.id)&&(null===(t=e.search_query_list)||void 0===t?void 0:t.find((e=>i.some((({label:t})=>de(t,e))))))}));if(e){l(e);const{id:t}=e;c.has(t)||("number"==typeof t&&r(n,t),d(new Set(c).add(t)))}}}),[o]),e({searchDelightConfig:a})}var he=n(898960),pe=n(946848),_e=n(429168),ge=n(405967),me=n(340289);function xe({suggestions:e}){var t;const n=e[0],s=(0,me.Z)({url:null===(t=n[0])||void 0===t?void 0:t.action_button_uri})?"nofollow":"none";return(0,E.jsxs)(i.xu,{padding:10,children:[(0,E.jsx)(i.xu,{marginBottom:6,children:(0,E.jsx)("span",{style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"},children:n.description})}),(0,E.jsx)(i.iP,{role:"link",rel:s,href:n.action_button_uri,rounding:"pill",children:(0,E.jsx)(i.xu,{color:"infoBase",display:"inlineBlock",rounding:"pill",padding:3,children:(0,E.jsx)(i.xv,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var fe=n(816987),ve=n(898524),ye=n(708798);function be({handleReport:e}){const t=(0,a.ZP)(),[n,o]=(0,s.useState)(!1),{showToast:r}=(0,ye.F9)();return(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(i.hU,{accessibilityLabel:t.bt("Report", "Report", "Accessibility label for report icon for search term", undefined, true),icon:"flag",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),o(!0)},size:"xs",iconColor:"gray"}),n&&(0,E.jsx)(fe.ZP,{accessibilityModalLabel:t.bt("Report search", "Report search", "accessible label for report search modal", undefined, true),heading:t.bt("Report search term", "Report Search Term", "Heading for report searchmodal", undefined, true),onDismiss:()=>o(!1),size:"sm",children:(0,E.jsxs)(i.xu,{children:[(0,E.jsx)(i.xu,{padding:4,children:(0,E.jsx)(i.xv,{children:t.bt("Flag this search term for review by our Trust and Safety team", "Flag this search term for review by our Trust and Safety team", "What will happen when you report a search term", undefined, true)})}),(0,E.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,E.jsx)(i.xu,{margin:2,children:(0,E.jsx)(i.zx,{fullWidth:!0,onClick:()=>o(!1),text:t.bt("Cancel", "Cancel", "Text for cancel button when reporting search result", undefined, true)})}),(0,E.jsx)(i.xu,{margin:2,children:(0,E.jsx)(i.zx,{fullWidth:!0,color:"red",onClick:()=>{e(),r((({hideToast:e})=>(0,E.jsx)(ve.ZP,{onHide:e,text:t.bt("Thanks! Your feedback helps keep the Pinterest community safe.", "Thanks! Your feedback helps keep the Pinterest community safe.", "Toast after reporting a search term", undefined, true)}))),o(!1)},text:t.bt("Report", "Report", "Button label to report search term", undefined, true)})})]})]})})]})}var we=n(581966);const Se="#efefef",Ae=40,Pe=2;function Ce({id:e,children:t,isHovered:n,url:s,onClick:o,onMouseEnter:r,onMouseLeave:a}){return(0,E.jsx)(i.xu,{id:e,color:n?"secondary":"default","data-test-id":"search-suggestion",role:"option","aria-selected":n?"true":"false",children:(0,E.jsx)(i.iP,{onMouseEnter:r,onMouseLeave:a,role:"link",href:s,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.metaKey||e.ctrlKey||(e.preventDefault(),o())},children:(0,E.jsx)(i.xu,{marginBottom:1,paddingX:5,children:t})})})}function Ee({highlightMatch:e=!1,iconName:t,imageUrl:n,isVerifiedMerchant:s=!1,label:o,query:r,rounding:l,searchDelightConfig:c,subLabel:d,verified:u=!1}){const h=(0,a.ZP)();return(0,E.jsx)(i.xu,{display:"flex",paddingY:n?1:0,width:"100%","data-test-id":n||t?"enriched-search-suggestion":"regular-search-suggestion",children:(0,E.jsxs)(i.kC,{gap:{row:Pe,column:0},alignItems:"center",children:[n?(0,E.jsx)(i.xu,{width:Ae,height:Ae,overflow:"hidden",rounding:l&&2===l?2:"circle","data-test-id":"enriched-autocomplete-image",children:(0,E.jsx)(i.Ee,{alt:"",role:"presentation",color:Se,fit:"cover",naturalHeight:Ae,naturalWidth:Ae,src:n})}):(0,E.jsx)(i.kC,{justifyContent:"center",alignItems:"center",width:Ae,height:Ae,children:(0,E.jsx)(i.xu,{marginTop:1,children:(0,E.jsx)(i.JO,{accessibilityLabel:t?(0,oe.nk)(h.bt("{{ icon}} icon", "{{ icon}} icon", "SearchBox.SearchSuggestion.EnrichedAutocomplete.Icon", undefined, true),{icon:t}).join():"",color:"default",icon:t||"search",size:12})})}),(0,E.jsxs)(i.kC,{direction:"column",alignItems:"start",justifyContent:"center",gap:{row:0,column:1},children:[(0,E.jsxs)(i.kC,{alignItems:"center",children:[e&&r?(0,E.jsx)(pe.Z,{searchDelightConfig:c,query:r,text:o||r}):(0,E.jsx)(i.xv,{weight:"bold",children:o}),(u||s)&&(0,E.jsx)(i.xu,{marginStart:1,children:(0,E.jsx)(we.Z,{hasVerifiedIdentity:u,iconOnly:!0,isVerifiedMerchant:s,size:"xs"})})]}),d&&(0,E.jsx)(i.xv,{size:"100",children:d})]})]})})}var Ie=n(895499);const je=(0,s.lazy)((()=>Promise.all([n.e(67631),n.e(43640)]).then(n.bind(n,243640)))),Te={AUTOCOMPLETE:0,SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3};function ke({experiences:e,index:t,focusedIndex:n,onInclusiveProductFilterClick:o,onSuggestionClick:r,onSuggestionMouseEnter:l,onSuggestionMouseLeave:c,query:d,suggestion:u}){const h=(0,a.ZP)(),p=(0,J.Z)(),_="number"==typeof u.identifier_icon_name&&u.identifier_icon_name!==ge.J?(0,ge.Z)(u.identifier_icon_name):void 0,g=()=>{(0,_e.Z)({report:u.label.toLowerCase(),query:d.toLowerCase(),suggestions:[u.label],type:Te.AUTOCOMPLETE})};return(0,E.jsx)(ue,{experiences:e,placementId:1000315,searchTerm:d,suggestions:[u],children:({searchDelightConfig:e})=>(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(Ce,{id:ee(0,t),url:Q({suggestion:u,query:d}),isHovered:n===t,onClick:()=>{r(u,t)},onMouseEnter:()=>{l(t)},onMouseLeave:()=>{c()},children:(0,E.jsxs)(i.kC,{alignItems:"center",justifyContent:"start",children:[(0,E.jsx)(i.xu,{flex:"grow",children:"inclusive_product_filter_query"===u.type?(0,E.jsx)(i.xu,{marginBottom:2,children:(0,E.jsx)(i.xv,{weight:"bold",children:(0,oe.nk)(u.eligibleHairPatternFilters?h.bt("{{ query }} by hair pattern", "{{ query }} by hair pattern", "SearchSuggestion.HairPatternFilterSuggestion", undefined, true):h.bt("{{ query }} by skin-tone range", "{{ query }} by skin tone range", "SearchSuggestion.SkinToneFilterSuggestion", undefined, true),{query:(0,E.jsx)(pe.Z,{searchDelightConfig:e,query:d,text:u.label||d})})})}):(0,E.jsx)(Ee,{highlightMatch:!0,iconName:_,imageUrl:u.image,label:u.label,query:d,rounding:2,searchDelightConfig:e,subLabel:u.subLabel})}),p.isAuth&&p.isEmployee&&n===t?(0,E.jsx)(i.xu,{flex:"none",children:(0,E.jsx)(be,{handleReport:g})}):null]})}),"inclusive_product_filter_query"===u.type&&o&&(0,E.jsx)(i.kC,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:u.eligibleHairPatternFilters?(0,E.jsx)(ae.Z,{name:"SafeSuspense_BlendedTypeaheadSuggestion_HairPatternFilters",children:(0,E.jsx)(he.Z,{children:(0,E.jsx)(i.xu,{display:"flex",marginBottom:-4,overflow:"scrollX",paddingY:2,position:"relative",children:(0,E.jsx)(je,{eligibleFilters:u.eligibleHairPatternFilters,isUpsell:!0,query:d,onClickApplyFilters:e=>o(u,t,e)})})})}):(0,E.jsx)(Ie.Z,{query:d,onClickApplyFilters:e=>o(u,t,e),showHeaderText:!1})})]})})}const Re=({index:e,focusedIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:o,suggestion:i})=>(0,E.jsx)(Ce,{id:ee(0,e),url:i.url,isHovered:t===e,onClick:()=>{n(i,e)},onMouseEnter:()=>{s(e)},onMouseLeave:()=>{o()},children:(0,E.jsx)(Ee,{imageUrl:i.image,isVerifiedMerchant:i.is_verified_merchant,label:i.label,rounding:"circle",subLabel:i.subLabel,verified:i.verified})},`${i.type}-${i.label}-${i.subLabel||""}`);function Ze({focusedIndex:e,onSuggestionClick:t,onSuggestionMouseEnter:n,onSuggestionMouseLeave:s}){const o=(0,a.ZP)(),r=0===e;return(0,E.jsx)(i.xu,{"aria-selected":r?"true":"false",id:"syop_cta",role:"option",children:(0,E.jsxs)(i.xu,{paddingX:6,marginTop:3,children:[(0,E.jsx)(i.iz,{}),(0,E.jsx)(i.xu,{marginTop:4,children:(0,E.jsxs)(i.kC,{justifyContent:"between",alignItems:"center",children:[(0,E.jsx)(i.xv,{weight:"bold",lineClamp:2,children:o.bt("Looking for ideas you've saved?", "Looking for ideas you saved?", "searchBox.suggestionsMenu.searchYourPinsCTA", undefined, true)}),(0,E.jsx)(i.kC.Item,{flex:"none",children:(0,E.jsx)(i.iP,{onTap:t,rounding:"pill",onMouseEnter:()=>{n(0)},onMouseLeave:s,children:(0,E.jsx)(i.xu,{rounding:"pill",color:r?"darkWash":"secondary",height:40,paddingX:3,paddingY:2,display:"flex",justifyContent:"center",alignItems:"center",children:(0,E.jsx)(i.xv,{align:"center",weight:"bold",children:o.bt("Search your Pins", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true)})})})})]})})]})})}function Le({experiences:e,suggestion:t,index:n,focusedIndex:s,query:o,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,onInclusiveProductFilterClick:l}){switch(t.type){case"autocompleteupsell":return(0,E.jsx)(xe,{suggestions:[t]});case"query":case"enriched_autocomplete":case"inclusive_product_filter_query":return(0,E.jsx)(ke,{experiences:e,index:n,focusedIndex:s,onInclusiveProductFilterClick:l,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,query:o,suggestion:t});case"user":return(0,E.jsx)(Re,{index:n,focusedIndex:s,onSuggestionClick:i,onSuggestionMouseEnter:r,onSuggestionMouseLeave:a,suggestion:t})}return null}var De=n(702664),Oe=n(842625),Me=n(282605),ze=n(27478),Be=n(184051);const Ne=80;function Fe({contextLogData:e,dominantColor:t,handleReport:n,height:o,id:r,image:a,isDarkRep:l=!1,isHovered:c,name:d,onMouseEnter:u,onMouseLeave:h,onTap:p,searchBoxRenderStopwatch:_,slotIndex:g,url:m,viewParameter:x,viewType:f,width:v}){const y=(0,Me.Z)({contextLogData:e,impressionType:"Article",loggingId:r,slotIndex:g,viewParameter:x,viewType:f}),b=(0,J.Z)(),[w,S]=(0,s.useState)(!1),A=w||c,P=o||Ne;let C,I;!v||v>=200?(C=3,I="300"):v>=150?(C=2,I="200"):(C=2,I="100");const j=()=>{u?u():S(!0)},T=()=>{h?h():S(!1)};return(0,E.jsx)(i.xu,{height:P,ref:y,width:v||"100%",children:(0,E.jsx)(i.zd,{wash:!l,rounding:4,children:(0,E.jsx)(i.xu,{dangerouslySetInlineStyle:l?{__style:{backgroundColor:A?"var(--color-gray-roboflow-600)":"var(--color-gray-roboflow-700)"}}:{__style:A?ze.A.lightHoverOverlay:{}},children:(0,E.jsx)(i.st,{children:(0,E.jsxs)(i.iP,{href:m,onBlur:T,onFocus:j,onMouseEnter:j,onMouseLeave:T,onTap:p,role:"link",rounding:4,children:[(0,E.jsxs)(i.kC,{direction:"row",children:[(0,E.jsx)(i.zd,{height:P,wash:!0,width:P,children:(0,E.jsx)(i.Ee,{alt:"",color:t,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{null==_||_.stop()},role:"presentation",src:a})}),(0,E.jsx)(i.xu,{alignItems:"center",display:"flex",maxHeight:P,maxWidth:v?v-P:Oe.yF-Ne,padding:4,children:(0,E.jsx)(i.xv,{color:l?"light":void 0,lineClamp:C,size:I,weight:"bold",children:d})})]}),n&&b.isAuth&&b.isEmployee?(0,E.jsx)(i.xu,{position:"absolute",bottom:!0,right:!0,marginBottom:1,children:(0,E.jsx)(Be.Z,{handleReport:n,imgSignature:a,isVisible:null!=A&&A})}):null]})})})})})}var He=n(832050),Ue=n(162474),qe=n(53019);const Ge=({handleRemove:e,id:t,isHovered:n,label:s,onClick:o,onMouseEnter:r,onMouseLeave:a,removeA11yText:l,url:c})=>(0,E.jsx)(i.xu,{"aria-selected":n?"true":"false","data-test-id":"search-suggestion",id:t,marginBottom:2,marginEnd:2,role:"option",children:(0,E.jsx)(i.iP,{accessibilityLabel:s,href:c,onMouseEnter:r,onMouseLeave:a,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{e.metaKey||e.ctrlKey||(t(),e.preventDefault(),o())},role:"link",rounding:"pill",children:(0,E.jsxs)(i.xu,{alignItems:"center",color:n?"darkWash":"secondary",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,E.jsx)(i.xv,{align:"center",children:s}),(0,E.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,E.jsx)(i.hU,{accessibilityLabel:null!=l?l:"",icon:"cancel",iconColor:"darkGray",onClick:({event:t})=>{t.stopPropagation(),t.preventDefault(),null==e||e(s)},size:"xs"})})]})})}),Ve=({id:e,isHovered:t,onClick:n,onMouseEnter:o,onMouseLeave:r,showSeeMoreOverlay:l,suggestion:c,trackClick:d,url:u})=>{var h,p,_,g,m,x;const f=(0,a.ZP)();return(0,E.jsx)(i.xu,{"aria-selected":t?"true":"false","data-test-id":"search-suggestion",id:e,marginBottom:2,paddingX:1,role:"option",children:(0,E.jsx)(i.iP,{role:"link",onMouseEnter:o,onMouseLeave:r,href:u||c.url,rounding:3,tabIndex:-1,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),d(),e.metaKey||e.ctrlKey||u||(e.preventDefault(),n())},children:(0,E.jsxs)(i.zd,{height:P.YO,rounding:3,wash:t,width:P.Gh,children:[(0,E.jsx)(i.Ee,{alt:c.label,fit:"cover",naturalHeight:null!==(h=null===(p=c.images["236x"])||void 0===p?void 0:p.height)&&void 0!==h?h:1,naturalWidth:null!==(_=null===(g=c.images["236x"])||void 0===g?void 0:g.width)&&void 0!==_?_:1,src:null!==(m=null===(x=c.images["236x"])||void 0===x?void 0:x.url)&&void 0!==m?m:""}),l&&(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(i.xu,{dangerouslySetInlineStyle:P.H2,height:P.YO,left:!0,position:"absolute",top:!0,width:P.Gh}),(0,E.jsx)(i.xu,{alignItems:"center",display:"flex",height:P.YO,justifyContent:"center",padding:3,position:"absolute",top:!0,width:P.Gh,children:(0,E.jsx)(i.xv,{align:"center",color:"inverse",weight:"bold",children:f.bt("See more", "See More", "searchBox.suggestionGroups.recentPinRep.seeMoreText", undefined, true)})})]})]})})})},We=({componentType:e,focusedIndex:t,groupIndex:n,keyPrefix:s,onSuggestionClick:o,onSuggestionMouseEnter:a,onSuggestionMouseLeave:l,seeMoreUrl:c,suggestions:d,title:u})=>{const{logContextEvent:h}=(0,r.v)();return(0,E.jsxs)(i.kC,{direction:"column",gap:P.Lo,children:[(0,E.jsx)(i.kC,{width:"100%",children:(0,E.jsx)($e,{title:u})}),(0,E.jsx)(i.xu,{display:"flex",wrap:!0,width:"100%",paddingX:P.r5,children:d.map(((i,r)=>{const u=r===P.TD-1&&d.length===P.TD;return(0,E.jsx)(Ve,{id:ee(n,r),isHovered:t===r,onClick:()=>{o(i,r)},onMouseEnter:()=>{a(r)},onMouseLeave:()=>{l()},showSeeMoreOverlay:u,suggestion:i,trackClick:()=>{h({event_type:101,component:e,element:u?179:12374,view_type:P.Ie,view_parameter:103})},url:u?c:i.url},`${s}-${r}`)}))})]})},$e=({title:e})=>(0,E.jsx)(i.xu,{alignItems:"center",display:"flex",marginStart:P.r5,children:(0,E.jsx)(i.xv,{lineClamp:1,weight:"bold",children:e})});function Ye({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:o,suggestions:i}){const r=(0,a.ZP)();return(0,He.Q)({component:13844,view_parameter:103,view_type:P.Ie}),(0,E.jsx)(We,{componentType:13844,focusedIndex:e,groupIndex:t,keyPrefix:"recent_save",onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:o,seeMoreUrl:"/me/pins/",suggestions:i,title:r.bt("Recently saved", "Recently saved", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function Ke({containerWidth:e,focusedIndex:t,groupIndex:n,onSuggestionClick:s,onSuggestionMouseEnter:o,onSuggestionMouseLeave:r,suggestions:l}){const c=(0,a.ZP)(),d=(0,De.useDispatch)(),u=async e=>{await(0,Ue.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e}}),d((0,qe.U)("AdvancedTypeaheadResource",{options:{term:"",pin_scope:"pins"}}))},h=c.bt("Remove", "Remove", "Remove recent search in search typeahead suggestion", undefined, true),p=function({pillLabels:e,maxWidth:t}){let n=e.length;if(!t)return n;let s=0;for(let o=0;o<e.length;o+=1){const i=e[o].length*P.yY+P.Ag+P.Ub;if(!(i+s<t)){n=o;break}s+=i}return n}({pillLabels:l.map((e=>e.label)),maxWidth:e});return(0,E.jsxs)(i.kC,{direction:"column",gap:P.Lo,children:[(0,E.jsx)($e,{title:c.bt("Recent searches", "Recent searches", "Recent searches heading in search autocomplete", undefined, true)}),(0,E.jsx)(i.xu,{display:"flex",overflow:"hidden",paddingX:P.r5,position:"relative",children:l.slice(0,p).map(((e,a)=>(0,E.jsx)(i.xu,{"data-test-id":"recent-query",children:(0,E.jsx)(Ge,{handleRemove:u,id:ee(n,a),isHovered:t===a,label:e.label,onClick:()=>{s(e,a)},onMouseEnter:()=>{o(a)},onMouseLeave:()=>{r()},removeA11yText:h,url:Q({suggestion:e,query:""})})},`${e.type}-${e.label}`)))})]})}function Xe({focusedIndex:e,groupIndex:t,onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:o,suggestions:i}){const r=(0,a.ZP)();return(0,He.Q)({component:13843,view_parameter:103,view_type:P.Ie}),(0,E.jsx)(We,{componentType:13843,focusedIndex:e,groupIndex:t,keyPrefix:"recent_view",onSuggestionClick:n,onSuggestionMouseEnter:s,onSuggestionMouseLeave:o,seeMoreUrl:"/recently-viewed/",suggestions:i,title:r.bt("Recently viewed", "Recently viewed", "searchBox.recentSavedSuggestions.heading", undefined, true)})}function Je({containerWidth:e,focusedIndex:t,groupIndex:n,onSuggestionClick:s,onSuggestionMouseEnter:o,onSuggestionMouseLeave:r,searchBoxRenderStopwatch:a,suggestions:l}){const c=P.Ie,{id:d,items:u,story_type:h,title:{format:p}}=l,_=u.map((({type:e,id:t})=>e+":"+t)).join("|"),g=(0,Me.Z)({componentType:200,contextLogData:{content_ids:_,story_id:d,story_type:h},impressionType:"Story",loggingId:d,slotIndex:n,viewParameter:3467,viewType:c}),m=e=>64+8*e;let x=3,f=(e-m(x))/x;for(;f>1.5*Oe.yF;)x+=1,f=(e-m(x))/x;const v=f/2.6;return(0,E.jsxs)(i.kC,{direction:"column",gap:P.Lo,children:[(0,E.jsx)($e,{title:p}),(0,E.jsx)(i.xu,{display:"flex",paddingX:P.r5,ref:g,wrap:!0,children:u.map(((e,l)=>{var p,g;const m=t===l,{aux_fields:x,cover_images:y,dominant_colors:b,id:w,query:S,story_category:A,title:{format:C}}=e,I={story_type:h,content_ids:_,grid_index:l,story_id:d};return(0,E.jsx)(i.xu,{"aria-selected":m?"true":"false","data-test-id":"search-suggestion",id:ee(n,l),marginBottom:2,marginEnd:2,role:"option",children:(0,E.jsx)(Fe,{contextLogData:I,dominantColor:b[0],handleReport:()=>{(0,_e.Z)({query:"",report:S,suggestions:u.map((e=>e.query)),type:2===e.story_category?P.KH.SEARCH_TRENDING_TEXT:P.KH.SEARCH_IDEAS_FOR_YOU})},height:v,id:w,image:(null===(p=y[0]["236x"])||void 0===p?void 0:p.url)||(null===(g=y[0]["474x"])||void 0===g?void 0:g.url)||"",isHovered:m,name:C,onTap:()=>{s(e,l)},onMouseEnter:()=>{o(l)},onMouseLeave:()=>{r()},searchBoxRenderStopwatch:a,slotIndex:l,url:(0,K.Z)({query:C,referringSource:2===A?"trending":"autocomplete_bubble",bubbleId:null!=w?w:"",storyId:d,pinId:null==x?void 0:x.image_pin_id}),viewParameter:3467,viewType:c,width:f})},`story-${null!=A?A:""}-${n}-${w}`)}))})]})}var Qe=n(95969);const et={searchSuggestionsContainer:{boxSizing:"content-box",overflowY:"scroll",width:"calc(100% + 17px)"}};function tt({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:o,onMouseLeave:r,onSuggestionClick:l,onSuggestionHovered:c,onSyopCtaClick:d,query:u,searchBoxHeight:h,searchBoxRenderStopwatch:p,showSyopHeading:_,suggestionGroups:g,width:m}){const x=(0,s.useRef)(),f=(0,a.ZP)(),{experiencesMulti:y}=(0,se.Z)(1000315),b=(0,Qe.Z)();function w(){c(void 0)}function S(t,s,o){const i=te(g),r=null==e?void 0:e-i[s],a=e=>{!function(e,t){c(te(g)[e]+t)}(s,e)};switch(t.type){case"recent_query":return(0,E.jsx)(Ke,{containerWidth:o,focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:w,suggestions:t.items});case"recent_save":return(0,E.jsx)(Ye,{focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:w,suggestions:t.items});case"recent_view":return(0,E.jsx)(Xe,{focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:w,suggestions:t.items});case"story":return(0,E.jsx)(Je,{containerWidth:o,focusedIndex:r,groupIndex:s,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:w,searchBoxRenderStopwatch:p,suggestions:t});case"blended_autocomplete":return function(e){const t=e.slice();let n=t[0];for(const l of t){var s,o;if(null!==(s=l.modified_filter_eligibility)&&void 0!==s&&s.hair_pattern||null!==(o=l.modified_filter_eligibility)&&void 0!==o&&o.skin_tone){var i,r,a;const e=(null===(i=l.modified_filter_eligibility.hair_pattern)||void 0===i?void 0:i.base_query)||(null===(r=l.modified_filter_eligibility.skin_tone)||void 0===r?void 0:r.base_query)||"",s=null===(a=l.modified_filter_eligibility.hair_pattern)||void 0===a?void 0:a.eligible_filters,{rs:o}=(0,re.Z)({url:l.url}),c={query:e,rs:o},d=(0,v.Z)(c),u="enriched_autocomplete"===n.type&&n.image?1:0,h={eligibleHairPatternFilters:s,label:e,query:e,resultIndex:u,type:"inclusive_product_filter_query",url:d};t.splice(u,0,h),n=t[0];break}}return t}(t.items).map(((e,t)=>(0,E.jsx)(Le,{experiences:y,focusedIndex:r,index:t,onInclusiveProductFilterClick:n,onSuggestionClick:l,onSuggestionMouseEnter:a,onSuggestionMouseLeave:w,query:u,suggestion:e},`search-suggestion-${e.label||""}-${e.query||""}-${e.type}-${e.url||""}-${e.image||""}`)));case"syop_cta":return(0,E.jsx)(Ze,{focusedIndex:r,index:0,onSuggestionClick:d,onSuggestionMouseEnter:a,onSuggestionMouseLeave:w})}return null}return(0,E.jsx)(ie.Z,{view:2,viewParameter:103,children:g.length>0?(0,E.jsx)(i.xu,{role:"listbox",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",top:h}},left:!0,overflow:"hidden",position:"absolute",width:m||"100%",id:"SuggestionsMenu",children:(0,E.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:o,onMouseLeave:r,style:{maxHeight:t,...et.searchSuggestionsContainer},children:(0,E.jsxs)(i.xu,{color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:"0 0 16px 16px",paddingBottom:"24px",paddingTop:"32px"}},marginStart:b?2:void 0,overflow:"hidden",ref:x,width:"100%",children:[_&&(0,E.jsx)(i.xu,{marginTop:4,marginStart:8,marginBottom:4,children:(0,E.jsx)(i.X6,{size:"500",children:(e=>e.length>0?(0,oe.nk)(f.bt("Search your Pins for {{ query }}", "Search your Pins for {{ query }}", "searchBox.suggestionsMenu.searchYourPinsForQueryText", undefined, true),{query:e}):f.bt("Search your Pins", "Search your Pins", "searchBox.suggestionsMenu.searchYourPinsText", undefined, true))(u)})}),g.map(((e,t)=>{var n,s,o,r;return e.items.length?(0,E.jsx)(i.kC,{direction:"column",gap:10,children:(0,E.jsx)(i.xu,{children:S(e,t,null!==(o=null===(r=x.current)||void 0===r?void 0:r.getBoundingClientRect().width)&&void 0!==o?o:0)},`${u}-${e.type}-${null!==(n=null===(s=e.title)||void 0===s?void 0:s.format)&&void 0!==n?n:""}`)}):null}))]})})}):(0,E.jsx)(i.xu,{})})}var nt=n(54176);function st({query:e,scope:t,setRecentQueries:n,setAutocompleteSuggestions:o}){const i=(0,a.ZP)(),r=(0,nt.Z)({allowSearchOnMount:!0,resourceName:"AdvancedTypeaheadResource",resourceOptions:{pin_scope:t},value:e});(0,s.useEffect)((()=>{o([{items:r||[],type:"blended_autocomplete"}])}),[r,e,o,i]);const{isLoaded:l,data:c}=(0,Y.Z)({name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:w.lw.PINS},noCache:!0});(0,s.useEffect)((()=>{l&&c&&function({newRecentQueries:e,setRecentQueries:t}){t(e.slice(0,P.P$).map((({label:e,query:t,url:n,type:s},o)=>({label:e,query:t,resultIndex:o,type:s,url:n}))))}({newRecentQueries:c.items,setRecentQueries:n})}),[l,c,n])}function ot({focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:o,onMouseLeave:i,onSuggestionClick:r,onSuggestionGroupsUpdate:a,onSuggestionHovered:l,onSyopCtaClick:c,query:d,scope:u,searchBoxHeight:h,suggestionGroups:p,width:_}){const g=u===w.lw.PINS_MINE,x=m();(0,Z.Z)((()=>{g||null==x||x.start()}));const{data:f}=(0,Y.Z)({name:"SearchTabResource"}),{state:{recentSaves:v,recentViews:y}}=V(),[b,S]=(0,s.useState)([]),[A,P]=(0,s.useState)([]);return st({query:d,scope:u,setRecentQueries:S,setAutocompleteSuggestions:P}),(0,s.useEffect)((()=>{const e=A.concat({items:[{type:"syop_cta",label:"",query:"",resultIndex:0,url:""}],type:"syop_cta"}),t=null==f?void 0:f.filter((e=>"shopping_spotlight"!==e.story_type));let n;n=g?[{items:b,type:"recent_query"},{items:y,type:"recent_view"},{items:v,type:"recent_save"}]:d.length?e:[{items:b,type:"recent_query"},...t||[]],a(n)}),[A,g,a,d,f,b,v,y,u]),(0,E.jsx)(tt,{focusIndex:e,maxHeight:t,onInclusiveProductFilterClick:n,onMouseEnter:o,onMouseLeave:i,onSuggestionClick:r,onSuggestionHovered:l,onSyopCtaClick:c,query:d,searchBoxHeight:h,searchBoxRenderStopwatch:x,showSyopHeading:g,suggestionGroups:p,width:_})}function it({handleIconOnlyChange:e,iconOnly:t=!1,isPartner:n=!1,widthType:h="md"}){const{logContextEvent:p}=(0,r.v)(),_=(0,a.ZP)(),m=(0,o.useHistory)(),{isRTL:C}=(0,x.B)(),{checkExperiment:I}=(0,u.F)(),j=(0,o.useLocation)(),k=(0,d.En)(j);!function(){const e=(0,J.Z)();(0,Y.Z)({name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:w.lw.PINS},noCache:!0}),(0,Y.Z)({name:"SearchTabResource"}),(0,Y.Z)(e.isLimitedLogin?null:{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:P.a3.join(","),pin_preview_count:P.sA}}})}();const{query:R,scope:L}=(0,y.Z)(j),D=null!=R?R:"",[O,M]=(0,s.useState)(D),[z,B]=(0,s.useState)(),F=z&&z.query?z.query:O,H=function(){const e=(0,o.useLocation)(),t=(0,J.Z)(),n=t.isAuth&&e.pathname.startsWith(`/${t.username}/`),s=e.pathname.startsWith("/recently-viewed");return n||s}();let U=null!=L?L:w.lw.PINS;H&&(U=w.lw.PINS_MINE),U===w.lw.PINS_BUYABLE&&I("web_shop_inline_content_filter",{dangerouslySkipActivation:!0}).anyEnabled&&(U=w.lw.PINS);const[q,G]=(0,s.useState)(U),V=q===w.lw.PINS_MINE,[W,$]=(0,s.useState)([]),[K,X]=(0,s.useState)(),[se,oe]=(0,s.useState)(!1),[ie,re]=(0,s.useState)(!1),[ae,le]=(0,s.useState)(!1),[ce,de]=(0,s.useState)(!1),[ue,he]=(0,s.useState)(!1),[pe,_e]=(0,s.useState)(0);function ge(){X(void 0),B(void 0)}const me=ie||ce,{setAppFocusState:xe,toggleTypeaheadOverlay:fe}=(0,A.I)(),[ve,ye]=(0,s.useState)(t);(0,s.useEffect)((()=>{ye(t)}),[t]);const[be,we]=(0,s.useState)(!1),[Se,Ae]=(0,s.useState)();!function({setShouldHideGhostText:e,setSuggestionsMaxHeight:t}){function n(){var n;const s=(null===(n=document.getElementById("searchBoxContainer"))||void 0===n?void 0:n.offsetWidth)||0;e(s<=P.le),t(window.innerHeight-14-P.Fj)}(0,Z.Z)((()=>(window.addEventListener("resize",n),n(),()=>{window.removeEventListener("resize",n)})))}({setShouldHideGhostText:we,setSuggestionsMaxHeight:Ae});const[Pe,Ce]=function({shouldHideGhostText:e,isSyop:t,inputFocused:n}){const s=(0,a.ZP)(),o=(0,Y.Z)({name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}});let i=s.bt("Search", "Search", "searchBox.placeholder.defaultText", undefined, true),r="";if(!e&&o.isLoaded&&o.data&&o.data.length>0){const e=o.data[0].text;r=o.data[0].query,i=e}return t&&(i=n?s.bt("Try a title or description", "Try a title or description", "searchBox.placeholder.searchYourOwnPinsFocusedText", undefined, true):s.bt("Search your Pins", "Search your Pins", "searchBox.placeholder.searchYourOwnPinsText", undefined, true)),[i,r]}({shouldHideGhostText:be,isSyop:V,inputFocused:ie}),Ee=(0,s.useRef)();function Ie(){const e=(0,b.Z)(O);if(!e.length)return;const t=(0,v.Z)({query:e,rs:"ac",scope:w.lw.PINS_MINE});m.push(t)}(0,s.useEffect)((()=>{Ee.current!==me&&(me?l.Z.pause():l.Z.resume(),xe(!me),me||(ge(),M(D)),fe(me),Ee.current=me)}),[D,me,xe,fe]),(0,s.useEffect)((()=>{M(D),G(U),re(!1),de(!1)}),[D,U]);const je=(e,t,n=!1)=>{const s=n?97:101,o={};switch(O&&(o.entered_query=O,o.selected_query=e.query||void 0),e.type){case"inclusive_product_filter_query":case"recent_query":case"query":p({event_type:s,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"inclusive_product_filter_query"===e.type?"query":e.type,result_index:t,...o}});let i=Q({suggestion:e,query:O,lastFocusTime:pe});V&&"recent_query"===e.type&&(i=i.replace("pins","my_pins")),m.push(i);break;case"recent_save":m.push(e.url);break;case"enriched_autocomplete":case"board":case"user":p({event_type:s,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:e.type,result_index:t,...o}}),m.push(e.url);break;case"explorearticle":26===e.story_category?p({event_type:101,view_type:2,view_parameter:3467,component:13865,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_id:e.storyId,story_type:"shopping_spotlight",...o}}):p({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{autocomplete_type:2===e.story_category?"trending":"recommended",result_index:t,...o}}),n&&m.push(Q({suggestion:e,query:""}));break;case"todayarticle":p({event_type:101,view_type:2,view_parameter:3467,component:200,aux_data:{article_id:e.id,autocomplete_type:"recommended_article",story_type:"shopping_spotlight",...o}}),n&&m.push(Q({suggestion:e,query:""}));break;case"syop_cta":Ie()}ge(),re(!1),de(!1)},Te=()=>{if(F===D&&q===U)return;const e=(0,b.Z)(F);if(!e.length)return;const t=(0,v.Z)({query:e,rs:"typed",scope:q});m.push(t)},ke=()=>{re(!0),ye(!1),e&&e(!1),n&&p({event_type:101,element:11809})};if(ve&&!ie&&!D&&!me)return(0,E.jsx)(i.xu,{id:"searchBoxContainer",children:(0,E.jsx)(i.hU,{accessibilityLabel:_.bt("Search icon", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"search",onClick:ke,size:"lg",iconColor:"gray"})});const Re=function({suggestionsFocusIndex:e,suggestionGroups:t}){const n=te(t);let s,o;if("number"==typeof e)for(let i=n.length-1;i>=0;i-=1)if(e>=n[i]){s=i,o=e-n[i];break}return"number"==typeof s&&"number"==typeof o?ee(s,o):""}({suggestionsFocusIndex:K,suggestionGroups:W}),Ze="shrink"!==h&&(D||H);let Le="shrink"===h?"8px":0;Ze&&(Le="4px");const De="shrink"===h?"80vw":void 0,Oe=(0,E.jsx)(g,{children:(0,E.jsx)(ot,{focusIndex:K,maxHeight:Se,onInclusiveProductFilterClick:(e,t,n)=>{const s={};O&&(s.entered_query=O),p({event_type:101,view_type:2,view_parameter:103,component:35,element:104,aux_data:{autocomplete_type:"query",result_index:t,...s}});const o=Q({suggestion:e,query:O,lastFocusTime:pe,filterSelectedTerm:n});m.push(o)},onMouseEnter:()=>de(!0),onMouseLeave:()=>de(!1),onSuggestionClick:je,onSuggestionGroupsUpdate:$,onSuggestionHovered:e=>X(e),onSyopCtaClick:Ie,query:O,scope:q,searchBoxHeight:P.XI+4,suggestionGroups:W,width:De})});return(0,E.jsx)(i.xu,{flex:"grow",id:"searchBoxContainer",minWidth:h&&"shrink"!==h?P.ht[h]:void 0,paddingX:2,children:(0,E.jsxs)(i.xu,{color:ae?void 0:"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:ae?"#E1E1E1":void 0}},display:"flex",height:P.XI,rounding:6,children:[(0,E.jsxs)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{padding:C?`0 16px 0 ${Le}`:`0 ${Le} 0 16px`,...me?{borderRadius:"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{}}},display:"flex",flex:"grow",height:"100%",onMouseEnter:()=>{le(!0)},onMouseLeave:()=>{le(!1)},position:"relative",children:[!(F||ie)&&(0,E.jsx)(i.xu,{flex:"none",marginEnd:2,children:(0,E.jsx)(i.JO,{accessibilityLabel:_.bt("Search icon", "Search icon", "searchBox.searchIcon.accessibilityLabel", undefined, true),icon:"search",size:16})}),k&&(0,E.jsx)(N,{handleClearMode:()=>{F===D?m.push(`/search/pins/?q=${D}`):G(w.lw.PINS)},scope:q}),(0,E.jsx)(f.Z,{dataTestId:"search-box-input",focusOptionId:Re,isFocused:me,name:"searchBoxInput",onBlur:function(){re(!1)},onChange:function(e){M(e),ge()},onFocus:function(){_e(Date.now()),p({event_type:101,component:43,element:227}),re(!0)},onKeyDown:e=>{switch(e.keyCode){case c.Z.ENTER:{const t=ne(W,K);me&&t&&e.preventDefault(),t&&se?(je(t,t.resultIndex||0,!0),oe(!1)):Te();break}case c.Z.ESCAPE:me&&e.preventDefault(),e.stopPropagation(),re(!1),de(!1);break;case c.Z.UP:me&&e.preventDefault();const[t,n]=function(e,t){const n=e.map((e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0})).reduce(((e,t)=>e+t),0);let s;return s=null==t?n-1:0===t?void 0:t-1,[s,ne(e,s)]}(W,K);X(t),oe(!0),B(n);break;case c.Z.DOWN:{me&&e.preventDefault();const[t,n]=function(e,t){const n=e.map((e=>{var t;return null!==(t=e.items.length)&&void 0!==t?t:0})).reduce(((e,t)=>e+t),0);let s;return s=null==t?0:t===n-1?void 0:t+1,[s,ne(e,s)]}(W,K);X(t),oe(!0),B(n);break}case c.Z.TAB:Ce&&!O&&me&&(e.preventDefault(),e.stopPropagation(),M(Ce))}},onSearchTrigger:Te,placeholder:Pe,value:F}),F||n&&Ze||me?(0,E.jsx)(i.xu,{flex:"none",marginStart:3,children:(0,E.jsx)(S.Z,{id:"search-cancel",children:(0,E.jsx)(i.hU,{accessibilityLabel:_.bt("Remove search input", "Remove search input", "searchBox.removeSearchInput.accessibilityLabel", undefined, true),icon:D?"cancel":"clear",iconColor:"darkGray",onClick:()=>{if(M(""),G(w.lw.PINS),ge(),D){const e=(0,v.Z)({query:"",rs:"remove"});m.push(e)}else n&&e&&e(!0)},size:D?"sm":"lg"})})}):null,me&&Oe]}),Ze?(0,E.jsxs)(s.Fragment,{children:[(0,E.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,E.jsx)(T,{currentlySelectedFilter:q,currentQuery:D,handleContentTypeFilterHover:()=>{n&&he(ue)},handleScopeChange:function(e){G(e),re(n&&!O),ge()}})]}):null]})})}function rt(e){return(0,E.jsx)(W,{children:(0,E.jsx)(it,{...e})})}},21784:(e,t,n)=>{n.d(t,{Ag:()=>p,Fj:()=>d,Gh:()=>v,H2:()=>f,Ie:()=>b,KH:()=>y,Lo:()=>i,Ny:()=>g,P$:()=>u,TD:()=>m,Ub:()=>_,XI:()=>s,YO:()=>x,a3:()=>l,ht:()=>r,le:()=>c,r5:()=>o,sA:()=>a,yY:()=>h});const s=48,o=8,i=4,r={md:407,sm:332},a=7,l=["pin.description","pin.id","pin.images[236x]"],c=360,d=76,u=5,h=7.5,p=40,_=24,g=192,m=7,x=116,f={__style:{backgroundColor:"rgba(0,0,0, .4)"}},v=90,y={AUTOCOMPLETE:0,SEARCH_TRENDING_TEXT:2,SEARCH_IDEAS_FOR_YOU:3},b=2},177314:(e,t,n)=>{n.d(t,{A:()=>a,N:()=>l});var s=n(667294),o=n(946689),i=n(785893);const{Provider:r,useHook:a}=(0,o.Z)("ModeIcon");function l({children:e,value:t={modeIcon:null}}){const[n,o]=(0,s.useState)(t),a=(0,s.useMemo)((()=>({searchContext:n,updateSearchContext:o})),[n,o]);return(0,i.jsx)(r,{value:a,children:e})}},224403:(e,t,n)=>{n.d(t,{Z:()=>r,b:()=>a});var s=n(667294);const o=(0,s.createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{}});var i=n(785893);function r({children:e}){const[t,n]=(0,s.useState)(null),[r,a]=(0,s.useState)(null),[l,c]=(0,s.useState)(!1),d=(0,s.useMemo)((()=>({inboxButton:t,setInboxButton:n,profileInboxButton:r,setProfileInboxButton:a,isUnblockToast:l,setIsUnblockToast:c})),[t,r,l]);return(0,i.jsx)(o.Provider,{value:d,children:e})}function a(){const e=(0,s.useContext)(o);if(void 0===e)throw new Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},60268:(e,t,n)=>{n.d(t,{AI:()=>B,AM:()=>b,AY:()=>G,C:()=>Y,Cc:()=>l,DX:()=>k,GO:()=>M,HJ:()=>r,Hj:()=>h,I2:()=>H,IV:()=>o,J0:()=>x,LL:()=>$,OBJECT_TYPE:()=>s,P:()=>P,P3:()=>m,QX:()=>K,Rd:()=>A,So:()=>v,V$:()=>d,WC:()=>I,ZH:()=>L,aE:()=>g,c4:()=>C,cU:()=>E,ci:()=>j,di:()=>F,f_:()=>u,gb:()=>V,gs:()=>O,hf:()=>N,hp:()=>z,hy:()=>i,iJ:()=>p,ie:()=>f,kJ:()=>q,kc:()=>S,mM:()=>T,os:()=>c,qZ:()=>w,qb:()=>y,ti:()=>W,uW:()=>D,uZ:()=>a,wA:()=>_,yc:()=>Z,ys:()=>U,zM:()=>R});const s={BOARD:"board",DID_IT:"userdiditdata",INTEREST:"interest",PIN:"pin",SEARCH:"news_hub_search",STORY:"story",USER:"user"},o=3,i=360,r=375,a=64,l=36,c=36,d=344,u=328,h=8,p=156,_=164,g=328,m=164,x=108.7,f=3,v=82,y=82,b=164,w=164,S=4,A=164,P=164,C=2,E=82,I=164,j=2,T=2,k=4,R=328,Z="290x",L="170x",D={backgroundColor:"rgba(0, 0, 0, 0.4)"},O=4,M="1px",z=48,B=32,N=36,F="136x136",H=2,U=4,q=118,G=236,V={BASIC:0,TEXT:1,ROW_WITH_COUNT:2,MINI_PIN_GRID:4,ROW_WITH_COUNT_2:10,MINI_PIN_GRID_2:11,MINI_BOARD_GRID:12,MINI_USER_GRID:13,MINI_SEARCH_GRID:14,MINI_INTEREST_GRID:15,MINI_BOARD_GRID_WITH_ICON:18},W=e=>"31"==`${String(e)}`,$="recommendation",Y="dropdown_item_settings_id",K=10},733251:(e,t,n)=>{n.d(t,{Z:()=>l});var s=n(883119),o=n(203601),i=n(785893);const r=4;function a(e,t){return t?"primary":e?"tertiary":void 0}function l({colors:e,isSelected:t,onClick:n}){const l=56+2*r,c=84+2*r;return(0,i.jsx)(o.q,{children:({hovered:o,onMouseEnter:d,onMouseLeave:u})=>(0,i.jsx)(s.kC,{alignItems:"center",height:l,justifyContent:"start",children:(0,i.jsx)(s.iP,{mouseCursor:"pointer",onMouseEnter:d,onMouseLeave:u,onTap:n,rounding:"pill",children:(0,i.jsx)(s.xu,{alignItems:"center",color:a(o,t),display:"flex",height:l,justifyContent:"center",rounding:"pill",width:c,children:(0,i.jsx)(s.xu,{alignItems:"center",color:"default",display:"flex",height:l-r,justifyContent:"center",rounding:"pill",width:c-r,children:(0,i.jsx)(s.xu,{display:"flex",height:56,overflow:"hidden",rounding:"pill",width:84,wrap:!0,children:e.map(((e,t)=>(0,i.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:28,width:42},`${e}-${t}`)))})})})})})})}},895499:(e,t,n)=>{n.d(t,{W:()=>d,Z:()=>h});var s=n(667294),o=n(883119),i=n(545168),r=n(931694),a=n(434012),l=n(733251),c=n(785893);const d=[["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],["#DEBAB0","#E0999A","#DDA67C","#D98A64"],["#9A6B52","#A25847","#B37143","#BF6951"],["#683929","#34261F","#64281B","#4F2221"]],u=[{display:"Range 1",swatch_hex_colors:["#F0E3DC","#F8D7D8","#F2D7BE","#F7C3AF"],term:"skin_color_bucket_id:1"},{display:"Range 2",swatch_hex_colors:["#DEBAB0","#E0999A","#DDA67C","#D98A64"],term:"skin_color_bucket_id:2"},{display:"Range 3",swatch_hex_colors:["#9A6B52","#A25847","#B37143","#BF6951"],term:"skin_color_bucket_id:3"},{display:"Range 4",swatch_hex_colors:["#683929","#34261F","#64281B","#4F2221"],term:"skin_color_bucket_id:4"}];function h({currentlyAppliedFiltersParamTerm:e,filterTones:t=u,onClickApplyFilters:n,query:h,showHeaderText:p=!0}){const{logContextEvent:_}=(0,i.v)(),g=(0,a.ZP)(),m=(0,s.useRef)(null),x=(0,s.useRef)(null),f=e?g.bt("Some ideas in this skin tone range", "Some ideas in this skin tone range", "SkinToneFilters.copy.termSelected", undefined, true):g.bt("Pick a skin tone range", "Pick a skin tone range", "SkinToneFilters.copy.noTermSelected", undefined, true);return(0,c.jsxs)(s.Fragment,{children:[(0,c.jsxs)(o.kC,{alignItems:p?"center":"start",direction:"column",justifyContent:"start",children:[p&&(0,c.jsx)(o.xu,{marginBottom:2,children:(0,c.jsx)(o.xv,{color:"default",overflow:"normal",weight:"bold",children:f})}),(0,c.jsx)(o.xu,{display:"flex",flex:"none",paddingX:1,ref:m,children:t.map((({term:t},s)=>(0,c.jsx)(o.xu,{"data-test-id":"skin-tone-option",dangerouslySetInlineStyle:{__style:{padding:"0 2px"}},children:(0,c.jsx)(l.Z,{colors:d[s],isSelected:e===t,onClick:()=>(t=>{var s;const o=e===t?"":t;_({event_type:101,component:47,element:10418,view_type:2,aux_data:{entered_query:h,filter_type:"skin_tone",value:o}}),null===(s=x.current)||void 0===s||s.complete(),n(o)})(t)})},t)))})]}),m&&(0,c.jsx)(r.Z,{anchor:m.current,experienceIds:[502978],idealDirection:"right",onExperienceMount:e=>{e.complete&&502978===e.experience_id&&(x.current=e)},placementId:29})]})}},95969:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(835686),o=n(578662);function i(){const{checkExperiment:e}=(0,s.F)(),t=(0,o.Z)();return Boolean(t.isPartner)&&e("aid_exp_ia_navigation_update_search").anyEnabled}},608616:(e,t,n)=>{n.d(t,{Z:()=>c});var s=n(667294),o=n(233423),i=n(752491);const r=5e3,a=2e3,l=9e5;function c(){const e=(0,s.useRef)(0),t=(0,s.useRef)(null),n=(0,o.Z)({name:"NewsHubBadgeResource",noCache:!0,headers:{"X-Pinterest-AppState":"background"}}),c=(0,o.Z)({name:"ConversationsResource",noCache:!0}),{conversations:{unread:d}}=(0,i.Z5)();function u(){t.current&&clearTimeout(t.current),n.refresh(),t.current=setTimeout(u,a+e.current),e.current=Math.min(2*(e.current||r),l)}return(0,s.useEffect)((()=>(u(),function(){t.current&&clearTimeout(t.current)})),[]),(0,s.useEffect)((()=>c.refresh()),[d]),null}},434739:(e,t,n)=>{n.d(t,{Z:()=>X});var s=n(667294),o=n(578662),i=n(616550),r=n(883119),a=n(483240),l=n(434012),c=n(898960),d=n(935057),u=n(752491);const h={NEWS_HUB:1,INBOX:2};var p=n(809280),_=n(193838),g=n(785893);function m({badgeCount:e=0,icon:t="speech-ellipsis",onClick:n,selected:s=!1}){const o=(0,l.ZP)(),i={bell:o.bt("Notifications", "Notifications", " - ", undefined, true),"speech-ellipsis":o.bt("Messages", "Messages", " - ", undefined, true)};return(0,g.jsx)(_.Z,{accessibilityLabel:i[t],contextData:{event:101,component:8,element:1187},icon:(0,g.jsx)(p.Z,{count:e,accessibilityLabel:"",color:s?"default":"subtle",icon:t,iconSize:24}),onClick:n,text:i[t],type:"button"},"NotificationsButton")}var x=n(60268),f=n(39005),v=n(463293);const y=()=>n.e(9013).then(n.bind(n,409013)),b=(0,s.lazy)(y);function w({onClearBadges:e}){const t=(0,l.ZP)(),n=(0,i.useLocation)(),o=(0,s.useRef)(null),[p,_]=(0,s.useState)(!1),[w,S]=(0,s.useState)(!1),[A,P]=(0,s.useState)(!1),[C,E]=(0,s.useState)(!1),{tab:I,utm_source:j,news_hub_id:T}=(0,d.mB)(n.search),k=j||null,R=T||null,{conversations:{conversationsUnseenCount:Z,newsHubCount:L}}=(0,u.Z5)(),D=e=>{const n=Math.max(e,0),s=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${s}`:s};(0,s.useEffect)((()=>{D(Z+L),n.pathname.startsWith("/notifications")&&"inbox"!==I&&_(!0)}),[Z,L]);const O=(0,x.ti)(k),M=()=>{_(!p),e(h.NEWS_HUB),D(0)};return(0,s.useEffect)((()=>{const e=setTimeout((()=>{S(p),P(p)}),100);return()=>clearTimeout(e)}),[p]),(0,g.jsxs)(s.Fragment,{children:[O?(0,g.jsx)(r.xu,{children:(0,g.jsx)(r.xu,{onMouseEnter:y,position:"relative",ref:o,children:(0,g.jsx)(m,{badgeCount:L,onClick:M,icon:"bell",selected:p})})}):(0,g.jsx)(r.xu,{onMouseEnter:y,position:"relative",ref:o,children:(0,g.jsx)(r.u,{accessibilityLabel:"",text:t.bt("Notifications", "Notifications", "navbar.newsButton.tooltip", undefined, true),zIndex:new r.H3([new r.Ry(f.fe)]),children:(0,g.jsx)(m,{badgeCount:L,onClick:M,icon:"bell",selected:p})})}),(0,g.jsx)(v.Jo,{children:(0,g.jsx)("div",{className:"newsHubSidebarWrapper",style:p?{opacity:1,visibility:"visible",transition:"opacity 100ms linear"}:{opacity:0,visibility:"hidden",transition:"visibility 0s 100ms, opacity 100ms linear"},children:w&&(0,g.jsx)(a.Z,{name:"SafeSuspense_AuthNewsButton_NewsHubSidebar",children:(0,g.jsx)(c.Z,{children:(0,g.jsx)(b,{newsButton:o.current,handleDismissPanel:()=>{_(!1),E(!1)},show:A,highlightScrollSidebar:C,utmNewsHubId:R})})})})})]})}var S,A=n(167912),P=n(904062),C=n(899006),E=n(835686),I=n(233423),j=n(549622);const T=(0,C.Z)(j.Z);class k extends s.Component{constructor(...e){var t,n,s;super(...e),s=e=>{e===h.NEWS_HUB?(P.Z.create("NewsHubBadgeResource").callDelete({showError:!1}),this.props.updateNewsHubCount(0)):(this.props.conversationBadgeCall(),this.props.updateUnreadCount(0))},(n="handleClearBadges")in(t=this)?Object.defineProperty(t,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[n]=s}shouldComponentUpdate(e){if(!this.props.badgeResource||!e.badgeResource)return!1;const t=this.props.badgeResource.data,n=e.badgeResource.data;return t&&n?!!["conversations_unseen_count","news_hub_count"].map((e=>t[e]!==n[e])).filter(Boolean).length:!(t||!n)}componentDidUpdate(){const{badgeResource:e,updateNewsHubCount:t,updateUnreadCount:n}=this.props;if(!e||!e.data)return;const s=T(e.data);n(s.conversationsUnseenCount),t(s.newsHubCount)}render(){const{children:e}=this.props;return e({onClearBadges:this.handleClearBadges})}}function R({conversationBadgeCall:e,children:t}){const{checkExperiment:n}=(0,E.F)(),{anyEnabled:s}=n("web_unread_conversation_badging_gate",{dangerouslySkipActivation:!0}),o=(0,I.Z)({name:"NewsHubBadgeResource",noCache:!0}),{conversations:{conversationsUnseenCount:i,newsHubCount:r},updateNewsHubCount:a,updateUnreadCount:l}=(0,u.Z5)();return(0,g.jsx)(k,{badgeResource:o,conversationsUnseenCount:i,newsHubCount:r,shouldPersistConversationBadge:s,updateNewsHubCount:a,updateUnreadCount:l,conversationBadgeCall:e,children:t})}const Z=()=>{const e=void 0!==S?S:S=n(100634),[t]=(0,A.useMutation)(e);return async()=>await new Promise(((e,n)=>{t({variables:{},onCompleted:(t,s)=>{s&&n(s[0]),e(t)},onError:e=>n(e)})}))};function L({children:e}){return(0,g.jsx)(R,{conversationBadgeCall:Z(),children:e})}function D({icon:e,children:t}){const[n,o]=(0,s.useState)(!1);return(0,s.useEffect)((()=>{o(!0)}),[]),n?(0,g.jsx)(L,{children:t}):(0,g.jsx)(r.xu,{paddingX:1,children:(0,g.jsx)(r.kC,{alignItems:"center",height:48,justifyContent:"center",width:48,children:(0,g.jsx)(r.JO,{color:"subtle",icon:e,size:24,accessibilityLabel:""})})})}function O(){return(0,g.jsx)(D,{icon:"bell",children:({onClearBadges:e})=>(0,g.jsx)(w,{onClearBadges:e})})}var M=n(281105),z=n(593954),B=n(708798),N=n(224403),F=n(658342),H=n(898524);const U=7e3;function q({onHide:e,lastConversation:t}){const{dropdownOpen:n,conversationOpen:s}=(0,u.Z5)(),o=(0,l.ZP)();if(!(e&&t&&t.last_message&&t.last_message.sender))return;const{sender:i}=t.last_message,a=i.first_name?i.first_name:i.username,c=(0,g.jsx)(F.qE,{size:"sm",name:a||"Someone",src:i.image_large_url}),d=t.last_message.pin?o.bt("sent you a Pin.", "sent you a Pin!", "navbar.messageNotifications.text", undefined, true):o.bt("sent you a message.", "sent you a message!", "navbar.messageNotifications.text", undefined, true),h=(0,g.jsxs)(r.xv,{color:"light",inline:!0,children:[" ",(0,g.jsxs)(r.xv,{weight:"bold",color:"light",inline:!0,children:[a," "]}),d]});return(0,g.jsx)(r.kC,{alignContent:"center",alignItems:"stretch",justifyContent:"start",children:(0,g.jsx)(r.iP,{onTap:()=>{e(),n(),s(t.id)},fullWidth:!0,children:(0,g.jsx)(H.ZP,{onHide:e,duration:U,primaryAction:{accessibilityLabel:"Open chat",label:"View"},thumbnail:{avatar:c},text:h})})})}function G({anchor:e,lastConversation:t}){const{dropdownOpen:n,conversationOpen:s}=(0,u.Z5)(),o=(0,l.ZP)();if(!t||!t.unread)return null;const i=t.last_message;if(!i||!i.sender||Date.now()-i.created_ms>U)return null;const{sender:a}=i,c=a.first_name?a.first_name:a.username,d=(0,g.jsx)(F.qE,{size:"sm",name:c||"Someone",src:a.image_large_url}),h=i.pin?o.bt("sent you a Pin.", "sent you a Pin!", "navbar.messageNotifications.text", undefined, true):o.bt("sent you a message.", "sent you a message!", "navbar.messageNotifications.text", undefined, true),p=(0,g.jsxs)(r.xv,{color:"light",inline:!0,children:[" ",(0,g.jsxs)(r.xv,{weight:"bold",color:"light",inline:!0,children:[c," "]}),h]}),_=new r.Ry(1e3);return(0,g.jsx)(r.mh,{zIndex:new r.H3([_]),children:(0,g.jsx)(r.iP,{onFocus:()=>{n(),s(t.id)},children:(0,g.jsx)(r.xu,{marginTop:0,display:"flex",alignContent:"center",position:"fixed",children:(0,g.jsx)(r.Li,{accessibilityLabel:"New message notification",onDismiss:()=>{},anchor:e,idealDirection:"down",size:"flexible",role:"tooltip",children:(0,g.jsxs)(r.xu,{padding:2,alignItems:"center",display:"flex",direction:"row",width:310,alignContent:"center",children:[(0,g.jsx)(r.xu,{padding:2,children:d}),(0,g.jsxs)(r.xu,{display:"flex",direction:"row",padding:2,children:[p,(0,g.jsx)(r.zx,{text:"View"})]})]})})})})})}var V=n(861834);function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class $ extends s.Component{constructor(...e){super(...e),W(this,"setButtonRef",(e=>{const{setInboxButton:t}=this.props;this.anchor||(this.anchor=e,t(e))})),W(this,"clearBadges",(()=>{const{onClearBadges:e}=this.props;e(h.INBOX),this.updateBrowserTabTitleCount(0)})),W(this,"handleButtonClick",(e=>{const{requireAuth:t,showPanel:n,closeConversationsDropdown:s,openConversationsDropdown:o}=this.props;if(t)return e&&e.stopEventPropagation(),void t();n?s():o(),this.clearBadges(),this.onComplete&&this.onComplete()}))}componentDidMount(){this.setBrowserTabTitleCountFromProps()}componentDidUpdate(e){var t,n;const{messageNotificationType:s,lastConversation:o}=this.props;if("enabled_toast"===s&&o&&o.unread>0&&e.lastConversation&&(null===(t=o.last_message)||void 0===t?void 0:t.id)!==(null===(n=e.lastConversation.last_message)||void 0===n?void 0:n.id)){const e=o.last_message?o.last_message.created_ms:0;Date.now()-e<7e3&&this.props.handleMessageToast()}this.setBrowserTabTitleCountFromProps()}setBrowserTabTitleCountFromProps(){const{conversationsUnseenCount:e,newsHubCount:t}=this.props;this.updateBrowserTabTitleCount(e+t)}updateBrowserTabTitleCount(e){const{i18n:t}=this.props,n=Math.max(e,0),s=t.bt("Pinterest", "Pinterest", " - ", undefined, true);window.document.title=n?`(${n}) ${s}`:s}render(){const{conversationsUnseenCount:e,i18n:t,showPanel:n,lastConversation:s,messageNotificationType:o}=this.props;return(0,g.jsxs)(r.xu,{position:"relative",ref:this.setButtonRef,children:[(0,g.jsx)(r.u,{accessibilityLabel:"",text:t.bt("Messages", "Messages", "navbar.conversationsButton.tooltip", undefined, true),zIndex:new r.H3([new r.Ry(f.fe)]),children:(0,g.jsx)(z.Z,{id:"notifications-button",children:(0,g.jsx)(m,{badgeCount:e,onClick:this.handleButtonClick,icon:"speech-ellipsis",selected:n})})}),o&&(0,g.jsx)(V.Z,{name:"ConversationsResource",options:{field_set_key:"default"},delay:7e3}),"enabled_popup"===o&&(0,g.jsx)(G,{anchor:this.anchor,lastConversation:s})]})}}function Y(e){const t=(0,l.ZP)(),n=(0,M.Z)(),{conversations:{conversationsUnseenCount:s,newsHubCount:o,showConversationsDropdown:i},dropdownClose:r,dropdownOpen:a}=(0,u.Z5)(),{checkExperiment:c}=(0,E.F)(),{setInboxButton:d}=(0,N.b)(),h=(0,u.iu)(),p=h?h[0]:null,_=!i&&p&&c("web_message_notifications").group,{showOneToast:m}=(0,B.F9)();return(0,g.jsx)($,{...e,handleMessageToast:()=>{p&&p.unread>0&&"enabled_toast"===_&&m((({hideToast:e})=>(0,g.jsx)(q,{lastConversation:p,onHide:e})))},messageNotificationType:"enabled_popup"===_||"enabled_toast"===_?_:null,lastConversation:p,closeConversationsDropdown:r,conversationsUnseenCount:s,i18n:t,newsHubCount:o,openConversationsDropdown:a,requireAuth:n,setInboxButton:d,showPanel:i})}function K(){return(0,g.jsx)(D,{icon:"speech-ellipsis",children:({onClearBadges:e})=>(0,g.jsx)(Y,{onClearBadges:e})})}function X(){const{should_show_messaging:e}=(0,o.Z)();return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(O,{}),e&&(0,g.jsx)(K,{})]})}},222361:(e,t,n)=>{n.d(t,{p:()=>s});const s=(e,t,n)=>({type:"MOST_RECENT_BOARD",payload:{id:e,name:t,url:n}})},603586:(e,t,n)=>{n.d(t,{Cp:()=>p,GT:()=>l,V6:()=>r,W2:()=>d,W6:()=>_,_L:()=>h,fm:()=>a,hT:()=>c});var s=n(904062),o=n(950114),i=n(53019);function r(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}const a=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),l=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function c(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}const d=(e,t,n)=>s=>{s({type:"USER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})},u=e=>{const t=e.split(" ");return{first_name:t[0],last_name:t[1]}},h=({field:e,value:t,passcode:n,onSettingSavedHn:o,showErrorHn:r,surfaceTag:a,userId:l})=>(c,h)=>{const p=h().users[l],_={user_id:l,surface_tag:a};if("full_name"===e)if(p.is_partner)_.business_name=t;else{const e=u(t);_.first_name=e.first_name,_.last_name=e.last_name||""}else _[e]=t;n&&(_.passcode=n),s.Z.create("UserSettingsResource",_).callUpdate().then((()=>{if("profile_image_url"===e)c((0,i.b)("UserResource",{options:_}));else if("full_name"===e)if(p.is_partner)c(d(l,"first_name",t));else{const e=u(t);c(d(l,"first_name",e.first_name)),c(d(l,"last_name",e.last_name))}!p.is_partner||"account_type"!==e&&"contact_name"!==e?c(d(l,e,t)):c(((e,t,n)=>s=>{s({type:"USER_PARTNER_SETTING_CHANGE",payload:{id:e,field:t,value:n}})})(l,e,t)),o()}),r)},p=(e,t,n,s,i,r)=>()=>{(0,o.Z)({new:t,new_confirm:n,old:e,passcode:s}).then(i,r)},_=(e,t,n,o,i,r)=>a=>{a(d(e,`${t}.${n}`,o));let l={},c="EmailSettingsResource";void 0!==i?(l={section:t,option:n,value:o,od:i.od,user_id:i.user_id},c="UnsubEmailSettingsResource"):l={section:t,option:n,value:o},s.Z.create(c,l).callUpdate().then(r).catch((()=>a(d(e,`${t}.${n}`,!o))))}},117903:(e,t,n)=>{n.d(t,{Z:()=>s});const s=(0,n(667294).createContext)(!1)},74537:(e,t,n)=>{n.d(t,{Z:()=>i});var s=n(667294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class i extends s.Component{constructor(...e){super(...e),o(this,"stop",(()=>{this.interval&&(clearInterval(this.interval),delete this.interval)})),o(this,"interval",null)}componentDidMount(){const{cb:e,delay:t}=this.props;this.interval=setInterval(e,t)}componentWillUnmount(){this.stop()}render(){return null}}},356025:(e,t,n)=>{n.d(t,{Z:()=>u});var s=n(667294),o=n(702664),i=n(499917),r=n(53019),a=n(134220),l=n(785893);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class d extends s.Component{constructor(...e){super(...e),c(this,"fetch",(()=>{const{dispatch:e,name:t,options:n}=this.props;e((0,r.U)(t,{options:n}))})),c(this,"fetchMore",(()=>{const{dispatch:e,name:t,nextBookmark:n,options:s}=this.props;n&&e((0,r.U)(t,{options:s,bookmark:n}))}))}componentDidMount(){const{allowStale:e=!0,data:t}=this.props;e&&t||this.fetch()}componentWillUnmount(){this.interval&&(clearInterval(this.interval),delete this.interval)}render(){const{children:e,data:t,isAtEnd:n,isFetching:s}=this.props;return e?e({refresh:this.fetch,loadMore:this.fetchMore,data:t,isAtEnd:n,isFetching:s}):null}}function u(e){const t=(0,i.Z)(e.options||{}),n=(0,o.useSelector)((n=>{var s;return n.resources&&n.resources[e.name]&&(null===(s=n.resources[e.name][t])||void 0===s?void 0:s.fetching)||!1})),s=(0,o.useSelector)((n=>n.resources&&n.resources[e.name]&&n.resources[e.name][t]?n.resources[e.name][t].data:null)),r=(0,o.useSelector)((n=>{var s;return n.resources&&n.resources[e.name]&&(null===(s=n.resources[e.name][t])||void 0===s?void 0:s.nextBookmark)})),c=(0,o.useSelector)((n=>!!(n.resources&&n.resources[e.name]&&n.resources[e.name][t])&&r===a.q)),u=(0,o.useDispatch)();return(0,l.jsx)(d,{...e,isFetching:n,data:s,nextBookmark:r,isAtEnd:c,dispatch:u})}},861834:(e,t,n)=>{n.d(t,{Z:()=>r});var s=n(74537),o=n(356025),i=n(785893);function r(e){const{name:t,options:n,delay:r}=e;return(0,i.jsx)(o.Z,{name:t,options:n,allowStale:!1,children:({refresh:e})=>(0,i.jsx)(s.Z,{cb:e,delay:r})})}},991487:(e,t,n)=>{function s(e,t){return t?`${e}?${new URLSearchParams(t).toString()}`:e}function o(e){return s("/admin/",e)}function i(e){return s("/admin/oauth/logout/",e)}function r(e){return s("/today/",e)}n.d(t,{HF:()=>o,Kn:()=>i,tG:()=>r})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopPageWrapper.en_IN-008be84f8e32d2aa.mjs.map